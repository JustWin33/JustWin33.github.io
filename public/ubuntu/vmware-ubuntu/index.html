<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="VMware Ubuntu\n1、安装粘贴复制功能\n1 2 3 4 sudo apt install -y open-vm-tools open-vm-tools-desktop #强制重启虚拟机（必须） sudo reboot 2、启动SSH服务（Xshell7）\n1 2 3 4 5 6 7 8 9 10 11 12 # 1. 安装SSH服务 sudo apt update sudo apt install -y openssh-server # 2. 启动服务（Ubuntu服务名为ssh） sudo systemctl enable --now ssh # 3. 验证安装 sudo systemctl status ssh --no-pager sudo ss -tuln | grep :22 预期输出： tcp 0 0 0.0.00:22 0.0.0.0:* LISTEN 3、设置root密码\n"><title>Ubuntu</title><link rel=canonical href=http://localhost:1313/ubuntu/vmware-ubuntu/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content="Ubuntu"><meta property='og:description' content="VMware Ubuntu\n1、安装粘贴复制功能\n1 2 3 4 sudo apt install -y open-vm-tools open-vm-tools-desktop #强制重启虚拟机（必须） sudo reboot 2、启动SSH服务（Xshell7）\n1 2 3 4 5 6 7 8 9 10 11 12 # 1. 安装SSH服务 sudo apt update sudo apt install -y openssh-server # 2. 启动服务（Ubuntu服务名为ssh） sudo systemctl enable --now ssh # 3. 验证安装 sudo systemctl status ssh --no-pager sudo ss -tuln | grep :22 预期输出： tcp 0 0 0.0.00:22 0.0.0.0:* LISTEN 3、设置root密码\n"><meta property='og:url' content='http://localhost:1313/ubuntu/vmware-ubuntu/'><meta property='og:site_name' content='JustWin'><meta property='og:type' content='article'><meta property='article:section' content='Ubuntu'><meta property='article:published_time' content='2025-12-04T00:00:00+00:00'><meta property='article:modified_time' content='2025-12-04T00:00:00+00:00'><meta property='og:image' content='http://localhost:1313/'><meta name=twitter:title content="Ubuntu"><meta name=twitter:description content="VMware Ubuntu\n1、安装粘贴复制功能\n1 2 3 4 sudo apt install -y open-vm-tools open-vm-tools-desktop #强制重启虚拟机（必须） sudo reboot 2、启动SSH服务（Xshell7）\n1 2 3 4 5 6 7 8 9 10 11 12 # 1. 安装SSH服务 sudo apt update sudo apt install -y openssh-server # 2. 启动服务（Ubuntu服务名为ssh） sudo systemctl enable --now ssh # 3. 验证安装 sudo systemctl status ssh --no-pager sudo ss -tuln | grep :22 预期输出： tcp 0 0 0.0.00:22 0.0.0.0:* LISTEN 3、设置root密码\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='http://localhost:1313/'><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"light")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/images/avatar_hu_89ca753ea8ea85c7.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>✍️</span></figure><div class=site-meta><h1 class=site-name><a href=/>JustWin</a></h1><h2 class=site-description>分享技术与生活</h2></div></header><ol class=menu-social><li><a href=https://github.com/passion-win target=_blank title=GitHub rel=me><svg width="800" height="800" viewBox="0 0 20 20" xmlns:xlink="http://www.w3.org/1999/xlink"><title>github [#142]</title><desc>Created with Sketch.</desc><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)" fill="#000"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M94 7399C99.523 7399 104 7403.59 104 7409.253 104 7413.782 101.138 7417.624 97.167 7418.981 96.66 7419.082 96.48 7418.762 96.48 7418.489 96.48 7418.151 96.492 7417.047 96.492 7415.675 96.492 7414.719 96.172 7414.095 95.813 7413.777 98.04 7413.523 100.38 7412.656 100.38 7408.718 100.38 7407.598 99.992 7406.684 99.35 7405.966 99.454 7405.707 99.797 7404.664 99.252 7403.252 99.252 7403.252 98.414 7402.977 96.505 7404.303 95.706 7404.076 94.85 7403.962 94 7403.958 93.15 7403.962 92.295 7404.076 91.497 7404.303 89.586 7402.977 88.746 7403.252 88.746 7403.252 88.203 7404.664 88.546 7405.707 88.649 7405.966 88.01 7406.684 87.619 7407.598 87.619 7408.718 87.619 7412.646 89.954 7413.526 92.175 7413.785 91.889 7414.041 91.63 7414.493 91.54 7415.156 90.97 7415.418 89.522 7415.871 88.63 7414.304 88.63 7414.304 88.101 7413.319 87.097 7413.247 87.097 7413.247 86.122 7413.234 87.029 7413.87 87.029 7413.87 87.684 7414.185 88.139 7415.37 88.139 7415.37 88.726 7417.2 91.508 7416.58 91.513 7417.437 91.522 7418.245 91.522 7418.489 91.522 7418.76 91.338 7419.077 90.839 7418.982 86.865 7417.627 84 7413.783 84 7409.253 84 7403.59 88.478 7399 94 7399" id="github-[#142]"/></g></g></g></svg></a></li><li><a href=https://t.me/+TFjBeZzowwU1YTY1 target=_blank title=telegram rel=me><svg viewBox="0 0 640 640"><path d="M320 72C183 72 72 183 72 320S183 568 320 568 568 457 568 320 457 72 320 72zM435 240.7C431.3 279.9 415.1 375.1 406.9 419c-3.5 18.6-10.3 24.8-16.9 25.4C375.6 445.7 364.7 434.9 350.7 425.7c-21.8-14.3-34.2-23.2-55.3-37.2C270.9 372.4 286.8 363.5 300.7 349 304.4 345.2 367.8 287.5 369 282.3 369.2 281.6 369.3 279.2 367.8 277.9 366.3 276.6 364.2 277.1 362.7 277.4 360.5 277.9 325.6 300.9 258.1 346.5 248.2 353.3 239.2 356.6 231.2 356.4 222.3 356.2 205.3 351.4 192.6 347.3 177.1 342.3 164.7 339.6 165.8 331 166.4 326.5 172.5 322 184.2 317.3 256.5 285.8 304.7 265 328.8 255c68.9-28.6 83.2-33.6 92.5-33.8C423.4 221.2 427.9 221.7 430.9 224.1 432.9 225.8 434.1 228.2 434.4 230.8 434.9 234 435 237.3 434.8 240.6z"/></svg></a></li><li><a href=https://twitter.com/@win1688888888 target=_blank title=twitter rel=me><svg width="800" height="800" viewBox="0 -2 20 20" xmlns:xlink="http://www.w3.org/1999/xlink"><title>twitter [#154]</title><desc>Created with Sketch.</desc><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-60.000000, -7521.000000)" fill="#000"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M10.29 7377C17.837 7377 21.965 7370.84365 21.965 7365.50546 21.965 7365.33021 21.965 7365.15595 21.953 7364.98267 22.756 7364.41163 23.449 7363.70276 24 7362.8915 23.252 7363.21837 22.457 7363.433 21.644 7363.52751 22.5 7363.02244 23.141 7362.2289 23.448 7361.2926 22.642 7361.76321 21.761 7362.095 20.842 7362.27321 19.288 7360.64674 16.689 7360.56798 15.036 7362.09796 13.971 7363.08447 13.518 7364.55538 13.849 7365.95835 10.55 7365.79492 7.476 7364.261 5.392 7361.73762 4.303 7363.58363 4.86 7365.94457 6.663 7367.12996 6.01 7367.11125 5.371 7366.93797 4.8 7366.62489V7366.67608C4.801 7368.5989 6.178 7370.2549 8.092 7370.63591 7.488 7370.79836 6.854 7370.82199 6.24 7370.70483 6.777 7372.35099 8.318 7373.47829 10.073 7373.51078 8.62 7374.63513 6.825 7375.24554 4.977 7375.24358 4.651 7375.24259 4.325 7375.22388 4 7375.18549 5.877 7376.37088 8.06 7377 10.29 7376.99705" id="twitter-[#154]"/></g></g></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><span>首页</span></a></li><li><a href=/links/><span>网站</span></a></li><li><a href=/linux/><span>Linux</span></a></li><li><a href=/docker/><span>docker</span></a></li><li><a href=/k8s/><span>k8s</span></a></li><li><a href=/mysql/><span>mysql</span></a></li><li><a href=/project/><span>项目</span></a></li><li><a href=/kali/><span>kali</span></a></li><li><a href=/ubuntu/><span>ubuntu</span></a></li><li><a href=/utility/><span>Utility</span></a></li><li><a href=/about/><span>关于</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=http://localhost:1313/ selected>中文</option><option value=http://localhost:1313/en/>English</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><ol><li><a href=#创建专用运维用户><strong>创建专用运维用户</strong></a></li><li><a href=#4-配置系统时区与ntp>4. <strong>配置系统时区与NTP</strong></a></li></ol></li><li><a href=#phase-2-网络与安全配置20分钟><strong>Phase 2: 网络与安全配置（20分钟）</strong></a><ol><li><a href=#5-配置静态ip企业环境必需>5. <strong>配置静态IP（企业环境必需）</strong></a></li><li><a href=#6-ssh服务加固生产级配置>6. <strong>SSH服务加固（生产级配置）</strong></a></li><li><a href=#7-配置主机名与hosts>7. <strong>配置主机名与hosts</strong></a></li><li><a href=#8-配置防火墙ufw>8. <strong>配置防火墙（UFW）</strong></a></li></ol></li><li><a href=#phase-3-运维核心工具安装20分钟><strong>Phase 3: 运维核心工具安装（20分钟）</strong></a><ol><li><a href=#9-必备命令行工具集>9. <strong>必备命令行工具集</strong></a></li><li><a href=#10-系统监控与性能分析>10. <strong>系统监控与性能分析</strong></a></li><li><a href=#11-docker与容器环境现代运维必备>11. <strong>Docker与容器环境（现代运维必备）</strong></a></li></ol></li><li><a href=#phase-4-系统加固与优化15分钟><strong>Phase 4: 系统加固与优化（15分钟）</strong></a><ol><li><a href=#12-内核参数优化etcsysctlconf>12. <strong>内核参数优化（/etc/sysctl.conf）</strong></a></li><li><a href=#13-limitsconf-配置进程资源限制>13. limits.conf 配置（进程资源限制）</a></li><li><a href=#14-日志轮转优化>14. <strong>日志轮转优化</strong></a></li><li><a href=#15-安装配置fail2ban防暴力破解>15. <strong>安装配置fail2ban（防暴力破解）</strong></a></li></ol></li><li><a href=#phase-5-备份与文档5分钟><strong>Phase 5: 备份与文档（5分钟）</strong></a><ol><li><a href=#16-创建系统快照黄金规则>16. <strong>创建系统快照（黄金规则）</strong></a></li><li><a href=#17-生成配置文档>17. <strong>生成配置文档</strong></a></li></ol></li><li><a href=#运维工程师每日检查清单添加到alias><strong>运维工程师每日检查清单（添加到alias）</strong></a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category></header><div class=article-title-wrapper><h2 class=article-title><a href=/ubuntu/vmware-ubuntu/>Ubuntu</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2025-12-04</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 5 分钟</time></div></footer></div></header><section class=article-content><p>VMware Ubuntu</p><p>1、安装粘贴复制功能</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install -y open-vm-tools open-vm-tools-desktop
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#强制重启虚拟机（必须）</span>
</span></span><span class=line><span class=cl>sudo reboot
</span></span></code></pre></td></tr></table></div></div><p>2、启动SSH服务（Xshell7）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 1. 安装SSH服务</span>
</span></span><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install -y openssh-server
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. 启动服务（Ubuntu服务名为ssh）</span>
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> --now ssh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. 验证安装</span>
</span></span><span class=line><span class=cl>sudo systemctl status ssh --no-pager
</span></span><span class=line><span class=cl>sudo ss -tuln <span class=p>|</span> grep :22
</span></span><span class=line><span class=cl>预期输出：
</span></span><span class=line><span class=cl>tcp <span class=m>0</span> <span class=m>0</span> 0.0.00:22 0.0.0.0:* LISTEN
</span></span></code></pre></td></tr></table></div></div><p>3、设置root密码</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 设置root密码（必须）      8位数</span>
</span></span><span class=line><span class=cl>sudo passwd root                  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 测试root登录</span>
</span></span><span class=line><span class=cl>su -
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 立即禁用root SSH登录（安全规范）  也可以不用管</span>
</span></span><span class=line><span class=cl>sudo sed -i <span class=s1>&#39;s/#PermitRootLogin yes/PermitRootLogin no/&#39;</span> /etc/ssh/sshd_config
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#启动sshd</span>
</span></span><span class=line><span class=cl>sudo systemctl restart sshd
</span></span></code></pre></td></tr></table></div></div><p>4、系统更新与版本确认</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 查看系统版本（关键！不同版本命令有差异）</span>
</span></span><span class=line><span class=cl>lsb_release -a
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 更新软件源并升级系统</span>
</span></span><span class=line><span class=cl>sudo apt update <span class=o>&amp;&amp;</span> sudo apt upgrade -y <span class=o>&amp;&amp;</span> sudo apt autoremove -y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看内核版本</span>
</span></span><span class=line><span class=cl>uname -a
</span></span></code></pre></td></tr></table></div></div><h3 id=创建专用运维用户><strong>创建专用运维用户</strong></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 如果当前用户权限不足，创建运维专用账户</span>
</span></span><span class=line><span class=cl>sudo useradd -m -s /bin/bash -G sudo ops
</span></span><span class=line><span class=cl>sudo passwd ops
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 为新用户配置免密sudo（生产环境慎用）</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;ops ALL=(ALL) NOPASSWD:ALL&#34;</span> <span class=p>|</span> sudo tee /etc/sudoers.d/ops
</span></span><span class=line><span class=cl>sudo chmod <span class=m>440</span> /etc/sudoers.d/ops
</span></span></code></pre></td></tr></table></div></div><h3 id=4-配置系统时区与ntp>4. <strong>配置系统时区与NTP</strong></h3><p>bash</p><p>复制</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 设置时区为上海</span>
</span></span><span class=line><span class=cl>sudo timedatectl set-timezone Asia/Shanghai
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装并启用NTP同步</span>
</span></span><span class=line><span class=cl>sudo apt install chrony -y
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> chrony
</span></span><span class=line><span class=cl>sudo systemctl start chrony
</span></span><span class=line><span class=cl>timedatectl status  <span class=c1># 确认NTP synchronized: yes</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=phase-2-网络与安全配置20分钟><strong>Phase 2: 网络与安全配置（20分钟）</strong></h2><h3 id=5-配置静态ip企业环境必需>5. <strong>配置静态IP（企业环境必需）</strong></h3><p>bash</p><p>复制</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 查看网卡名称（18.04+使用netplan）</span>
</span></span><span class=line><span class=cl>ip a  <span class=c1># 记住网卡名如ens33</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 编辑netplan配置</span>
</span></span><span class=line><span class=cl>sudo vim /etc/netplan/01-netcfg.yaml
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 写入以下内容（根据实际网卡名和IP修改）</span>
</span></span><span class=line><span class=cl>network:
</span></span><span class=line><span class=cl>  version: <span class=m>2</span>
</span></span><span class=line><span class=cl>  ethernets:
</span></span><span class=line><span class=cl>    ens33:
</span></span><span class=line><span class=cl>      dhcp4: no
</span></span><span class=line><span class=cl>      addresses: <span class=o>[</span>192.168.1.100/24<span class=o>]</span>
</span></span><span class=line><span class=cl>      gateway4: 192.168.1.1
</span></span><span class=line><span class=cl>      nameservers:
</span></span><span class=line><span class=cl>        addresses: <span class=o>[</span>223.5.5.5, 8.8.8.8<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 应用配置</span>
</span></span><span class=line><span class=cl>sudo netplan apply
</span></span><span class=line><span class=cl>ip a  <span class=c1># 验证IP是否生效</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=6-ssh服务加固生产级配置>6. <strong>SSH服务加固（生产级配置）</strong></h3><p>bash</p><p>复制</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 安装SSH服务</span>
</span></span><span class=line><span class=cl>sudo apt install openssh-server -y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 备份原始配置</span>
</span></span><span class=line><span class=cl>sudo cp /etc/ssh/sshd_config<span class=o>{</span>,.bak<span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 关键配置项（逐条执行或编辑文件）</span>
</span></span><span class=line><span class=cl>sudo sed -i <span class=s1>&#39;s/#Port 22/Port 2222/&#39;</span> /etc/ssh/sshd_config                    <span class=c1># 修改默认端口</span>
</span></span><span class=line><span class=cl>sudo sed -i <span class=s1>&#39;s/#PermitRootLogin yes/PermitRootLogin no/&#39;</span> /etc/ssh/sshd_config
</span></span><span class=line><span class=cl>sudo sed -i <span class=s1>&#39;s/#PasswordAuthentication yes/PasswordAuthentication yes/&#39;</span> /etc/ssh/sshd_config
</span></span><span class=line><span class=cl>sudo sed -i <span class=s1>&#39;s/#MaxAuthTries 6/MaxAuthTries 3/&#39;</span> /etc/ssh/sshd_config
</span></span><span class=line><span class=cl>sudo sed -i <span class=s1>&#39;$a AllowUsers ops&#39;</span> /etc/ssh/sshd_config                        <span class=c1># 仅允许ops用户</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 重启SSH并设置开机自启</span>
</span></span><span class=line><span class=cl>sudo systemctl restart sshd
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> sshd
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看监听状态</span>
</span></span><span class=line><span class=cl>ss -tuln <span class=p>|</span> grep <span class=m>2222</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=7-配置主机名与hosts>7. <strong>配置主机名与hosts</strong></h3><p>bash</p><p>复制</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 设置规范主机名（建议格式：业务-角色-序号）</span>
</span></span><span class=line><span class=cl>sudo hostnamectl set-hostname dev-web-01
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 写入hosts文件（便于内部解析）</span>
</span></span><span class=line><span class=cl>sudo vim /etc/hosts
</span></span><span class=line><span class=cl><span class=c1># 添加：</span>
</span></span><span class=line><span class=cl>127.0.0.1 localhost dev-web-01
</span></span><span class=line><span class=cl>192.168.1.100 dev-web-01
</span></span></code></pre></td></tr></table></div></div><h3 id=8-配置防火墙ufw>8. <strong>配置防火墙（UFW）</strong></h3><p>bash</p><p>复制</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 启用UFW（Uncomplicated Firewall）</span>
</span></span><span class=line><span class=cl>sudo apt install ufw -y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 默认拒绝所有入站</span>
</span></span><span class=line><span class=cl>sudo ufw default deny incoming
</span></span><span class=line><span class=cl>sudo ufw default allow outgoing
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 开放必要端口（根据实际服务调整）</span>
</span></span><span class=line><span class=cl>sudo ufw allow 2222/tcp    <span class=c1># SSH</span>
</span></span><span class=line><span class=cl>sudo ufw allow 80/tcp      <span class=c1># HTTP</span>
</span></span><span class=line><span class=cl>sudo ufw allow 443/tcp     <span class=c1># HTTPS</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 启用防火墙</span>
</span></span><span class=line><span class=cl>sudo ufw <span class=nb>enable</span>
</span></span><span class=line><span class=cl>sudo ufw status verbose
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=phase-3-运维核心工具安装20分钟><strong>Phase 3: 运维核心工具安装（20分钟）</strong></h2><h3 id=9-必备命令行工具集>9. <strong>必备命令行工具集</strong></h3><p>bash</p><p>复制</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 网络诊断工具</span>
</span></span><span class=line><span class=cl>sudo apt install -y net-tools iputils-ping traceroute dnsutils tcpdump nmap telnet netcat
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 文本处理与查看</span>
</span></span><span class=line><span class=cl>sudo apt install -y vim tree htop iotop sysstat lsof strace
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 压缩解压</span>
</span></span><span class=line><span class=cl>sudo apt install -y unzip gzip bzip2 tar
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 版本控制</span>
</span></span><span class=line><span class=cl>sudo apt install -y git subversion
</span></span><span class=line><span class=cl>git config --global user.name <span class=s2>&#34;ops&#34;</span>
</span></span><span class=line><span class=cl>git config --global user.email <span class=s2>&#34;ops@company.com&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 下载工具</span>
</span></span><span class=line><span class=cl>sudo apt install -y wget curl axel
</span></span></code></pre></td></tr></table></div></div><h3 id=10-系统监控与性能分析>10. <strong>系统监控与性能分析</strong></h3><p>bash</p><p>复制</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 实时监控</span>
</span></span><span class=line><span class=cl>sudo apt install -y htop iotop glances
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 日志分析</span>
</span></span><span class=line><span class=cl>sudo apt install -y logwatch
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 进程监控</span>
</span></span><span class=line><span class=cl>sudo apt install -y atop
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 磁盘与IO</span>
</span></span><span class=line><span class=cl>sudo apt install -y iostat
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 服务管理（systemd自带，但可加强）</span>
</span></span><span class=line><span class=cl>sudo apt install -y systemd-coredump
</span></span></code></pre></td></tr></table></div></div><h3 id=11-docker与容器环境现代运维必备>11. <strong>Docker与容器环境（现代运维必备）</strong></h3><p>bash</p><p>复制</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 卸载旧版本</span>
</span></span><span class=line><span class=cl>sudo apt remove -y docker docker.io containerd runc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装依赖</span>
</span></span><span class=line><span class=cl>sudo apt install -y apt-transport-https ca-certificates curl gnupg lsb-release
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加Docker官方GPG密钥和仓库</span>
</span></span><span class=line><span class=cl>curl -fsSL https://download.docker.com/linux/ubuntu/gpg <span class=p>|</span> sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;deb [arch=</span><span class=k>$(</span>dpkg --print-architecture<span class=k>)</span><span class=s2> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu </span><span class=k>$(</span>lsb_release -cs<span class=k>)</span><span class=s2> stable&#34;</span> <span class=p>|</span> sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装Docker</span>
</span></span><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 配置用户权限（避免每次sudo）</span>
</span></span><span class=line><span class=cl>sudo usermod -aG docker <span class=nv>$USER</span>
</span></span><span class=line><span class=cl>newgrp docker
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 验证安装</span>
</span></span><span class=line><span class=cl>docker --version
</span></span><span class=line><span class=cl>docker run hello-world
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=phase-4-系统加固与优化15分钟><strong>Phase 4: 系统加固与优化（15分钟）</strong></h2><h3 id=12-内核参数优化etcsysctlconf>12. <strong>内核参数优化（/etc/sysctl.conf）</strong></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 备份</span>
</span></span><span class=line><span class=cl>sudo cp /etc/sysctl.conf<span class=o>{</span>,.bak<span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 追加核心参数</span>
</span></span><span class=line><span class=cl>sudo tee -a /etc/sysctl.conf <span class=s>&lt;&lt;EOF
</span></span></span><span class=line><span class=cl><span class=s># 网络性能优化
</span></span></span><span class=line><span class=cl><span class=s>net.ipv4.tcp_keepalive_time = 600
</span></span></span><span class=line><span class=cl><span class=s>net.ipv4.tcp_keepalive_probes = 3
</span></span></span><span class=line><span class=cl><span class=s>net.ipv4.tcp_keepalive_intvl = 15
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 文件句柄限制
</span></span></span><span class=line><span class=cl><span class=s>fs.file-max = 65535
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 禁用IPv6（根据企业规范）
</span></span></span><span class=line><span class=cl><span class=s>net.ipv6.conf.all.disable_ipv6 = 1
</span></span></span><span class=line><span class=cl><span class=s>net.ipv6.conf.default.disable_ipv6 = 1
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 安全加固
</span></span></span><span class=line><span class=cl><span class=s>net.ipv4.icmp_echo_ignore_broadcasts = 1
</span></span></span><span class=line><span class=cl><span class=s>net.ipv4.conf.all.accept_redirects = 0
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 生效</span>
</span></span><span class=line><span class=cl>sudo sysctl -p
</span></span></code></pre></td></tr></table></div></div><h3 id=13-limitsconf-配置进程资源限制>13. limits.conf 配置（进程资源限制）</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo vim /etc/security/limits.conf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加以下内容</span>
</span></span><span class=line><span class=cl>* soft nofile <span class=m>65535</span>
</span></span><span class=line><span class=cl>* hard nofile <span class=m>65535</span>
</span></span><span class=line><span class=cl>* soft nproc <span class=m>65535</span>
</span></span><span class=line><span class=cl>* hard nproc <span class=m>65535</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=14-日志轮转优化>14. <strong>日志轮转优化</strong></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 查看当前logrotate配置</span>
</span></span><span class=line><span class=cl>sudo vim /etc/logrotate.d/rsyslog
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 建议修改：减小单个日志文件大小，加快轮转</span>
</span></span><span class=line><span class=cl><span class=c1># 将weekly改为daily，rotate 4改为rotate 7</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=15-安装配置fail2ban防暴力破解>15. <strong>安装配置fail2ban（防暴力破解）</strong></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install -y fail2ban
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 创建SSH防护规则</span>
</span></span><span class=line><span class=cl>sudo vim /etc/fail2ban/jail.local
</span></span><span class=line><span class=cl><span class=c1># 写入：</span>
</span></span><span class=line><span class=cl><span class=o>[</span>sshd<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>enabled</span> <span class=o>=</span> <span class=nb>true</span>
</span></span><span class=line><span class=cl><span class=nv>port</span> <span class=o>=</span> <span class=m>2222</span>
</span></span><span class=line><span class=cl><span class=nv>filter</span> <span class=o>=</span> sshd
</span></span><span class=line><span class=cl><span class=nv>logpath</span> <span class=o>=</span> /var/log/auth.log
</span></span><span class=line><span class=cl><span class=nv>maxretry</span> <span class=o>=</span> <span class=m>3</span>
</span></span><span class=line><span class=cl><span class=nv>bantime</span> <span class=o>=</span> <span class=m>3600</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 启动服务</span>
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> fail2ban
</span></span><span class=line><span class=cl>sudo systemctl start fail2ban
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=phase-5-备份与文档5分钟><strong>Phase 5: 备份与文档（5分钟）</strong></h2><h3 id=16-创建系统快照黄金规则>16. <strong>创建系统快照（黄金规则）</strong></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>VMware菜单 → 虚拟机 → 快照 → 拍摄快照
</span></span></code></pre></td></tr></table></div></div><p><strong>命名规范</strong>：<code>Prod-Ready-Ubuntu-2024-11-13</code> <strong>描述</strong>：基础系统+SSH加固+监控工具+Docker环境</p><h3 id=17-生成配置文档>17. <strong>生成配置文档</strong></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 记录系统配置</span>
</span></span><span class=line><span class=cl>sudo mkdir -p /opt/docs
</span></span><span class=line><span class=cl>sudo vim /opt/docs/system-init-report.md
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 写入关键信息模板：</span>
</span></span><span class=line><span class=cl><span class=c1>## 系统初始化报告</span>
</span></span><span class=line><span class=cl>- 主机名: dev-web-01
</span></span><span class=line><span class=cl>- IP地址: 192.168.1.100
</span></span><span class=line><span class=cl>- SSH端口: <span class=m>2222</span>
</span></span><span class=line><span class=cl>- 系统版本: Ubuntu 22.04.3 LTS
</span></span><span class=line><span class=cl>- 内核版本: 5.15.x
</span></span><span class=line><span class=cl>- 初始化时间: 2024-11-13
</span></span><span class=line><span class=cl>- Docker版本: 24.0.x
</span></span><span class=line><span class=cl>- 允许登录用户: ops
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 安全加固项</span>
</span></span><span class=line><span class=cl>- <span class=o>[</span>x<span class=o>]</span> 禁用Root SSH登录
</span></span><span class=line><span class=cl>- <span class=o>[</span>x<span class=o>]</span> 修改SSH端口
</span></span><span class=line><span class=cl>- <span class=o>[</span>x<span class=o>]</span> 配置UFW防火墙
</span></span><span class=line><span class=cl>- <span class=o>[</span>x<span class=o>]</span> 安装fail2ban
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 已安装核心工具</span>
</span></span><span class=line><span class=cl>- net-tools, tcpdump, nmap
</span></span><span class=line><span class=cl>- docker, docker-compose
</span></span><span class=line><span class=cl>- htop, iotop, glances
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=运维工程师每日检查清单添加到alias><strong>运维工程师每日检查清单（添加到alias）</strong></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 添加到~/.bashrc</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;alias sys-check=&#39;echo ===系统检查===; uptime; free -h; df -h; ss -tuln; docker ps --format \&#34;table {{.Names}}\\t{{.Status}}\&#34;&#39;&#34;</span> &gt;&gt; ~/.bashrc
</span></span><span class=line><span class=cl><span class=nb>source</span> ~/.bashrc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用</span>
</span></span><span class=line><span class=cl>sys-check
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>本文采用 CC BY-NC-SA 4.0 许可协议</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/utility/tcpdump/><div class=article-details><h2 class=article-title>Tcpdump</h2></div></a></article><article><a href=/utility/ansible/><div class=article-details><h2 class=article-title>Ansible</h2></div></a></article><article><a href=/utility/jenkins/><div class=article-details><h2 class=article-title>Jenkins</h2></div></a></article><article><a href=/utility/nfs/><div class=article-details><h2 class=article-title>NFS</h2></div></a></article><article><a href=/utility/prometheus-/><div class=article-details><h2 class=article-title>Prometheus</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo data-repo-id data-category data-category-id data-mapping=title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2025 © 2025 win. 保留所有权利.</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.31.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>