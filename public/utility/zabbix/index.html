<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content=" 操作系统版本修正：您提供的 Yum 源是 el7 (RHEL 7/CentOS 7)，但 Zabbix 7.x 版本通常依赖较新的 PHP 和库文件。建议使用 Rocky Linux 9 / AlmaLinux 9 / openEuler 22.03+ 等现代系统。本教程将基于 Rocky Linux 9/CentOS Stream 9 环境编写（目前最主流的企业级免费 Linux 环境）。 配置持久化：补充了防火墙和 SELinux 的永久关闭方法。 数据库断点续接：您在 mysql_secure_installation 处中断，我补充了后续的建库、授权、导入数据和配置文件修改步骤。 Nginx 配置：补充了 Nginx 与 PHP-FPM 的联动配置。 Zabbix 7.0 LTS 自动化监控告警系统部署文档 实验目的：掌握 Zabbix 自动化监控系统的全流程部署、配置与基础使用。 系统环境：Rocky Linux 9 / CentOS Stream 9 / openEuler (推荐) 软件版本：Zabbix 7.0 LTS, Nginx, PHP 8.x, MariaDB/MySQL\n"><title>zabbix</title><link rel=canonical href=http://localhost:1313/utility/zabbix/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content="zabbix"><meta property='og:description' content=" 操作系统版本修正：您提供的 Yum 源是 el7 (RHEL 7/CentOS 7)，但 Zabbix 7.x 版本通常依赖较新的 PHP 和库文件。建议使用 Rocky Linux 9 / AlmaLinux 9 / openEuler 22.03+ 等现代系统。本教程将基于 Rocky Linux 9/CentOS Stream 9 环境编写（目前最主流的企业级免费 Linux 环境）。 配置持久化：补充了防火墙和 SELinux 的永久关闭方法。 数据库断点续接：您在 mysql_secure_installation 处中断，我补充了后续的建库、授权、导入数据和配置文件修改步骤。 Nginx 配置：补充了 Nginx 与 PHP-FPM 的联动配置。 Zabbix 7.0 LTS 自动化监控告警系统部署文档 实验目的：掌握 Zabbix 自动化监控系统的全流程部署、配置与基础使用。 系统环境：Rocky Linux 9 / CentOS Stream 9 / openEuler (推荐) 软件版本：Zabbix 7.0 LTS, Nginx, PHP 8.x, MariaDB/MySQL\n"><meta property='og:url' content='http://localhost:1313/utility/zabbix/'><meta property='og:site_name' content='JustWin'><meta property='og:type' content='article'><meta property='article:section' content='Utility'><meta property='article:published_time' content='2025-12-14T00:00:00+00:00'><meta property='article:modified_time' content='2025-12-14T00:00:00+00:00'><meta property='og:image' content='http://localhost:1313/'><meta name=twitter:title content="zabbix"><meta name=twitter:description content=" 操作系统版本修正：您提供的 Yum 源是 el7 (RHEL 7/CentOS 7)，但 Zabbix 7.x 版本通常依赖较新的 PHP 和库文件。建议使用 Rocky Linux 9 / AlmaLinux 9 / openEuler 22.03+ 等现代系统。本教程将基于 Rocky Linux 9/CentOS Stream 9 环境编写（目前最主流的企业级免费 Linux 环境）。 配置持久化：补充了防火墙和 SELinux 的永久关闭方法。 数据库断点续接：您在 mysql_secure_installation 处中断，我补充了后续的建库、授权、导入数据和配置文件修改步骤。 Nginx 配置：补充了 Nginx 与 PHP-FPM 的联动配置。 Zabbix 7.0 LTS 自动化监控告警系统部署文档 实验目的：掌握 Zabbix 自动化监控系统的全流程部署、配置与基础使用。 系统环境：Rocky Linux 9 / CentOS Stream 9 / openEuler (推荐) 软件版本：Zabbix 7.0 LTS, Nginx, PHP 8.x, MariaDB/MySQL\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='http://localhost:1313/'><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"light")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/images/avatar_hu_89ca753ea8ea85c7.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>✍️</span></figure><div class=site-meta><h1 class=site-name><a href=/>JustWin</a></h1><h2 class=site-description>分享技术与生活</h2></div></header><ol class=menu-social><li><a href=https://github.com/passion-win target=_blank title=GitHub rel=me><svg width="800" height="800" viewBox="0 0 20 20" xmlns:xlink="http://www.w3.org/1999/xlink"><title>github [#142]</title><desc>Created with Sketch.</desc><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)" fill="#000"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M94 7399C99.523 7399 104 7403.59 104 7409.253 104 7413.782 101.138 7417.624 97.167 7418.981 96.66 7419.082 96.48 7418.762 96.48 7418.489 96.48 7418.151 96.492 7417.047 96.492 7415.675 96.492 7414.719 96.172 7414.095 95.813 7413.777 98.04 7413.523 100.38 7412.656 100.38 7408.718 100.38 7407.598 99.992 7406.684 99.35 7405.966 99.454 7405.707 99.797 7404.664 99.252 7403.252 99.252 7403.252 98.414 7402.977 96.505 7404.303 95.706 7404.076 94.85 7403.962 94 7403.958 93.15 7403.962 92.295 7404.076 91.497 7404.303 89.586 7402.977 88.746 7403.252 88.746 7403.252 88.203 7404.664 88.546 7405.707 88.649 7405.966 88.01 7406.684 87.619 7407.598 87.619 7408.718 87.619 7412.646 89.954 7413.526 92.175 7413.785 91.889 7414.041 91.63 7414.493 91.54 7415.156 90.97 7415.418 89.522 7415.871 88.63 7414.304 88.63 7414.304 88.101 7413.319 87.097 7413.247 87.097 7413.247 86.122 7413.234 87.029 7413.87 87.029 7413.87 87.684 7414.185 88.139 7415.37 88.139 7415.37 88.726 7417.2 91.508 7416.58 91.513 7417.437 91.522 7418.245 91.522 7418.489 91.522 7418.76 91.338 7419.077 90.839 7418.982 86.865 7417.627 84 7413.783 84 7409.253 84 7403.59 88.478 7399 94 7399" id="github-[#142]"/></g></g></g></svg></a></li><li><a href=https://t.me/+TFjBeZzowwU1YTY1 target=_blank title=telegram rel=me><svg viewBox="0 0 640 640"><path d="M320 72C183 72 72 183 72 320S183 568 320 568 568 457 568 320 457 72 320 72zM435 240.7C431.3 279.9 415.1 375.1 406.9 419c-3.5 18.6-10.3 24.8-16.9 25.4C375.6 445.7 364.7 434.9 350.7 425.7c-21.8-14.3-34.2-23.2-55.3-37.2C270.9 372.4 286.8 363.5 300.7 349 304.4 345.2 367.8 287.5 369 282.3 369.2 281.6 369.3 279.2 367.8 277.9 366.3 276.6 364.2 277.1 362.7 277.4 360.5 277.9 325.6 300.9 258.1 346.5 248.2 353.3 239.2 356.6 231.2 356.4 222.3 356.2 205.3 351.4 192.6 347.3 177.1 342.3 164.7 339.6 165.8 331 166.4 326.5 172.5 322 184.2 317.3 256.5 285.8 304.7 265 328.8 255c68.9-28.6 83.2-33.6 92.5-33.8C423.4 221.2 427.9 221.7 430.9 224.1 432.9 225.8 434.1 228.2 434.4 230.8 434.9 234 435 237.3 434.8 240.6z"/></svg></a></li><li><a href=https://twitter.com/@win1688888888 target=_blank title=twitter rel=me><svg width="800" height="800" viewBox="0 -2 20 20" xmlns:xlink="http://www.w3.org/1999/xlink"><title>twitter [#154]</title><desc>Created with Sketch.</desc><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-60.000000, -7521.000000)" fill="#000"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M10.29 7377C17.837 7377 21.965 7370.84365 21.965 7365.50546 21.965 7365.33021 21.965 7365.15595 21.953 7364.98267 22.756 7364.41163 23.449 7363.70276 24 7362.8915 23.252 7363.21837 22.457 7363.433 21.644 7363.52751 22.5 7363.02244 23.141 7362.2289 23.448 7361.2926 22.642 7361.76321 21.761 7362.095 20.842 7362.27321 19.288 7360.64674 16.689 7360.56798 15.036 7362.09796 13.971 7363.08447 13.518 7364.55538 13.849 7365.95835 10.55 7365.79492 7.476 7364.261 5.392 7361.73762 4.303 7363.58363 4.86 7365.94457 6.663 7367.12996 6.01 7367.11125 5.371 7366.93797 4.8 7366.62489V7366.67608C4.801 7368.5989 6.178 7370.2549 8.092 7370.63591 7.488 7370.79836 6.854 7370.82199 6.24 7370.70483 6.777 7372.35099 8.318 7373.47829 10.073 7373.51078 8.62 7374.63513 6.825 7375.24554 4.977 7375.24358 4.651 7375.24259 4.325 7375.22388 4 7375.18549 5.877 7376.37088 8.06 7377 10.29 7376.99705" id="twitter-[#154]"/></g></g></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><span>首页</span></a></li><li><a href=/links/><span>网站</span></a></li><li><a href=/linux/><span>Linux</span></a></li><li><a href=/docker/><span>docker</span></a></li><li><a href=/k8s/><span>k8s</span></a></li><li><a href=/mysql/><span>mysql</span></a></li><li><a href=/project/><span>项目</span></a></li><li><a href=/kali/><span>kali</span></a></li><li><a href=/ubuntu/><span>ubuntu</span></a></li><li><a href=/utility/><span>Utility</span></a></li><li><a href=/about/><span>关于</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=http://localhost:1313/ selected>中文</option><option value=http://localhost:1313/en/>English</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#1-基础系统环境配置>1. 基础系统环境配置</a><ol><li><a href=#11-配置-ip-地址>1.1 配置 IP 地址</a></li><li><a href=#12-关闭防火墙和-selinux>1.2 关闭防火墙和 SELinux</a></li><li><a href=#13-安装基础工具>1.3 安装基础工具</a></li></ol></li><li><a href=#2-安装-zabbix-及相关组件>2. 安装 Zabbix 及相关组件</a><ol><li><a href=#21-安装-zabbix-官方源>2.1 安装 Zabbix 官方源</a></li><li><a href=#22-安装-zabbix-server-web-前端-agent-和-数据库>2.2 安装 Zabbix Server, Web 前端, Agent 和 数据库</a></li></ol></li><li><a href=#3-数据库初始化与配置>3. 数据库初始化与配置</a><ol><li><a href=#31-启动数据库>3.1 启动数据库</a></li><li><a href=#32-数据库安全初始化>3.2 数据库安全初始化</a></li><li><a href=#33-创建-zabbix-专用库和用户>3.3 创建 Zabbix 专用库和用户</a></li><li><a href=#34-导入-zabbix-初始数据>3.4 导入 Zabbix 初始数据</a></li><li><a href=#35-关闭-log_bin_trust-功能-安全建议>3.5 关闭 log_bin_trust 功能 (安全建议)</a></li></ol></li><li><a href=#4-修改配置文件>4. 修改配置文件</a><ol><li><a href=#41-修改-zabbix-server-配置>4.1 修改 Zabbix Server 配置</a></li><li><a href=#42-修改-nginx-配置>4.2 修改 Nginx 配置</a></li></ol></li><li><a href=#5-启动服务与最终设置>5. 启动服务与最终设置</a><ol><li><a href=#51-重启所有相关服务>5.1 重启所有相关服务</a></li><li><a href=#52-检查服务状态>5.2 检查服务状态</a></li></ol></li><li><a href=#6-web-端初始化-图形化界面>6. Web 端初始化 (图形化界面)</a></li><li><a href=#7-登录与基础使用>7. 登录与基础使用</a><ol><li><a href=#71-登录>7.1 登录</a></li><li><a href=#72-修改界面语言为中文>7.2 修改界面语言为中文</a></li><li><a href=#73-解决中文乱码问题-如果出现>7.3 解决中文乱码问题 (如果出现)</a></li><li><a href=#74-添加被监控主机-简单示例>7.4 添加被监控主机 (简单示例)</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category></header><div class=article-title-wrapper><h2 class=article-title><a href=/utility/zabbix/>zabbix</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2025-12-14</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 4 分钟</time></div></footer></div></header><section class=article-content><ol><li><strong>操作系统版本修正</strong>：您提供的 Yum 源是 <code>el7</code> (RHEL 7/CentOS 7)，但 Zabbix 7.x 版本通常依赖较新的 PHP 和库文件。<strong>建议使用 Rocky Linux 9 / AlmaLinux 9 / openEuler 22.03+</strong> 等现代系统。本教程将基于 <strong>Rocky Linux 9/CentOS Stream 9</strong> 环境编写（目前最主流的企业级免费 Linux 环境）。</li><li><strong>配置持久化</strong>：补充了防火墙和 SELinux 的永久关闭方法。</li><li><strong>数据库断点续接</strong>：您在 <code>mysql_secure_installation</code> 处中断，我补充了后续的建库、授权、导入数据和配置文件修改步骤。</li><li><strong>Nginx 配置</strong>：补充了 Nginx 与 PHP-FPM 的联动配置。</li></ol><hr><h1 id=zabbix-70-lts-自动化监控告警系统部署文档>Zabbix 7.0 LTS 自动化监控告警系统部署文档</h1><p><strong>实验目的</strong>：掌握 Zabbix 自动化监控系统的全流程部署、配置与基础使用。
<strong>系统环境</strong>：Rocky Linux 9 / CentOS Stream 9 / openEuler (推荐)
<strong>软件版本</strong>：Zabbix 7.0 LTS, Nginx, PHP 8.x, MariaDB/MySQL</p><hr><h2 id=1-基础系统环境配置>1. 基础系统环境配置</h2><h3 id=11-配置-ip-地址>1.1 配置 IP 地址</h3><p>确保服务器网络通畅。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 查看网卡名称（假设为 ens33）</span>
</span></span><span class=line><span class=cl>ip addr
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 配置静态 IP (请根据实际网络环境修改 IP)</span>
</span></span><span class=line><span class=cl>nmcli connect mod ens33 ipv4.addresses 192.168.200.100/24
</span></span><span class=line><span class=cl>nmcli connect mod ens33 ipv4.gateway 192.168.200.1
</span></span><span class=line><span class=cl>nmcli connect mod ens33 ipv4.dns <span class=s2>&#34;8.8.8.8 114.114.114.114&#34;</span>
</span></span><span class=line><span class=cl>nmcli connect mod ens33 ipv4.method manual
</span></span><span class=line><span class=cl>nmcli connect up ens33
</span></span></code></pre></td></tr></table></div></div><h3 id=12-关闭防火墙和-selinux>1.2 关闭防火墙和 SELinux</h3><p>这是为了避免实验过程中出现权限拦截问题。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 1. 停止并禁用防火墙</span>
</span></span><span class=line><span class=cl>systemctl stop firewalld
</span></span><span class=line><span class=cl>systemctl disable firewalld
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. 临时关闭 SELinux</span>
</span></span><span class=line><span class=cl>setenforce <span class=m>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. 永久关闭 SELinux (修改配置文件，防止重启失效)</span>
</span></span><span class=line><span class=cl>sed -i <span class=s1>&#39;s/SELINUX=enforcing/SELINUX=disabled/&#39;</span> /etc/selinux/config
</span></span></code></pre></td></tr></table></div></div><h3 id=13-安装基础工具>1.3 安装基础工具</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>yum update -y
</span></span><span class=line><span class=cl>yum install vim tar net-tools wget curl -y
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=2-安装-zabbix-及相关组件>2. 安装 Zabbix 及相关组件</h2><h3 id=21-安装-zabbix-官方源>2.1 安装 Zabbix 官方源</h3><p><strong>注意</strong>：这里使用 Zabbix 7.0 LTS (长期支持版) 和 RHEL 9 (el9) 版本的源。如果您使用的是 CentOS 7，请务必升级系统，因为旧版 PHP 不支持新版 Zabbix。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>rpm -Uvh https://repo.zabbix.com/zabbix/7.0/rhel/9/x86_64/zabbix-release-7.0-5.el9.noarch.rpm
</span></span><span class=line><span class=cl>yum clean all
</span></span></code></pre></td></tr></table></div></div><h3 id=22-安装-zabbix-server-web-前端-agent-和-数据库>2.2 安装 Zabbix Server, Web 前端, Agent 和 数据库</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>yum install zabbix-server-mysql zabbix-web-mysql zabbix-nginx-conf zabbix-sql-scripts zabbix-selinux-policy zabbix-agent mariadb-server langpacks-zh_CN -y
</span></span></code></pre></td></tr></table></div></div><p><em>注：这里推荐使用 <code>mariadb-server</code>，它是 RHEL/CentOS 系列默认且兼容性最好的数据库。</em></p><hr><h2 id=3-数据库初始化与配置>3. 数据库初始化与配置</h2><h3 id=31-启动数据库>3.1 启动数据库</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl start mariadb
</span></span><span class=line><span class=cl>systemctl <span class=nb>enable</span> mariadb
</span></span></code></pre></td></tr></table></div></div><h3 id=32-数据库安全初始化>3.2 数据库安全初始化</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mariadb-secure-installation
</span></span></code></pre></td></tr></table></div></div><ul><li><code>Enter current password for root</code>: 初次安装为空，直接<strong>回车</strong>。</li><li><code>Switch to unix_socket authentication</code>: 输入 <strong>n</strong>。</li><li><code>Change the root password?</code>: 输入 <strong>y</strong>，设置一个新的 root 密码（例如：<code>Root123!</code>）。</li><li>后续选项（移除匿名用户、禁止远程 root 登录等）：建议全部输入 <strong>y</strong>。</li></ul><h3 id=33-创建-zabbix-专用库和用户>3.3 创建 Zabbix 专用库和用户</h3><p>登录数据库并执行 SQL 语句：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 登录数据库 (输入刚才设置的密码)</span>
</span></span><span class=line><span class=cl>mysql -u root -p
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 在 mysql&gt; 提示符下执行以下命令：</span>
</span></span><span class=line><span class=cl>create database zabbix character <span class=nb>set</span> utf8mb4 collate utf8mb4_bin<span class=p>;</span>
</span></span><span class=line><span class=cl>create user zabbix@localhost identified by <span class=s1>&#39;Zabbix@123&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>grant all privileges on zabbix.* to zabbix@localhost<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> global <span class=nv>log_bin_trust_function_creators</span> <span class=o>=</span> 1<span class=p>;</span>
</span></span><span class=line><span class=cl>quit<span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p><em>注意：<code>Zabbix@123</code> 是 Zabbix 连接数据库的密码，请记住它。</em></p><h3 id=34-导入-zabbix-初始数据>3.4 导入 Zabbix 初始数据</h3><p>这一步将把 Zabbix 需要的表结构导入数据库。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>zcat /usr/share/doc/zabbix-sql-scripts/mysql/server.sql.gz <span class=p>|</span> mysql --default-character-set<span class=o>=</span>utf8mb4 -uzabbix -p zabbix
</span></span></code></pre></td></tr></table></div></div><ul><li>系统会提示输入密码，请输入上一步设置的 <code>Zabbix@123</code>。</li><li>此过程可能需要几秒到一分钟，请耐心等待直到命令结束。</li></ul><h3 id=35-关闭-log_bin_trust-功能-安全建议>3.5 关闭 log_bin_trust 功能 (安全建议)</h3><p>数据导入完成后，关闭此选项：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mysql -u root -p -e <span class=s2>&#34;set global log_bin_trust_function_creators = 0;&#34;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=4-修改配置文件>4. 修改配置文件</h2><h3 id=41-修改-zabbix-server-配置>4.1 修改 Zabbix Server 配置</h3><p>告诉 Zabbix Server 数据库密码是什么。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vim /etc/zabbix/zabbix_server.conf
</span></span></code></pre></td></tr></table></div></div><p>找到 <code>DBPassword=</code> 这一行（可以使用 <code>/DBPassword</code> 搜索），取消注释并修改：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=na>DBPassword</span><span class=o>=</span><span class=s>Zabbix@123</span>
</span></span></code></pre></td></tr></table></div></div><p><em>(保存退出: <code>Esc</code> -> <code>:wq</code>)</em></p><h3 id=42-修改-nginx-配置>4.2 修改 Nginx 配置</h3><p>配置前端访问端口和域名。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vim /etc/nginx/conf.d/zabbix.conf
</span></span></code></pre></td></tr></table></div></div><p>找到 <code>listen</code> 和 <code>server_name</code> 所在行，取消注释（去掉 <code>#</code>）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>server_name</span> <span class=s>example.com</span><span class=p>;</span>  <span class=c1># 这里也可以写服务器IP，或者保持 example.com
</span></span></span></code></pre></td></tr></table></div></div><p><em>(保存退出: <code>Esc</code> -> <code>:wq</code>)</em></p><hr><h2 id=5-启动服务与最终设置>5. 启动服务与最终设置</h2><h3 id=51-重启所有相关服务>5.1 重启所有相关服务</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl restart zabbix-server zabbix-agent nginx php-fpm
</span></span><span class=line><span class=cl>systemctl <span class=nb>enable</span> zabbix-server zabbix-agent nginx php-fpm
</span></span></code></pre></td></tr></table></div></div><h3 id=52-检查服务状态>5.2 检查服务状态</h3><p>确保没有报错（Active: active (running)）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl status zabbix-server
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=6-web-端初始化-图形化界面>6. Web 端初始化 (图形化界面)</h2><ol><li><strong>访问页面</strong>：
打开浏览器，访问 <code>http://192.168.200.100</code> (替换为您服务器的实际IP)。</li><li><strong>欢迎界面</strong>：
点击 &ldquo;Next step&rdquo;。</li><li><strong>必要条件检查</strong>：
确保所有项都是 &ldquo;OK&rdquo;。如果有报错，通常是 PHP 扩展未安装或配置错误。点击 &ldquo;Next step&rdquo;。</li><li><strong>配置数据库连接</strong>：<ul><li>Database type: MySQL</li><li>Database host: localhost</li><li>Database name: zabbix</li><li>User: zabbix</li><li><strong>Password</strong>: 输入之前设置的 <code>Zabbix@123</code></li><li>点击 &ldquo;Next step&rdquo;。</li></ul></li><li><strong>设置 Zabbix Server 信息</strong>：<ul><li>Zabbix server name: 可以随便填，例如 &ldquo;MyMonitor&rdquo;</li><li>Time zone: 选择 <strong>Asia/Shanghai</strong></li><li>点击 &ldquo;Next step&rdquo;。</li></ul></li><li><strong>完成安装</strong>：
确认信息无误，点击 &ldquo;Next step&rdquo; -> &ldquo;Finish&rdquo;。</li></ol><hr><h2 id=7-登录与基础使用>7. 登录与基础使用</h2><h3 id=71-登录>7.1 登录</h3><ul><li><strong>默认账号</strong>：<code>Admin</code> (注意首字母大写)</li><li><strong>默认密码</strong>：<code>zabbix</code></li></ul><h3 id=72-修改界面语言为中文>7.2 修改界面语言为中文</h3><ol><li>登录后，点击左侧菜单底部的 <strong>User settings</strong> (或者点击右上角的小人图标 -> User profile)。</li><li>在 <strong>Language</strong> 选项中，选择 <strong>Chinese (zh_CN)</strong>。</li><li>点击 <strong>Update</strong>。</li></ol><h3 id=73-解决中文乱码问题-如果出现>7.3 解决中文乱码问题 (如果出现)</h3><p>如果在图表中看到方块乱码，需要替换字体：</p><ol><li>在 Windows 电脑找到 <code>C:\Windows\Fonts\simkai.ttf</code> (楷体) 或其他中文字体。</li><li>上传该字体文件到服务器 <code>/usr/share/zabbix/assets/fonts/</code> 目录。</li><li>修改软链接或配置指向新字体。</li></ol><h3 id=74-添加被监控主机-简单示例>7.4 添加被监控主机 (简单示例)</h3><ol><li>点击左侧菜单 <strong>数据采集 (Data collection)</strong> -> <strong>主机 (Hosts)</strong>。</li><li>点击右上角 <strong>创建主机 (Create host)</strong>。</li><li><strong>主机名称</strong>：填写被监控服务器的主机名或 IP。</li><li><strong>模板</strong>：选择 <code>Linux by Zabbix agent</code>。</li><li><strong>主机群组</strong>：选择 <code>Linux servers</code>。</li><li><strong>接口</strong>：点击添加 -> Agent，输入被监控机的 IP 地址，端口 10050。</li><li>点击 <strong>添加</strong>。</li></ol></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>本文采用 CC BY-NC-SA 4.0 许可协议</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/utility/tcpdump/><div class=article-details><h2 class=article-title>Tcpdump</h2></div></a></article><article><a href=/utility/ansible/><div class=article-details><h2 class=article-title>Ansible</h2></div></a></article><article><a href=/utility/jenkins/><div class=article-details><h2 class=article-title>Jenkins</h2></div></a></article><article><a href=/utility/nfs/><div class=article-details><h2 class=article-title>NFS</h2></div></a></article><article><a href=/utility/prometheus-/><div class=article-details><h2 class=article-title>Prometheus</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo data-repo-id data-category data-category-id data-mapping=title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2025 © 2025 win. 保留所有权利.</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.31.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>