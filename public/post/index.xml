<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on JustWin</title>
        <link>http://localhost:1313/post/</link>
        <description>Recent content in Posts on JustWin</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>© 2025 win. 保留所有权利.</copyright>
        <lastBuildDate>Fri, 07 Nov 2025 00:00:00 +0000</lastBuildDate><atom:link href="http://localhost:1313/post/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>docker</title>
        <link>http://localhost:1313/posts/docker/</link>
        <pubDate>Fri, 07 Nov 2025 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/docker/</guid>
        <description>&lt;h1 id=&#34;docker-手册&#34;&gt;Docker 手册
&lt;/h1&gt;&lt;h2 id=&#34;1-核心概念速览&#34;&gt;1. 核心概念速览
&lt;/h2&gt;&lt;h3 id=&#34;11-镜像与容器&#34;&gt;1.1 镜像与容器
&lt;/h3&gt;&lt;p&gt;在 Docker 的生态系统中，&lt;strong&gt;镜像（Image）&lt;/strong&gt; 和 &lt;strong&gt;容器（Container）&lt;/strong&gt; 是两个最核心且基础的概念，它们之间的关系类似于面向对象编程中的类（Class）与实例（Instance）。&lt;strong&gt;镜像是静态的、只读的模板&lt;/strong&gt;，它包含了运行一个应用程序所需的所有内容，包括代码、运行时环境、系统工具、系统库以及设置。可以将镜像理解为一个轻量级的、可执行的软件包，它定义了应用程序及其所有依赖项。镜像是通过&lt;strong&gt;分层（Layered）&lt;/strong&gt; 文件系统构建的，每一层都代表了镜像构建过程中的一次修改，这种分层结构使得镜像的存储和分发非常高效。当对镜像进行修改时，例如更新一个软件包，Docker 会创建一个新的层，而不是替换整个镜像，这大大减少了存储空间的占用和网络传输的数据量。镜像本身是不可变的，一旦创建，其内容就不会改变，这保证了应用在任何环境中的一致性。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;容器则是镜像的动态运行实例&lt;/strong&gt;。当使用 &lt;code&gt;docker run&lt;/code&gt; 命令启动一个镜像时，Docker 引擎会在镜像的只读层之上添加一个&lt;strong&gt;可写的容器层&lt;/strong&gt;，从而创建一个独立的、隔离的运行环境。这个可写的容器层允许应用程序在运行时进行写操作，例如创建文件、修改配置等，但这些修改仅存在于该容器层中，并不会影响到底层的只读镜像。因此，一个镜像可以被用来创建多个相互隔离的容器，每个容器都有自己的文件系统、进程空间和网络接口。容器的生命周期是短暂的，当容器被删除时，其可写层也会被一并删除，除非使用了数据卷（Volume）或绑定挂载（Bind Mount）等持久化机制。这种设计使得容器非常适合用于微服务架构，每个服务都可以被打包成一个独立的镜像，并以容器的形式运行，实现了应用间的解耦和快速部署。理解镜像与容器的区别与联系，是掌握 Docker 技术的第一步，也是后续学习容器编排、服务发现和持续集成等高级主题的基础。&lt;/p&gt;
&lt;h3 id=&#34;12-数据卷与持久化&#34;&gt;1.2 数据卷与持久化
&lt;/h3&gt;&lt;p&gt;Docker 容器的设计理念之一是&lt;strong&gt;无状态（Stateless）&lt;/strong&gt; ，即容器的文件系统是临时的，当容器被删除时，其内部的所有数据都会丢失。然而，在实际应用中，许多服务（如数据库、文件存储服务等）都需要持久化存储数据。为了解决这个问题，Docker 提供了多种数据持久化机制，其中最核心的是&lt;strong&gt;数据卷（Volume）&lt;/strong&gt; 和&lt;strong&gt;绑定挂载（Bind Mount）&lt;/strong&gt; 。数据卷是由 Docker 引擎管理的、独立于容器生命周期的存储区域。当创建一个数据卷时，Docker 会将其存储在宿主机的一个特定目录下（通常是 &lt;code&gt;/var/lib/docker/volumes/&lt;/code&gt;），并且可以通过卷名来引用它。数据卷可以被一个或多个容器同时挂载和共享，实现了容器间的数据共享和重用。由于数据卷的生命周期独立于容器，即使所有引用它的容器都被删除，数据卷中的数据依然会保留下来，直到用户显式地删除该数据卷。这使得数据卷非常适合用于生产环境，特别是需要持久化存储数据库数据、应用日志或用户上传文件的场景。&lt;/p&gt;
&lt;p&gt;与数据卷不同，&lt;strong&gt;绑定挂载（Bind Mount）&lt;/strong&gt; 是将宿主机文件系统上的一个特定目录或文件直接映射到容器内部。这种方式提供了更高的灵活性，因为开发者可以直接在宿主机上访问和修改容器内的文件，非常适合用于开发环境。例如，开发者可以将本地的代码目录绑定挂载到运行应用的容器中，这样每次修改代码后，无需重新构建镜像，容器内的应用就能立即生效，极大地提高了开发效率。然而，绑定挂载的灵活性也带来了一些潜在的安全风险，因为它打破了容器与宿主机之间的文件系统隔离。此外，Docker 还提供了一种名为 &lt;strong&gt;&lt;code&gt;tmpfs&lt;/code&gt;&lt;/strong&gt; 的挂载方式，它将数据存储在宿主机的内存中，而不是磁盘上。这种方式适用于存储临时数据，如缓存文件或会话信息，因为它能提供极高的读写性能，并且在容器停止后数据会自动清除，不会占用磁盘空间。选择哪种持久化方式取决于具体的应用场景：数据卷适用于生产环境的数据持久化和共享，绑定挂载适用于开发环境的代码实时同步，而 &lt;code&gt;tmpfs&lt;/code&gt; 则适用于对性能要求极高的临时数据存储。&lt;/p&gt;
&lt;h3 id=&#34;13-网络与通信&#34;&gt;1.3 网络与通信
&lt;/h3&gt;&lt;p&gt;Docker 的网络功能为容器化应用提供了强大的通信能力，使得容器之间以及容器与外部世界之间可以进行灵活、高效的数据交换。默认情况下，Docker 会创建一个名为 &lt;strong&gt;&lt;code&gt;bridge&lt;/code&gt;&lt;/strong&gt; 的虚拟网桥，所有新创建的容器都会自动连接到这个网络。在同一个 &lt;code&gt;bridge&lt;/code&gt; 网络中，容器可以通过各自的 IP 地址进行通信。然而，由于容器的 IP 地址在每次重启时可能会发生变化，这种方式在实际应用中并不方便。为了解决这个问题，Docker 支持自定义网络，用户可以通过 &lt;code&gt;docker network create&lt;/code&gt; 命令创建一个自定义的 &lt;code&gt;bridge&lt;/code&gt; 网络。当容器连接到同一个自定义网络时，它们不仅可以通过 IP 地址通信，更重要的是可以&lt;strong&gt;通过容器名称进行通信&lt;/strong&gt;，因为 Docker 内置的 DNS 服务会自动将容器名称解析为其在自定义网络中的 IP 地址。这种基于容器名称的通信方式极大地简化了服务间的调用，特别是在使用 Docker Compose 等编排工具时，服务之间可以直接通过服务名进行访问，而无需关心其具体的 IP 地址。&lt;/p&gt;
&lt;p&gt;除了默认的 &lt;code&gt;bridge&lt;/code&gt; 模式，Docker 还支持多种网络模式以满足不同的需求。&lt;strong&gt;&lt;code&gt;host&lt;/code&gt; 模式&lt;/strong&gt;允许容器共享宿主机的网络栈，这意味着容器将使用宿主机的 IP 地址和端口，从而避免了网络地址转换（NAT）带来的性能损耗，适用于对网络性能要求极高的场景。然而，&lt;code&gt;host&lt;/code&gt; 模式也牺牲了容器的网络隔离性，可能会带来安全风险。&lt;strong&gt;&lt;code&gt;none&lt;/code&gt; 模式&lt;/strong&gt;则为容器提供了一个完全隔离的网络环境，容器内部没有任何网络设备，需要用户手动配置网络，适用于一些特殊的、需要完全控制网络栈的场景。对于跨主机部署的容器集群，Docker 提供了 &lt;strong&gt;&lt;code&gt;overlay&lt;/code&gt; 网络模式&lt;/strong&gt;，它允许不同宿主机上的容器像在同一个局域网中一样进行通信，是实现 Docker Swarm 集群服务发现和负载均衡的基础。通过灵活配置这些网络模式和管理命令，开发者可以构建出复杂、可靠且高性能的容器化应用网络架构。&lt;/p&gt;
&lt;h2 id=&#34;2-镜像管理命令&#34;&gt;2. 镜像管理命令
&lt;/h2&gt;&lt;h3 id=&#34;21-获取与查看镜像&#34;&gt;2.1 获取与查看镜像
&lt;/h3&gt;&lt;h4 id=&#34;211-拉取镜像docker-pull&#34;&gt;2.1.1 拉取镜像：&lt;code&gt;docker pull&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker pull&lt;/code&gt; 命令是获取 Docker 镜像最基本也是最常用的方式。它从配置的镜像仓库（默认为 Docker Hub）中下载指定的镜像到本地。命令的基本语法是 &lt;code&gt;docker pull [OPTIONS] NAME[:TAG|@DIGEST]&lt;/code&gt;。其中，&lt;code&gt;NAME&lt;/code&gt; 是镜像的名称，例如 &lt;code&gt;nginx&lt;/code&gt; 或 &lt;code&gt;ubuntu&lt;/code&gt;。&lt;code&gt;TAG&lt;/code&gt; 是镜像的标签，用于标识镜像的不同版本，例如 &lt;code&gt;1.21.5&lt;/code&gt; 或 &lt;code&gt;latest&lt;/code&gt;。如果不指定 &lt;code&gt;TAG&lt;/code&gt;，Docker 会默认拉取 &lt;code&gt;latest&lt;/code&gt; 标签的镜像。&lt;code&gt;@DIGEST&lt;/code&gt; 则是通过镜像的摘要（一个唯一的哈希值）来精确指定要拉取的镜像版本，这可以确保每次拉取的都是完全相同的镜像，避免了因标签更新而带来的不确定性。例如，要拉取特定版本的 Nginx 镜像，可以执行 &lt;code&gt;docker pull nginx:1.21.5&lt;/code&gt;。这个命令会从 Docker Hub 下载 &lt;code&gt;nginx&lt;/code&gt; 镜像的 &lt;code&gt;1.21.5&lt;/code&gt; 版本。在拉取过程中，Docker 会显示下载进度，包括每一层的下载状态。由于镜像是分层的，如果本地已经存在某些层，Docker 会跳过这些层的下载，从而加快拉取速度。&lt;/p&gt;
&lt;p&gt;除了从默认的 Docker Hub 拉取镜像，&lt;code&gt;docker pull&lt;/code&gt; 也支持从其他镜像仓库拉取。用户可以在镜像名称前加上仓库的地址，例如 &lt;code&gt;docker pull registry.cn-hangzhou.aliyuncs.com/acs/nginx:latest&lt;/code&gt;，这表示从阿里云的容器镜像服务（ACR）拉取 &lt;code&gt;nginx&lt;/code&gt; 镜像。为了加速镜像的下载，特别是在国内网络环境下，通常会配置镜像加速器。通过在 Docker 的配置文件 &lt;code&gt;/etc/docker/daemon.json&lt;/code&gt; 中添加 &lt;code&gt;registry-mirrors&lt;/code&gt; 字段，并填入加速器地址，可以显著提高 &lt;code&gt;docker pull&lt;/code&gt; 的速度。例如，配置 &lt;code&gt;&amp;quot;registry-mirrors&amp;quot;: [&amp;quot;https://docker.nju.edu.cn&amp;quot;]&lt;/code&gt; 后，Docker 在拉取镜像时会优先从南京大学的镜像源获取。&lt;code&gt;docker pull&lt;/code&gt; 命令是构建和部署容器化应用的第一步，熟练掌握其用法和配置，是高效使用 Docker 的基础。&lt;/p&gt;
&lt;h4 id=&#34;212-查看本地镜像docker-images&#34;&gt;2.1.2 查看本地镜像：&lt;code&gt;docker images&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker images&lt;/code&gt; 命令用于列出本地主机上存储的所有 Docker 镜像。执行该命令后，会返回一个格式化的表格，其中包含了镜像的关键信息，方便用户快速了解本地镜像的概况。表格的列通常包括 &lt;code&gt;REPOSITORY&lt;/code&gt;（仓库名/镜像名）、&lt;code&gt;TAG&lt;/code&gt;（标签）、&lt;code&gt;IMAGE ID&lt;/code&gt;（镜像的唯一标识符）、&lt;code&gt;CREATED&lt;/code&gt;（镜像的创建时间）和 &lt;code&gt;SIZE&lt;/code&gt;（镜像的大小）。例如，执行 &lt;code&gt;docker images&lt;/code&gt; 可能会看到如下输出：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;REPOSITORY   TAG       IMAGE ID       CREATED        SIZE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nginx        1.21.5    605c77e624dd   2 weeks ago    141MB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ubuntu       20.04     ba6acccedd29   2 months ago   72.8MB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;centos       7         eeb6ee3f44bd   3 months ago   204MB
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;这个输出清晰地展示了本地有三个镜像：一个 Nginx 镜像、一个 Ubuntu 镜像和一个 CentOS 镜像，以及它们各自的版本标签、ID、创建时间和大小。&lt;code&gt;IMAGE ID&lt;/code&gt; 是镜像的唯一标识，通常是一个 12 位的十六进制字符串，在需要对镜像进行精确操作时（如删除、打标签等）非常有用。&lt;code&gt;TAG&lt;/code&gt; 则用于区分同一个镜像的不同版本，例如 &lt;code&gt;nginx:1.21.5&lt;/code&gt; 和 &lt;code&gt;nginx:latest&lt;/code&gt; 虽然名称相同，但代表了不同的版本。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker images&lt;/code&gt; 命令还支持一些选项来过滤和格式化输出。例如，使用 &lt;code&gt;-q&lt;/code&gt; 或 &lt;code&gt;--quiet&lt;/code&gt; 选项可以只显示镜像的 ID，这在需要批量处理镜像时非常有用，例如 &lt;code&gt;docker rmi $(docker images -q)&lt;/code&gt; 可以删除所有本地镜像。使用 &lt;code&gt;--filter&lt;/code&gt; 选项可以根据特定条件过滤镜像，例如 &lt;code&gt;docker images --filter &amp;quot;dangling=true&amp;quot;&lt;/code&gt; 可以列出所有未被任何容器引用的“悬空”镜像。此外，还可以通过 &lt;code&gt;--format&lt;/code&gt; 选项自定义输出格式，例如 &lt;code&gt;docker images --format &amp;quot;table {{.Repository}}\\t{{.Tag}}\\t{{.Size}}&amp;quot;&lt;/code&gt; 可以只显示仓库名、标签和大小三列。这些高级选项使得 &lt;code&gt;docker images&lt;/code&gt; 不仅是一个简单的列表工具，更是一个强大的镜像管理辅助命令。&lt;/p&gt;
&lt;h4 id=&#34;213-查看镜像详情docker-inspect&#34;&gt;2.1.3 查看镜像详情：&lt;code&gt;docker inspect&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker inspect&lt;/code&gt; 命令用于获取 Docker 对象（包括镜像、容器、网络、数据卷等）的详细配置信息。当应用于镜像时，它会返回一个包含大量信息的 JSON 格式输出，这些信息涵盖了镜像的方方面面，是深入了解镜像内部结构和配置的利器。命令的基本语法是 &lt;code&gt;docker inspect [OPTIONS] IMAGE [IMAGE...]&lt;/code&gt;，其中 &lt;code&gt;IMAGE&lt;/code&gt; 可以是镜像的名称（如 &lt;code&gt;nginx:1.21.5&lt;/code&gt;）或镜像 ID（如 &lt;code&gt;605c77e624dd&lt;/code&gt;）。返回的 JSON 数据包含了镜像的架构（Architecture）、操作系统（Os）、创建时间（Created）、作者（Author）、配置（Config）、根文件系统（RootFS）、分层信息（Layers）等。&lt;/p&gt;
&lt;p&gt;在 &lt;code&gt;Config&lt;/code&gt; 字段中，可以找到镜像的默认环境变量（Env）、工作目录（WorkingDir）、默认命令（Cmd）、入口点（Entrypoint）、暴露的端口（ExposedPorts）等关键配置信息。这些信息对于理解容器启动时的行为至关重要。例如，通过查看 &lt;code&gt;Cmd&lt;/code&gt; 和 &lt;code&gt;Entrypoint&lt;/code&gt;，可以知道容器启动时会执行哪个命令。&lt;code&gt;RootFS&lt;/code&gt; 字段则详细列出了构成镜像的所有层（Layers），每一层都有一个唯一的 &lt;code&gt;diff_id&lt;/code&gt;，这与 &lt;code&gt;docker history&lt;/code&gt; 命令的输出相对应，展示了镜像的构建历史。&lt;code&gt;Architecture&lt;/code&gt; 和 &lt;code&gt;Os&lt;/code&gt; 字段则表明了该镜像是为哪种硬件架构和操作系统构建的，这对于在多架构环境中部署应用非常重要。&lt;/p&gt;
&lt;p&gt;由于 &lt;code&gt;docker inspect&lt;/code&gt; 的输出是 JSON 格式，通常会结合 &lt;code&gt;jq&lt;/code&gt; 等命令行工具来提取特定的信息。例如，&lt;code&gt;docker inspect nginx:1.21.5 | jq &#39;.[0].Config.Env&#39;&lt;/code&gt; 可以只查看该镜像设置的环境变量。&lt;code&gt;docker inspect&lt;/code&gt; 是进行故障排查、镜像分析和自动化脚本编写时不可或缺的工具。通过它，用户可以获取到比 &lt;code&gt;docker images&lt;/code&gt; 和 &lt;code&gt;docker history&lt;/code&gt; 更为详尽和底层的镜像信息，从而实现对 Docker 环境的精细化管理和控制。&lt;/p&gt;
&lt;h4 id=&#34;214-查看镜像历史docker-history&#34;&gt;2.1.4 查看镜像历史：&lt;code&gt;docker history&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker history&lt;/code&gt; 命令用于展示一个 Docker 镜像的构建历史，即构成该镜像的每一层（Layer）是如何被创建的。这对于理解镜像的构成、分析镜像大小以及优化 Dockerfile 都非常有帮助。命令的基本语法是 &lt;code&gt;docker history [OPTIONS] IMAGE&lt;/code&gt;，其中 &lt;code&gt;IMAGE&lt;/code&gt; 可以是镜像的名称或 ID。执行该命令后，会返回一个表格，列出了镜像的每一层，从上到下依次显示了从基础镜像到最终镜像的构建过程。表格的列通常包括 &lt;code&gt;IMAGE&lt;/code&gt;（层的 ID）、&lt;code&gt;CREATED&lt;/code&gt;（层的创建时间）、&lt;code&gt;CREATED BY&lt;/code&gt;（创建该层的指令）、&lt;code&gt;SIZE&lt;/code&gt;（该层的大小）和 &lt;code&gt;COMMENT&lt;/code&gt;（注释）。&lt;/p&gt;
&lt;p&gt;例如，执行 &lt;code&gt;docker history nginx:1.21.5&lt;/code&gt; 可能会看到如下输出：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;IMAGE          CREATED        CREATED BY                                      SIZE      COMMENT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop)  CMD [&amp;#34;nginx&amp;#34; &amp;#34;-g&amp;#34; &amp;#34;daemon…   0B        
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop)  STOPSIGNAL SIGQUIT           0B        
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop)  EXPOSE 80                    0B        
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop)  ENTRYPOINT [&amp;#34;/docker-entr…   0B        
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop) COPY file:09a214a3e51c9a5…   4.61kB    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop) COPY file:0fd5fca330dcd6a7…   1.04kB    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop) COPY file:0b866ff3fc1ef5b0…   1.95kB    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop) COPY file:65504f71f5855ca…   1.2kB     
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c set -x     &amp;amp;&amp;amp; addgroup --system -…   61.1MB    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop)  ENV PKG_RELEASE=1~bullseye   0B        
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop)  ENV NJS_VERSION=0.7.1        0B        
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop)  ENV NGINX_VERSION=1.21.5     0B        
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop)  LABEL maintainer=NGINX Do…   0B        
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 weeks ago    /bin/sh -c #(nop)  CMD [&amp;#34;bash&amp;#34;]                 0B        
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;missing&amp;gt;      2 months ago   /bin/sh -c #(nop) ADD file:09675d11695f65c55…   80.4MB    
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;从这个输出可以清晰地看到，这个 Nginx 镜像是基于一个 Debian 基础镜像（最后一行，大小为 80.4MB），然后通过一系列的 &lt;code&gt;RUN&lt;/code&gt;、&lt;code&gt;COPY&lt;/code&gt;、&lt;code&gt;ENV&lt;/code&gt; 等指令逐层构建而成。&lt;code&gt;CREATED BY&lt;/code&gt; 列显示了创建每一层的具体 Dockerfile 指令。&lt;code&gt;SIZE&lt;/code&gt; 列则显示了每一层对镜像总大小的贡献。通过分析这些信息，可以找出镜像中体积较大的层，并针对性地优化 Dockerfile，例如合并多个 &lt;code&gt;RUN&lt;/code&gt; 指令、清理不必要的缓存文件等，从而减小最终镜像的体积。&lt;code&gt;docker history&lt;/code&gt; 是镜像优化和故障排查过程中的一个重要工具。&lt;/p&gt;
&lt;h3 id=&#34;22-管理镜像&#34;&gt;2.2 管理镜像
&lt;/h3&gt;&lt;h4 id=&#34;221-删除镜像docker-rmi&#34;&gt;2.2.1 删除镜像：&lt;code&gt;docker rmi&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker rmi&lt;/code&gt; 命令用于删除本地主机上的一个或多个 Docker 镜像。其基本语法是 &lt;code&gt;docker rmi [OPTIONS] IMAGE [IMAGE...]&lt;/code&gt;，其中 &lt;code&gt;IMAGE&lt;/code&gt; 可以是镜像的名称（如 &lt;code&gt;nginx:latest&lt;/code&gt;）或镜像 ID（如 &lt;code&gt;605c77e624dd&lt;/code&gt;）。这个命令是清理本地磁盘空间、移除不再需要的镜像的常用手段。在执行删除操作时，Docker 会检查是否有正在运行的容器引用了该镜像。如果存在正在运行的容器，Docker 会拒绝删除该镜像，并提示错误信息。这是为了防止意外删除正在使用的镜像，导致容器无法正常运行。&lt;/p&gt;
&lt;p&gt;为了强制删除镜像，即使存在引用它的容器，可以使用 &lt;code&gt;-f&lt;/code&gt; 或 &lt;code&gt;--force&lt;/code&gt; 选项。例如，&lt;code&gt;docker rmi -f nginx:latest&lt;/code&gt; 会强制删除 &lt;code&gt;nginx:latest&lt;/code&gt; 镜像，无论是否有容器正在使用它。需要注意的是，强制删除正在运行的容器所依赖的镜像可能会导致容器出现问题，因此应谨慎使用。一个更安全的做法是，先停止并删除所有引用该镜像的容器，然后再执行 &lt;code&gt;docker rmi&lt;/code&gt; 命令。例如，可以先执行 &lt;code&gt;docker ps -a&lt;/code&gt; 找到所有基于该镜像的容器，然后使用 &lt;code&gt;docker rm&lt;/code&gt; 删除它们，最后再执行 &lt;code&gt;docker rmi&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker rmi&lt;/code&gt; 命令也支持批量删除镜像。例如，&lt;code&gt;docker rmi $(docker images -q)&lt;/code&gt; 会删除本地所有的镜像。这个命令通常与 &lt;code&gt;docker images -q&lt;/code&gt;（只输出镜像 ID）结合使用，以实现自动化清理。此外，还可以结合 &lt;code&gt;--filter&lt;/code&gt; 选项来删除特定条件的镜像，例如 &lt;code&gt;docker rmi $(docker images -q --filter &amp;quot;dangling=true&amp;quot;)&lt;/code&gt; 可以删除所有未被任何容器引用的悬空镜像。熟练掌握 &lt;code&gt;docker rmi&lt;/code&gt; 及其选项，对于维护一个干净、高效的本地 Docker 环境至关重要。&lt;/p&gt;
&lt;h4 id=&#34;222-重命名打标签docker-tag&#34;&gt;2.2.2 重命名/打标签：&lt;code&gt;docker tag&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker tag&lt;/code&gt; 命令用于为本地的一个镜像创建一个新的标签（Tag），或者将一个镜像标记为另一个名称。这个命令并不会创建一个新的镜像，也不会复制镜像的数据，它只是为同一个镜像 ID 创建了一个新的引用。其基本语法是 &lt;code&gt;docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]&lt;/code&gt;。其中，&lt;code&gt;SOURCE_IMAGE&lt;/code&gt; 是源镜像的名称或 ID，&lt;code&gt;TARGET_IMAGE&lt;/code&gt; 是目标镜像的名称和标签。例如，&lt;code&gt;docker tag nginx:1.21.5 myregistry.com/mynginx:v1.0&lt;/code&gt; 命令会将本地的 &lt;code&gt;nginx:1.21.5&lt;/code&gt; 镜像标记为 &lt;code&gt;myregistry.com/mynginx:v1.0&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;这个命令在多个场景下都非常有用。首先，在将镜像推送到私有仓库之前，通常需要使用 &lt;code&gt;docker tag&lt;/code&gt; 为镜像打上符合私有仓库命名规范的标签。例如，私有仓库的地址通常是 &lt;code&gt;registry.example.com&lt;/code&gt;，那么就需要将镜像标记为 &lt;code&gt;registry.example.com/namespace/image:tag&lt;/code&gt; 的形式。其次，&lt;code&gt;docker tag&lt;/code&gt; 也常用于为镜像创建有意义的版本标签。例如，在开发过程中，可以为每次构建的镜像打上不同的版本号标签，如 &lt;code&gt;v1.0&lt;/code&gt;, &lt;code&gt;v1.1&lt;/code&gt;, &lt;code&gt;v2.0&lt;/code&gt; 等，以便于版本管理和回滚。一个镜像可以有多个标签，它们都指向同一个镜像 ID。例如，&lt;code&gt;nginx:latest&lt;/code&gt; 和 &lt;code&gt;nginx:1.21.5&lt;/code&gt; 可能指向同一个镜像。&lt;/p&gt;
&lt;p&gt;由于 &lt;code&gt;docker tag&lt;/code&gt; 只是创建了一个引用，因此它几乎是瞬时完成的，不会占用额外的磁盘空间。要删除一个标签，可以使用 &lt;code&gt;docker rmi&lt;/code&gt; 命令，但需要注意的是，只有当镜像的所有标签都被删除后，镜像本身的数据才会被真正移除。&lt;code&gt;docker tag&lt;/code&gt; 是镜像管理流程中的一个重要环节，它使得镜像的命名、版本控制和分发变得更加灵活和高效。&lt;/p&gt;
&lt;h4 id=&#34;223-导出镜像docker-save&#34;&gt;2.2.3 导出镜像：&lt;code&gt;docker save&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker save&lt;/code&gt; 命令用于将一个或多个 Docker 镜像打包成一个 tar 归档文件。这个命令在需要将镜像离线传输、备份或在没有网络连接的环境中部署应用时非常有用。其基本语法是 &lt;code&gt;docker save [OPTIONS] IMAGE [IMAGE...]&lt;/code&gt;。例如，&lt;code&gt;docker save -o nginx.tar nginx:1.21.5&lt;/code&gt; 命令会将 &lt;code&gt;nginx:1.21.5&lt;/code&gt; 镜像保存为当前目录下的 &lt;code&gt;nginx.tar&lt;/code&gt; 文件。其中，&lt;code&gt;-o&lt;/code&gt; 或 &lt;code&gt;--output&lt;/code&gt; 选项用于指定输出文件的路径和名称。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker save&lt;/code&gt; 命令会将镜像的所有层（Layers）以及相关的元数据（如标签、创建时间等）都打包到 tar 文件中。这意味着，当使用 &lt;code&gt;docker load&lt;/code&gt; 命令导入这个 tar 文件时，可以完整地恢复出原始的镜像。如果需要一次性导出多个镜像，可以在命令中指定多个镜像名称或 ID，例如 &lt;code&gt;docker save -o images.tar nginx:1.21.5 ubuntu:20.04&lt;/code&gt;。这会将 &lt;code&gt;nginx:1.21.5&lt;/code&gt; 和 &lt;code&gt;ubuntu:20.04&lt;/code&gt; 两个镜像都打包到 &lt;code&gt;images.tar&lt;/code&gt; 文件中。&lt;/p&gt;
&lt;p&gt;导出的 tar 文件可以通过各种方式（如 U 盘、scp、rsync 等）传输到目标机器。在目标机器上，只需使用 &lt;code&gt;docker load&lt;/code&gt; 命令即可将镜像导入到本地的 Docker 环境中。&lt;code&gt;docker save&lt;/code&gt; 和 &lt;code&gt;docker load&lt;/code&gt; 的组合，为 Docker 镜像的离线分发提供了一种简单而可靠的解决方案，特别适用于企业内部网络、安全要求高的环境或网络条件不佳的场景。需要注意的是，导出的 tar 文件可能会比较大，因为它包含了镜像的所有层。&lt;/p&gt;
&lt;h4 id=&#34;224-导入镜像docker-load&#34;&gt;2.2.4 导入镜像：&lt;code&gt;docker load&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker load&lt;/code&gt; 命令是 &lt;code&gt;docker save&lt;/code&gt; 的逆操作，它用于从一个 tar 归档文件中导入 Docker 镜像。这个命令通常与 &lt;code&gt;docker save&lt;/code&gt; 配合使用，用于在离线环境中恢复或部署镜像。其基本语法是 &lt;code&gt;docker load [OPTIONS]&lt;/code&gt;。用户可以通过 &lt;code&gt;-i&lt;/code&gt; 或 &lt;code&gt;--input&lt;/code&gt; 选项指定要导入的 tar 文件，或者通过管道（pipe）从标准输入（stdin）读取数据。例如，&lt;code&gt;docker load -i nginx.tar&lt;/code&gt; 命令会从 &lt;code&gt;nginx.tar&lt;/code&gt; 文件中导入镜像。如果 tar 文件是通过管道传输的，可以使用 &lt;code&gt;cat nginx.tar | docker load&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;当执行 &lt;code&gt;docker load&lt;/code&gt; 命令时，Docker 会读取 tar 文件中的内容，并将其中的镜像层和元数据恢复到本地的镜像仓库中。导入完成后，可以使用 &lt;code&gt;docker images&lt;/code&gt; 命令来验证镜像是否已经成功导入。导入的镜像会保留其原始的名称和标签。如果本地已经存在同名的镜像，&lt;code&gt;docker load&lt;/code&gt; 会覆盖它。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker load&lt;/code&gt; 命令在以下场景中特别有用：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;离线部署&lt;/strong&gt;：在无法访问公共镜像仓库（如 Docker Hub）的环境中，可以先将镜像在联网环境中用 &lt;code&gt;docker save&lt;/code&gt; 导出，然后将 tar 文件拷贝到离线环境中，再用 &lt;code&gt;docker load&lt;/code&gt; 导入。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;镜像备份与恢复&lt;/strong&gt;：可以将重要的镜像用 &lt;code&gt;docker save&lt;/code&gt; 导出并备份，当需要恢复时，再用 &lt;code&gt;docker load&lt;/code&gt; 导入。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;镜像分发&lt;/strong&gt;：在团队内部或企业内部，可以将构建好的应用镜像导出为 tar 文件，然后分发给其他成员或部署到生产服务器上。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;docker load&lt;/code&gt; 和 &lt;code&gt;docker save&lt;/code&gt; 共同构成了 Docker 镜像的离线管理方案，为镜像的传输、备份和分发提供了便利，是 Docker 工具链中不可或缺的一部分。&lt;/p&gt;
&lt;h2 id=&#34;3-容器管理命令&#34;&gt;3. 容器管理命令
&lt;/h2&gt;&lt;h3 id=&#34;31-创建与运行容器docker-run&#34;&gt;3.1 创建与运行容器：&lt;code&gt;docker run&lt;/code&gt;
&lt;/h3&gt;&lt;p&gt;&lt;code&gt;docker run&lt;/code&gt; 是 Docker 中最核心、最复杂的命令之一，它用于基于指定的镜像创建一个新的容器，并启动该容器。这个命令集成了大量的选项，允许用户对容器的运行方式进行精细的控制，包括网络设置、数据卷挂载、环境变量配置、资源限制等。其基本语法是 &lt;code&gt;docker run [OPTIONS] IMAGE [COMMAND] [ARG...]&lt;/code&gt;。其中，&lt;code&gt;IMAGE&lt;/code&gt; 是指定要运行的镜像，&lt;code&gt;COMMAND&lt;/code&gt; 和 &lt;code&gt;ARG&lt;/code&gt; 是可选的，用于覆盖镜像中定义的默认启动命令和参数。&lt;/p&gt;
&lt;p&gt;当执行 &lt;code&gt;docker run&lt;/code&gt; 命令时，Docker 引擎会执行以下步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;检查本地镜像&lt;/strong&gt;：首先，Docker 会在本地查找指定的镜像。如果本地不存在，它会尝试从配置的镜像仓库（如 Docker Hub）中拉取该镜像。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;创建容器&lt;/strong&gt;：Docker 会基于镜像创建一个可写的容器层，并设置好容器的文件系统。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;配置网络&lt;/strong&gt;：根据命令行选项，Docker 会为容器分配一个网络接口，并将其连接到指定的网络（默认为 &lt;code&gt;bridge&lt;/code&gt; 网络）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;挂载数据卷&lt;/strong&gt;：如果指定了 &lt;code&gt;-v&lt;/code&gt; 或 &lt;code&gt;--mount&lt;/code&gt; 选项，Docker 会将数据卷或宿主机目录挂载到容器内部。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;设置环境变量&lt;/strong&gt;：通过 &lt;code&gt;-e&lt;/code&gt; 选项设置的环境变量会被添加到容器的运行环境中。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;启动容器&lt;/strong&gt;：最后，Docker 会启动容器，并执行镜像中定义的默认命令（或通过 &lt;code&gt;COMMAND&lt;/code&gt; 参数指定的命令）。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;docker run&lt;/code&gt; 命令的选项非常丰富，掌握这些选项是高效使用 Docker 的关键。例如，&lt;code&gt;-d&lt;/code&gt; 选项可以让容器在后台以守护进程模式运行；&lt;code&gt;-p&lt;/code&gt; 选项用于端口映射，将容器的端口暴露到宿主机上；&lt;code&gt;-v&lt;/code&gt; 选项用于挂载数据卷，实现数据持久化；&lt;code&gt;--name&lt;/code&gt; 选项可以为容器指定一个易于识别的名称。通过组合使用这些选项，可以灵活地创建出满足各种需求的容器化应用。&lt;/p&gt;
&lt;h4 id=&#34;311-核心选项详解&#34;&gt;3.1.1 核心选项详解
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker run&lt;/code&gt; 命令提供了大量的选项来控制容器的行为，以下是一些最常用和最重要的核心选项的详细解释：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-d&lt;/code&gt;, &lt;code&gt;--detach&lt;/code&gt;&lt;/strong&gt;: 在后台运行容器并打印出容器 ID。这是运行长期服务（如 Web 服务器、数据库）时最常用的选项。容器启动后，会立即返回命令行提示符，而容器则在后台继续运行。例如：&lt;code&gt;docker run -d nginx&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-i&lt;/code&gt;, &lt;code&gt;--interactive&lt;/code&gt;&lt;/strong&gt;: 保持容器的标准输入（STDIN）打开。通常与 &lt;code&gt;-t&lt;/code&gt; 选项一起使用，用于创建一个交互式的会话。即使容器没有连接终端，&lt;code&gt;-i&lt;/code&gt; 也会保持输入流打开，使得可以向容器发送输入。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-t&lt;/code&gt;, &lt;code&gt;--tty&lt;/code&gt;&lt;/strong&gt;: 为容器分配一个伪终端（pseudo-TTY）。这使得容器内的命令行界面看起来更像一个真实的终端，支持颜色输出、命令行编辑等功能。通常与 &lt;code&gt;-i&lt;/code&gt; 结合使用，即 &lt;code&gt;-it&lt;/code&gt;，以获得一个完整的交互式 shell 体验。例如：&lt;code&gt;docker run -it ubuntu /bin/bash&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-p&lt;/code&gt;, &lt;code&gt;--publish&lt;/code&gt;&lt;/strong&gt;: 将容器的端口映射到宿主机。格式为 &lt;code&gt;宿主机端口:容器端口&lt;/code&gt;。这是让外部网络访问容器内服务的关键。例如，&lt;code&gt;-p 8080:80&lt;/code&gt; 表示将容器的 80 端口映射到宿主机的 8080 端口。也可以指定协议，如 &lt;code&gt;-p 8080:80/tcp&lt;/code&gt;。如果省略宿主机端口，Docker 会自动分配一个随机端口。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-v&lt;/code&gt;, &lt;code&gt;--volume&lt;/code&gt;&lt;/strong&gt;: 挂载数据卷或宿主机目录到容器。格式为 &lt;code&gt;宿主机路径:容器路径&lt;/code&gt;（绑定挂载）或 &lt;code&gt;卷名:容器路径&lt;/code&gt;（数据卷挂载）。这是实现数据持久化的主要方式。例如，&lt;code&gt;-v /data:/var/lib/mysql&lt;/code&gt; 将宿主机的 &lt;code&gt;/data&lt;/code&gt; 目录挂载到容器的 &lt;code&gt;/var/lib/mysql&lt;/code&gt; 目录。还可以指定读写权限，如 &lt;code&gt;-v /data:/var/lib/mysql:ro&lt;/code&gt; 表示只读挂载。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;--name&lt;/code&gt;&lt;/strong&gt;: 为容器指定一个名称。如果不指定，Docker 会自动生成一个随机的名称。指定一个有意义的名称可以方便地引用和管理容器，例如 &lt;code&gt;docker run --name my-web-server nginx&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;--network&lt;/code&gt;&lt;/strong&gt;: 指定容器连接的网络。默认为 &lt;code&gt;bridge&lt;/code&gt;。可以连接到自定义的 &lt;code&gt;bridge&lt;/code&gt; 网络，或者使用 &lt;code&gt;host&lt;/code&gt;、&lt;code&gt;none&lt;/code&gt; 等特殊网络模式。例如，&lt;code&gt;--network my-custom-net&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-e&lt;/code&gt;, &lt;code&gt;--env&lt;/code&gt;&lt;/strong&gt;: 设置环境变量。格式为 &lt;code&gt;KEY=VALUE&lt;/code&gt;。可以多次使用该选项来设置多个环境变量。例如，&lt;code&gt;-e MYSQL_ROOT_PASSWORD=my-secret-pw&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;--rm&lt;/code&gt;&lt;/strong&gt;: 在容器退出后自动删除容器。这在运行一次性任务或测试时非常有用，可以避免手动清理容器的麻烦。例如，&lt;code&gt;docker run --rm alpine ls -l&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;--restart&lt;/code&gt;&lt;/strong&gt;: 配置容器的重启策略。例如，&lt;code&gt;--restart=always&lt;/code&gt; 表示无论容器因何种原因退出，Docker 都会自动重启它。这对于需要保持高可用的服务非常重要。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;熟练掌握这些核心选项，并根据实际需求进行组合，是创建和管理功能强大、配置灵活的 Docker 容器的基础。&lt;/p&gt;
&lt;h4 id=&#34;312-交互式运行示例&#34;&gt;3.1.2 交互式运行示例
&lt;/h4&gt;&lt;p&gt;交互式运行容器是 Docker 的一个强大功能，它允许用户进入一个容器的 shell 环境，就像登录到一台虚拟机一样，可以执行命令、查看文件、调试程序等。这主要通过组合使用 &lt;code&gt;-i&lt;/code&gt;（保持标准输入打开）和 &lt;code&gt;-t&lt;/code&gt;（分配伪终端）两个选项来实现。最常见的交互式运行命令是 &lt;code&gt;docker run -it IMAGE /bin/bash&lt;/code&gt;，其中 &lt;code&gt;IMAGE&lt;/code&gt; 是要运行的镜像，&lt;code&gt;/bin/bash&lt;/code&gt; 是容器启动后要执行的命令，即启动一个 bash shell。&lt;/p&gt;
&lt;p&gt;例如，要在一个 Ubuntu 镜像中启动一个交互式会话，可以执行以下命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -it ubuntu:20.04 /bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;执行后，命令行提示符会变为 &lt;code&gt;root@container_id:/#&lt;/code&gt;，表示你已经进入了容器的 root 用户 shell。在这里，你可以像在普通的 Ubuntu 系统中一样执行各种命令，比如 &lt;code&gt;ls -l&lt;/code&gt; 查看目录内容，&lt;code&gt;apt-get update&lt;/code&gt; 更新软件包列表，或者 &lt;code&gt;cat /etc/os-release&lt;/code&gt; 查看系统信息。所有的操作都只在当前容器内部生效，不会影响到宿主机或其他容器。&lt;/p&gt;
&lt;p&gt;要退出交互式会话，可以输入 &lt;code&gt;exit&lt;/code&gt; 命令或按下 &lt;code&gt;Ctrl+D&lt;/code&gt;。此时，容器会停止运行，因为容器的主进程（&lt;code&gt;/bin/bash&lt;/code&gt;）已经结束。如果希望在退出后容器仍然在后台运行，可以使用 &lt;code&gt;docker run -itd IMAGE /bin/bash&lt;/code&gt; 命令，即在 &lt;code&gt;-it&lt;/code&gt; 的基础上再添加 &lt;code&gt;-d&lt;/code&gt;（后台运行）选项。这样，即使退出了 shell，容器也会作为一个守护进程继续运行。之后，可以使用 &lt;code&gt;docker exec -it CONTAINER_ID /bin/bash&lt;/code&gt; 再次进入这个正在运行的容器。&lt;/p&gt;
&lt;p&gt;交互式运行容器在开发和调试过程中非常有用。例如，当应用容器无法正常启动时，可以以交互式方式运行同一个镜像，手动启动应用并查看错误日志，从而快速定位问题。它也是学习 Docker 和 Linux 系统的一个绝佳方式，可以安全地进行各种实验，而不用担心破坏宿主机环境。&lt;/p&gt;
&lt;h4 id=&#34;313-后台运行示例&#34;&gt;3.1.3 后台运行示例
&lt;/h4&gt;&lt;p&gt;在生产环境中，大多数服务（如 Web 服务器、数据库、消息队列等）都需要作为长期运行的守护进程在后台运行。Docker 提供了 &lt;code&gt;-d&lt;/code&gt; 或 &lt;code&gt;--detach&lt;/code&gt; 选项来实现这一功能。当使用 &lt;code&gt;docker run -d&lt;/code&gt; 命令时，Docker 会在启动容器后立即返回容器 ID，并将容器置于后台运行，而不会占用当前终端。这是部署服务时最常用的方式。&lt;/p&gt;
&lt;p&gt;例如，要在后台运行一个 Nginx Web 服务器，可以执行以下命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -d --name my-nginx -p 80:80 nginx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在这个命令中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-d&lt;/code&gt; 表示在后台运行容器。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--name my-nginx&lt;/code&gt; 为容器指定了一个易于识别的名称 &lt;code&gt;my-nginx&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-p 80:80&lt;/code&gt; 将容器的 80 端口映射到宿主机的 80 端口，使得外部用户可以通过访问宿主机的 IP 地址来访问 Nginx 服务。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nginx&lt;/code&gt; 是要运行的镜像名称。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;执行命令后，终端会立即返回一个容器 ID，例如 &lt;code&gt;a1b2c3d4e5f6&lt;/code&gt;。此时，Nginx 服务已经在后台容器中启动并运行。你可以通过 &lt;code&gt;docker ps&lt;/code&gt; 命令来查看正在运行的容器，确认 &lt;code&gt;my-nginx&lt;/code&gt; 容器的状态。现在，你就可以在浏览器中访问宿主机的 IP 地址，看到 Nginx 的欢迎页面了。&lt;/p&gt;
&lt;p&gt;对于需要在后台运行的应用，其 Dockerfile 中通常会定义一个能够持续运行的命令作为 &lt;code&gt;CMD&lt;/code&gt; 或 &lt;code&gt;ENTRYPOINT&lt;/code&gt;。例如，Nginx 镜像的默认命令是 &lt;code&gt;nginx -g &amp;quot;daemon off;&amp;quot;&lt;/code&gt;，这个命令会让 Nginx 在前台运行，从而保持容器的活跃状态。如果容器的主进程退出，容器也会随之停止。因此，在设计需要后台运行的应用时，必须确保其主进程是长期运行的。&lt;code&gt;docker run -d&lt;/code&gt; 是容器化部署服务的基础，它使得服务的启动和管理变得非常简单和高效。&lt;/p&gt;
&lt;h4 id=&#34;314-端口映射与数据卷挂载示例&#34;&gt;3.1.4 端口映射与数据卷挂载示例
&lt;/h4&gt;&lt;p&gt;端口映射和数据卷挂载是 &lt;code&gt;docker run&lt;/code&gt; 命令中两个至关重要的功能，它们分别解决了容器与外部世界的通信问题和容器的数据持久化问题。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;端口映射&lt;/strong&gt; 通过 &lt;code&gt;-p&lt;/code&gt; 选项实现，它将容器内部的网络端口映射到宿主机的端口上，从而使得外部网络可以访问容器内运行的服务。其基本格式为 &lt;code&gt;-p 宿主机端口:容器端口&lt;/code&gt;。例如，运行一个 Tomcat 应用服务器，其默认端口是 8080，如果希望外部通过宿主机的 8080 端口来访问它，可以这样运行容器：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -d -p 8080:8080 --name my-tomcat tomcat:9.0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在这个例子中，任何发送到宿主机 &lt;code&gt;IP:8080&lt;/code&gt; 的 HTTP 请求都会被 Docker 引擎转发到 &lt;code&gt;my-tomcat&lt;/code&gt; 容器的 8080 端口。端口映射还支持指定协议（如 &lt;code&gt;tcp&lt;/code&gt; 或 &lt;code&gt;udp&lt;/code&gt;），以及绑定到特定的宿主机 IP 地址，例如 &lt;code&gt;-p 127.0.0.1:8080:8080&lt;/code&gt; 表示只允许从本地回环地址访问。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;数据卷挂载&lt;/strong&gt; 通过 &lt;code&gt;-v&lt;/code&gt; 选项实现，它将宿主机上的目录或 Docker 管理的数据卷挂载到容器内部，从而实现数据的持久化和共享。这对于需要保存状态的服务（如数据库）或需要在宿主机和容器之间共享文件（如开发环境中的代码）至关重要。例如，运行一个 MySQL 数据库，并希望将其数据文件持久化存储在宿主机的 &lt;code&gt;/data/mysql&lt;/code&gt; 目录下，可以这样运行容器：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --name my-mysql &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -e &lt;span class=&#34;nv&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;my-secret-pw &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -v /data/mysql:/var/lib/mysql &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  mysql:8.0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在这个例子中，&lt;code&gt;-v /data/mysql:/var/lib/mysql&lt;/code&gt; 将宿主机的 &lt;code&gt;/data/mysql&lt;/code&gt; 目录挂载到了容器的 &lt;code&gt;/var/lib/mysql&lt;/code&gt; 目录（MySQL 默认的数据存储路径）。这样，即使 &lt;code&gt;my-mysql&lt;/code&gt; 容器被删除，数据库的数据文件依然会保存在宿主机的 &lt;code&gt;/data/mysql&lt;/code&gt; 目录中，当再次启动一个新的 MySQL 容器并挂载同一个目录时，数据将得以恢复。&lt;/p&gt;
&lt;p&gt;端口映射和数据卷挂载的结合使用，使得 Docker 容器能够灵活地对外提供服务，并安全地管理其数据，是构建健壮、可维护的容器化应用的核心技术。&lt;/p&gt;
&lt;h3 id=&#34;32-容器生命周期管理&#34;&gt;3.2 容器生命周期管理
&lt;/h3&gt;&lt;h4 id=&#34;321-查看容器docker-ps&#34;&gt;3.2.1 查看容器：&lt;code&gt;docker ps&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker ps&lt;/code&gt; 命令是用于查看和管理 Docker 容器状态的核心工具。默认情况下，它只列出当前正在运行的容器。执行该命令后，会返回一个格式化的表格，包含了容器的核心信息，如 &lt;code&gt;CONTAINER ID&lt;/code&gt;（容器 ID）、&lt;code&gt;IMAGE&lt;/code&gt;（使用的镜像）、&lt;code&gt;COMMAND&lt;/code&gt;（启动命令）、&lt;code&gt;CREATED&lt;/code&gt;（创建时间）、&lt;code&gt;STATUS&lt;/code&gt;（状态）、&lt;code&gt;PORTS&lt;/code&gt;（端口映射）和 &lt;code&gt;NAMES&lt;/code&gt;（容器名称）。例如：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CONTAINER ID   IMAGE          COMMAND                  CREATED          STATUS          PORTS                  NAMES
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;a1b2c3d4e5f6   nginx:1.21.5   &amp;#34;/docker-entrypoint.…&amp;#34;   10 minutes ago   Up 10 minutes   0.0.0.0:80-&amp;gt;80/tcp     my-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;f7g8h9i0j1k2   mysql:8.0      &amp;#34;docker-entrypoint.s…&amp;#34;   2 hours ago      Up 2 hours      3306/tcp, 33060/tcp    my-mysql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;这个输出清晰地展示了当前有两个正在运行的容器：&lt;code&gt;my-nginx&lt;/code&gt; 和 &lt;code&gt;my-mysql&lt;/code&gt;，以及它们的详细信息。&lt;/p&gt;
&lt;p&gt;为了查看包括已停止在内的所有容器，可以使用 &lt;code&gt;-a&lt;/code&gt; 或 &lt;code&gt;--all&lt;/code&gt; 选项，即 &lt;code&gt;docker ps -a&lt;/code&gt;。这对于查找之前运行过但现在已经退出的容器非常有用，可以帮助用户了解容器的完整历史状态。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker ps&lt;/code&gt; 还提供了其他一些有用的选项：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-q&lt;/code&gt;, &lt;code&gt;--quiet&lt;/code&gt;&lt;/strong&gt;: 只显示容器的 ID。这在需要批量操作容器时非常方便，例如 &lt;code&gt;docker stop $(docker ps -q)&lt;/code&gt; 可以停止所有正在运行的容器。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;--filter&lt;/code&gt;, &lt;code&gt;-f&lt;/code&gt;&lt;/strong&gt;: 根据条件过滤容器。例如，&lt;code&gt;docker ps -f &amp;quot;status=exited&amp;quot;&lt;/code&gt; 可以列出所有已退出的容器，&lt;code&gt;docker ps -f &amp;quot;name=my-nginx&amp;quot;&lt;/code&gt; 可以查找名称包含 &lt;code&gt;my-nginx&lt;/code&gt; 的容器。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;--format&lt;/code&gt;&lt;/strong&gt;: 自定义输出格式。例如，&lt;code&gt;docker ps --format &amp;quot;table {{.Names}}\\t{{.Status}}&amp;quot;&lt;/code&gt; 可以只显示容器名称和状态。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;docker ps&lt;/code&gt; 是日常 Docker 操作中最高频使用的命令之一，熟练掌握其各种选项，可以极大地提高容器管理的效率。&lt;/p&gt;
&lt;h4 id=&#34;322-启动停止容器docker-startstop&#34;&gt;3.2.2 启动/停止容器：&lt;code&gt;docker start/stop&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker start&lt;/code&gt; 和 &lt;code&gt;docker stop&lt;/code&gt; 是用于管理容器生命周期的两个基本命令。&lt;code&gt;docker start&lt;/code&gt; 用于启动一个或多个已经创建但当前处于停止状态的容器，而 &lt;code&gt;docker stop&lt;/code&gt; 则用于优雅地停止一个或多个正在运行的容器。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker start&lt;/code&gt; 命令的基本语法是 &lt;code&gt;docker start [OPTIONS] CONTAINER [CONTAINER...]&lt;/code&gt;，其中 &lt;code&gt;CONTAINER&lt;/code&gt; 可以是容器的名称或 ID。例如，&lt;code&gt;docker start my-nginx&lt;/code&gt; 会启动名为 &lt;code&gt;my-nginx&lt;/code&gt; 的容器。当一个容器被停止后，其文件系统和配置仍然保留在 Docker 中，只是其内部的进程被终止。使用 &lt;code&gt;docker start&lt;/code&gt; 可以重新启动这个容器，恢复其运行状态。这对于临时停止服务进行维护或调试非常有用。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker stop&lt;/code&gt; 命令的基本语法是 &lt;code&gt;docker stop [OPTIONS] CONTAINER [CONTAINER...]&lt;/code&gt;。默认情况下，&lt;code&gt;docker stop&lt;/code&gt; 会向容器的主进程发送一个 &lt;code&gt;SIGTERM&lt;/code&gt; 信号，给容器一个机会来优雅地关闭，例如保存数据、关闭连接等。如果在一定时间（默认为 10 秒）后容器仍未停止，Docker 会再发送一个 &lt;code&gt;SIGKILL&lt;/code&gt; 信号强制终止容器。可以通过 &lt;code&gt;-t&lt;/code&gt; 或 &lt;code&gt;--time&lt;/code&gt; 选项来指定等待的时间。与 &lt;code&gt;docker kill&lt;/code&gt; 命令不同，&lt;code&gt;docker stop&lt;/code&gt; 提供了一种更温和的停止方式，有助于保证数据的完整性。这两个命令是容器生命周期管理中最基本的操作，用于控制服务的启停。&lt;/p&gt;
&lt;h4 id=&#34;323-删除容器docker-rm&#34;&gt;3.2.3 删除容器：&lt;code&gt;docker rm&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker rm&lt;/code&gt; 命令用于删除一个或多个已经停止的容器。其基本语法是 &lt;code&gt;docker rm [OPTIONS] CONTAINER [CONTAINER...]&lt;/code&gt;。当一个容器被删除后，其占用的磁盘空间会被释放，容器内的所有数据（除非通过数据卷持久化）都会丢失。因此，在执行删除操作前需要谨慎确认。默认情况下，&lt;code&gt;docker rm&lt;/code&gt; 只能删除已经停止的容器。如果尝试删除一个正在运行的容器，命令会失败并提示错误。&lt;/p&gt;
&lt;p&gt;如果需要强制删除一个正在运行的容器，可以使用 &lt;code&gt;-f&lt;/code&gt; 或 &lt;code&gt;--force&lt;/code&gt; 选项。这个选项会先向容器发送 &lt;code&gt;SIGKILL&lt;/code&gt; 信号强制停止容器，然后再将其删除。例如，&lt;code&gt;docker rm -f my_container&lt;/code&gt; 会强制删除名为 &lt;code&gt;my_container&lt;/code&gt; 的容器。此外，&lt;code&gt;docker rm&lt;/code&gt; 还支持 &lt;code&gt;-v&lt;/code&gt; 或 &lt;code&gt;--volumes&lt;/code&gt; 选项，在删除容器的同时，也删除与之关联的匿名数据卷。这对于清理不再需要的临时数据非常有用。为了方便批量删除已停止的容器，可以结合使用 &lt;code&gt;docker ps&lt;/code&gt; 命令，例如 &lt;code&gt;docker rm $(docker ps -a -q)&lt;/code&gt; 会删除所有容器（包括正在运行的，因为这里没有加 &lt;code&gt;-f&lt;/code&gt; 选项，所以会失败），而 &lt;code&gt;docker container prune&lt;/code&gt; 命令则可以一键删除所有已停止的容器，是清理环境的快捷方式。&lt;/p&gt;
&lt;h3 id=&#34;33-容器内部操作&#34;&gt;3.3 容器内部操作
&lt;/h3&gt;&lt;h4 id=&#34;331-进入容器docker-exec&#34;&gt;3.3.1 进入容器：&lt;code&gt;docker exec&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker exec&lt;/code&gt; 命令用于在一个正在运行的容器中执行新的命令。这是进入容器内部进行调试、管理或执行一次性任务的最常用方式。其基本语法是 &lt;code&gt;docker exec [OPTIONS] CONTAINER COMMAND [ARG...]&lt;/code&gt;。其中，&lt;code&gt;CONTAINER&lt;/code&gt; 是目标容器的 ID 或名称，&lt;code&gt;COMMAND&lt;/code&gt; 是要在容器内执行的命令。&lt;/p&gt;
&lt;p&gt;最常用的场景是进入容器的交互式 shell。这通常通过组合使用 &lt;code&gt;-i&lt;/code&gt;（保持标准输入打开）和 &lt;code&gt;-t&lt;/code&gt;（分配伪终端）选项来实现。例如，要进入一个名为 &lt;code&gt;my_nginx&lt;/code&gt; 的 Nginx 容器的 bash shell，可以执行：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it my_nginx /bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;执行该命令后，用户就会获得一个容器内部的 shell 会话，可以像操作一个普通的 Linux 系统一样执行命令。当需要退出时，输入 &lt;code&gt;exit&lt;/code&gt; 即可，这只会退出 shell 会话，而不会停止容器本身。除了进入 shell，&lt;code&gt;docker exec&lt;/code&gt; 还可以用于执行任何其他命令，例如 &lt;code&gt;docker exec my_nginx nginx -t&lt;/code&gt; 可以在容器内测试 Nginx 配置文件的语法是否正确，而无需进入交互式 shell。这种非交互式的用法在自动化脚本中非常有用。&lt;/p&gt;
&lt;h4 id=&#34;332-文件复制docker-cp&#34;&gt;3.3.2 文件复制：&lt;code&gt;docker cp&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker cp&lt;/code&gt; 命令用于在宿主机和容器之间复制文件或目录。这是一个非常实用的功能，用于在容器和外部世界之间交换数据。其基本语法是 &lt;code&gt;docker cp [OPTIONS] SRC_PATH DEST_PATH&lt;/code&gt;。其中，&lt;code&gt;SRC_PATH&lt;/code&gt; 和 &lt;code&gt;DEST_PATH&lt;/code&gt; 可以是宿主机路径或容器路径，容器路径的格式为 &lt;code&gt;CONTAINER:PATH&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;例如，要将宿主机上的 &lt;code&gt;index.html&lt;/code&gt; 文件复制到名为 &lt;code&gt;my_nginx&lt;/code&gt; 的容器的 &lt;code&gt;/usr/share/nginx/html/&lt;/code&gt; 目录下，可以执行：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker cp index.html my_nginx:/usr/share/nginx/html/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;反之，要将容器内的文件复制到宿主机，只需将源路径和目标路径调换即可。例如，要将 &lt;code&gt;my_nginx&lt;/code&gt; 容器内的 Nginx 配置文件复制到宿主机的当前目录，可以执行：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker cp my_nginx:/etc/nginx/nginx.conf .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;docker cp&lt;/code&gt; 命令在容器调试和数据备份等场景中非常有用。例如，当容器内的应用出现问题时，可以将其日志文件复制到宿主机进行详细分析。或者，当需要备份容器内生成的数据时，也可以使用该命令将数据目录复制出来。需要注意的是，&lt;code&gt;docker cp&lt;/code&gt; 只能用于正在运行的容器，或者已经停止但文件系统仍然存在的容器。&lt;/p&gt;
&lt;h4 id=&#34;333-查看容器进程docker-top&#34;&gt;3.3.3 查看容器进程：&lt;code&gt;docker top&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker top&lt;/code&gt; 命令用于显示一个正在运行的容器内部的所有进程。这对于监控容器内应用的运行状态、排查性能问题非常有帮助。其基本语法是 &lt;code&gt;docker top CONTAINER [ps OPTIONS]&lt;/code&gt;，其中 &lt;code&gt;CONTAINER&lt;/code&gt; 是目标容器的 ID 或名称。该命令实际上是在容器内部执行 &lt;code&gt;ps&lt;/code&gt; 命令，并将结果输出到宿主机终端。&lt;/p&gt;
&lt;p&gt;执行 &lt;code&gt;docker top&lt;/code&gt; 后，会显示一个进程列表，其中包含了进程 ID（PID）、父进程 ID（PPID）、启动命令（CMD）等信息。通过查看这个列表，可以了解容器内正在运行哪些进程，以及它们之间的关系。例如，可以判断一个服务是否成功启动，或者是否存在僵尸进程。&lt;code&gt;docker top&lt;/code&gt; 命令还支持传递 &lt;code&gt;ps&lt;/code&gt; 命令的选项，例如 &lt;code&gt;docker top my_container aux&lt;/code&gt; 可以显示更详细的进程信息，包括 CPU 和内存使用率。结合 &lt;code&gt;docker stats&lt;/code&gt; 命令，可以更全面地监控容器的资源消耗和进程状态，是进行容器性能调优和故障排查的重要工具。&lt;/p&gt;
&lt;h4 id=&#34;334-查看容器资源使用docker-stats&#34;&gt;3.3.4 查看容器资源使用：&lt;code&gt;docker stats&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker stats&lt;/code&gt; 命令用于实时显示一个或多个容器的资源使用情况，包括 CPU、内存、网络和磁盘 I/O。这是一个非常强大的监控工具，可以帮助用户了解容器的性能表现，及时发现资源瓶颈。其基本语法是 &lt;code&gt;docker stats [OPTIONS] [CONTAINER...]&lt;/code&gt;。如果不指定容器，该命令会显示所有正在运行的容器的统计信息。&lt;/p&gt;
&lt;p&gt;执行 &lt;code&gt;docker stats&lt;/code&gt; 后，会显示一个动态更新的表格，其中包含了容器的 ID、名称、CPU 使用率、内存使用量/限制、内存使用率、网络接收/发送的数据量以及块设备 I/O 等信息。这些数据每秒更新一次，可以实时反映容器的负载情况。例如，通过观察 CPU 使用率，可以判断容器内的应用是否繁忙；通过观察内存使用量，可以判断是否存在内存泄漏的风险。&lt;code&gt;docker stats&lt;/code&gt; 命令还支持 &lt;code&gt;--no-stream&lt;/code&gt; 选项，它只会显示一次当前的统计信息，然后退出，这在脚本中非常有用。通过持续监控 &lt;code&gt;docker stats&lt;/code&gt; 的输出，可以为容器的资源限制（如 &lt;code&gt;-m&lt;/code&gt; 和 &lt;code&gt;--cpus&lt;/code&gt;）提供数据依据，从而实现更精细化的资源管理。&lt;/p&gt;
&lt;h2 id=&#34;4-数据持久化&#34;&gt;4. 数据持久化
&lt;/h2&gt;&lt;h3 id=&#34;41-三种方式对比&#34;&gt;4.1 三种方式对比
&lt;/h3&gt;&lt;p&gt;Docker 提供了三种主要的数据持久化机制：Volume、Bind Mount 和 tmpfs。它们各有特点，适用于不同的场景。&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;方式&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;特点&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;适用场景&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;核心操作&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;Volume&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;由 Docker 引擎管理，存储在宿主机特定区域（&lt;code&gt;/var/lib/docker/volumes/&lt;/code&gt;），与容器生命周期解耦，支持多容器共享，易于备份和迁移。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;生产环境、数据库数据、需要长期保存和共享的数据。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;创建：&lt;code&gt;docker volume create 卷名&lt;/code&gt;；挂载：&lt;code&gt;-v 卷名:容器路径&lt;/code&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;Bind Mount&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;将宿主机上的任意目录或文件直接挂载到容器中，灵活性高，性能与宿主机文件系统相同。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;开发环境、需要实时同步代码、配置文件的场景。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;挂载：&lt;code&gt;-v 宿主机绝对路径:容器路径&lt;/code&gt;（例：&lt;code&gt;-v /data/html:/usr/share/nginx/html&lt;/code&gt;）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;tmpfs&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;数据存储在宿主机的内存中，读写速度极快，但数据是临时的，容器停止后数据即丢失。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;存放临时文件、敏感信息（如密钥）、高并发缓存。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;挂载：&lt;code&gt;--tmpfs 容器路径&lt;/code&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Volume&lt;/strong&gt; 是 Docker 官方推荐的生产环境数据持久化方式。它的生命周期独立于容器，由 Docker 引擎统一管理，这使得数据的管理、备份和迁移更加方便和安全。用户无需关心数据在宿主机上的具体存储位置，只需通过卷名进行引用即可。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Bind Mount&lt;/strong&gt; 提供了最大的灵活性，因为它允许用户将宿主机上的任何路径挂载到容器中。这在开发过程中非常有用，例如，可以将本地的源代码目录直接挂载到容器中，这样任何代码的修改都可以立即在运行的应用中生效，无需重新构建镜像。然而，由于它依赖于宿主机的文件系统结构，因此在不同环境之间移植性较差，并且可能存在权限问题。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;tmpfs&lt;/strong&gt; 是一种特殊的挂载类型，它将数据存储在内存中。这使得数据的读写速度非常快，非常适合用作临时文件存储或缓存。但是，由于数据只存在于内存中，一旦容器停止或宿主机重启，所有数据都会丢失。此外，它也不能在容器之间共享。&lt;/p&gt;
&lt;h3 id=&#34;42-常用操作与示例&#34;&gt;4.2 常用操作与示例
&lt;/h3&gt;&lt;h4 id=&#34;421-创建与管理数据卷&#34;&gt;4.2.1 创建与管理数据卷
&lt;/h4&gt;&lt;p&gt;数据卷（Volume）的管理主要通过 &lt;code&gt;docker volume&lt;/code&gt; 子命令来完成。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;创建数据卷&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker volume create my-vol
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;这会创建一个名为 &lt;code&gt;my-vol&lt;/code&gt; 的数据卷。创建后，Docker 会在其默认的存储区域（通常是 &lt;code&gt;/var/lib/docker/volumes/my-vol/_data&lt;/code&gt;）为该卷分配一个目录。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;查看数据卷&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker volume ls
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;该命令会列出所有已创建的数据卷。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;查看数据卷详情&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker volume inspect my-vol
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;这会以 JSON 格式显示数据卷的详细信息，包括其名称、驱动、挂载点（Mountpoint）等。通过 &lt;code&gt;Mountpoint&lt;/code&gt; 可以找到数据在宿主机上的实际存储路径。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;删除数据卷&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker volume rm my-vol
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;这会删除指定的数据卷。注意，只有当没有容器使用该卷时，才能成功删除。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;清理未使用的数据卷&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker volume prune
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;这是一个危险操作，它会删除所有未被任何容器使用的数据卷。执行前系统会要求确认。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;422-nginx-数据持久化示例&#34;&gt;4.2.2 Nginx 数据持久化示例
&lt;/h4&gt;&lt;p&gt;以 Nginx 为例，演示如何使用 Volume 和 Bind Mount 实现数据持久化。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;使用 Volume 持久化 Nginx 的静态文件和配置&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. 创建数据卷&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker volume create nginx-html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker volume create nginx-conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. 运行容器并挂载数据卷&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -d --name my-nginx &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -p 80:80 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -v nginx-html:/usr/share/nginx/html &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -v nginx-conf:/etc/nginx &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  nginx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在这个例子中，我们创建了两个数据卷 &lt;code&gt;nginx-html&lt;/code&gt; 和 &lt;code&gt;nginx-conf&lt;/code&gt;，分别用于存储 Nginx 的静态网页文件和配置文件。然后，在运行容器时，使用 &lt;code&gt;-v&lt;/code&gt; 选项将这两个卷挂载到容器内的相应路径。这样，无论是修改网页内容还是更新 Nginx 配置，所有变更都会被持久化到数据卷中，即使容器被删除，数据也不会丢失。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;使用 Bind Mount 进行开发调试&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 假设本地有一个项目目录 ./my-website，里面包含 index.html 和 css/ 文件夹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -d --name my-nginx-dev &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -p 8080:80 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -v &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;/my-website:/usr/share/nginx/html:ro &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  nginx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在这个开发场景中，我们将本地项目目录 &lt;code&gt;./my-website&lt;/code&gt; 直接挂载到容器的 &lt;code&gt;/usr/share/nginx/html&lt;/code&gt; 目录。&lt;code&gt;:ro&lt;/code&gt; 表示以只读模式挂载，防止容器内的进程意外修改宿主机上的源文件。这样，开发者在本地对 &lt;code&gt;index.html&lt;/code&gt; 或 CSS 文件的任何修改，都会立即反映在浏览器中访问 &lt;code&gt;http://localhost:8080&lt;/code&gt; 的结果上，极大地提高了开发效率。&lt;/p&gt;
&lt;h2 id=&#34;5-网络配置&#34;&gt;5. 网络配置
&lt;/h2&gt;&lt;h3 id=&#34;51-网络模式&#34;&gt;5.1 网络模式
&lt;/h3&gt;&lt;p&gt;Docker 提供了多种网络模式，以满足不同场景下的容器通信需求。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;bridge 模式&lt;/strong&gt;: 这是 Docker 的默认网络模式。当 Docker 服务启动时，它会在宿主机上创建一个名为 &lt;code&gt;docker0&lt;/code&gt; 的虚拟网桥。所有使用 bridge 模式的容器都会连接到这个网桥上，并被分配一个独立的 IP 地址。容器之间可以通过 IP 地址进行通信，但要通过容器名通信，则需要将它们连接到用户自定义的 bridge 网络。容器与宿主机外部网络的通信需要通过 NAT（网络地址转换）实现。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;host 模式&lt;/strong&gt;: 使用 &lt;code&gt;--net=host&lt;/code&gt; 选项指定。在这种模式下，容器将共享宿主机的网络栈，不再拥有独立的网络命名空间。容器的网络配置（如 IP 地址、端口）与宿主机完全相同。这种模式的优点是网络性能高，没有 NAT 带来的开销，但缺点是牺牲了网络隔离性，容器与宿主机之间的端口可能会发生冲突。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;none 模式&lt;/strong&gt;: 使用 &lt;code&gt;--net=none&lt;/code&gt; 选项指定。在这种模式下，容器拥有自己的网络命名空间，但没有任何网络配置。容器内部除了 &lt;code&gt;lo&lt;/code&gt;（回环）接口外，没有其他网络接口。这种模式适用于对安全性要求极高、需要完全隔离网络环境的场景，用户可以根据需要手动为容器配置网络。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;overlay 模式&lt;/strong&gt;: 这是一种跨主机网络模式，主要用于 Docker Swarm 集群。它允许不同宿主机上的容器通过虚拟网络进行通信，就像它们在同一个局域网中一样。Overlay 网络利用 VXLAN 等技术在底层物理网络之上创建一个虚拟的、可跨越主机的二层网络，是实现分布式应用服务发现和负载均衡的基础。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;macvlan 模式&lt;/strong&gt;: 这种模式可以为容器分配一个宿主机网络上的独立 MAC 地址，使其在物理网络上表现为一个独立的设备。容器将直接暴露在物理网络上，可以直接获取物理网络中的 IP 地址。这种模式适用于需要与物理网络直接集成、对网络性能和隔离性都有较高要求的场景。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;52-网络管理命令&#34;&gt;5.2 网络管理命令
&lt;/h3&gt;&lt;p&gt;Docker 提供了一系列 &lt;code&gt;docker network&lt;/code&gt; 子命令来管理网络。&lt;/p&gt;
&lt;h4 id=&#34;521-查看网络docker-network-ls&#34;&gt;5.2.1 查看网络：&lt;code&gt;docker network ls&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker network ls&lt;/code&gt; 命令用于列出 Docker 主机上所有的网络。执行该命令会返回一个表格，包含网络的 &lt;code&gt;NETWORK ID&lt;/code&gt;、&lt;code&gt;NAME&lt;/code&gt;、&lt;code&gt;DRIVER&lt;/code&gt; 和 &lt;code&gt;SCOPE&lt;/code&gt;。默认情况下，系统会包含 &lt;code&gt;bridge&lt;/code&gt;、&lt;code&gt;host&lt;/code&gt; 和 &lt;code&gt;none&lt;/code&gt; 这三个预定义的网络。&lt;/p&gt;
&lt;h4 id=&#34;522-创建网络docker-network-create&#34;&gt;5.2.2 创建网络：&lt;code&gt;docker network create&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker network create&lt;/code&gt; 命令用于创建一个新的网络。默认情况下，它会创建一个 &lt;code&gt;bridge&lt;/code&gt; 类型的网络。例如，要创建一个名为 &lt;code&gt;my-net&lt;/code&gt; 的自定义桥接网络，可以执行：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker network create my-net
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;创建后，可以使用 &lt;code&gt;docker network ls&lt;/code&gt; 查看。在创建网络时，可以指定多种选项，如 &lt;code&gt;--driver&lt;/code&gt; 指定网络驱动（如 &lt;code&gt;bridge&lt;/code&gt;, &lt;code&gt;overlay&lt;/code&gt;），&lt;code&gt;--subnet&lt;/code&gt; 和 &lt;code&gt;--gateway&lt;/code&gt; 指定子网和网关等。&lt;/p&gt;
&lt;h4 id=&#34;523-连接网络docker-network-connect&#34;&gt;5.2.3 连接网络：&lt;code&gt;docker network connect&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;docker network connect&lt;/code&gt; 命令用于将一个正在运行的容器连接到一个网络。这使得容器可以获得该网络中的一个 IP 地址，并能够与同一网络中的其他容器通信。例如，要将名为 &lt;code&gt;my-container&lt;/code&gt; 的容器连接到 &lt;code&gt;my-net&lt;/code&gt; 网络，可以执行：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker network connect my-net my-container
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;连接后，容器就可以通过容器名直接访问 &lt;code&gt;my-net&lt;/code&gt; 网络中的其他容器了。一个容器可以同时连接到多个网络，实现复杂的网络拓扑。&lt;/p&gt;
&lt;h2 id=&#34;6-资源限制与系统配置&#34;&gt;6. 资源限制与系统配置
&lt;/h2&gt;&lt;h3 id=&#34;61-资源限制&#34;&gt;6.1 资源限制
&lt;/h3&gt;&lt;p&gt;为了防止单个容器耗尽宿主机的所有资源（CPU、内存等），从而影响其他容器或宿主机的稳定性，Docker 提供了资源限制功能。这些功能主要依赖于 Linux 内核的 cgroups（控制组）技术。&lt;/p&gt;
&lt;h4 id=&#34;611-限制cpu&#34;&gt;6.1.1 限制CPU
&lt;/h4&gt;&lt;p&gt;Docker 提供了多种方式来限制容器的 CPU 使用：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;--cpus&lt;/code&gt;&lt;/strong&gt;: 这是最直观的方式，用于限制容器可以使用的 CPU 核心数。例如，&lt;code&gt;--cpus=1.5&lt;/code&gt; 表示容器最多可以使用 1.5 个 CPU 核心的计算能力。这个限制是硬性的，即使宿主机 CPU 空闲，容器也无法超过这个限制。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;--cpu-shares&lt;/code&gt;&lt;/strong&gt;: 这个选项用于设置 CPU 的相对权重。它是一个相对值，用于在多个容器竞争 CPU 资源时，决定它们获得 CPU 时间的比例。默认值是 1024。例如，如果一个容器的 &lt;code&gt;--cpu-shares&lt;/code&gt; 设置为 2048，另一个设置为 1024，那么在 CPU 资源紧张时，前者将获得两倍于后者的 CPU 时间。这个限制是软性的，只有在资源竞争时才起作用。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;--cpuset-cpus&lt;/code&gt;&lt;/strong&gt;: 这个选项用于将容器绑定到特定的 CPU 核心上。例如，&lt;code&gt;--cpuset-cpus=&amp;quot;0,1&amp;quot;&lt;/code&gt; 表示容器只能在宿主机的第 0 和第 1 个 CPU 核心上运行。这可以用于实现 CPU 的硬隔离，避免容器之间的 CPU 资源争抢。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;612-限制内存&#34;&gt;6.1.2 限制内存
&lt;/h4&gt;&lt;p&gt;限制内存使用主要通过 &lt;code&gt;-m&lt;/code&gt; 或 &lt;code&gt;--memory&lt;/code&gt; 选项实现。例如，&lt;code&gt;-m 512m&lt;/code&gt; 表示限制容器的内存使用上限为 512MB。这是一个硬性限制，如果容器尝试使用超过这个限制的内存，可能会触发 OOM（Out of Memory） killer，导致容器被强制终止。&lt;/p&gt;
&lt;p&gt;此外，还可以使用 &lt;code&gt;--memory-swap&lt;/code&gt; 选项来设置内存和交换空间（swap）的总和限制。例如，&lt;code&gt;--memory=512m --memory-swap=1g&lt;/code&gt; 表示容器可以使用 512MB 的物理内存和 512MB 的交换空间，总计 1GB。如果 &lt;code&gt;--memory-swap&lt;/code&gt; 设置为与 &lt;code&gt;--memory&lt;/code&gt; 相同的值，则表示禁用交换空间。&lt;/p&gt;
&lt;h3 id=&#34;62-容器与宿主机时间同步&#34;&gt;6.2 容器与宿主机时间同步
&lt;/h3&gt;&lt;p&gt;由于 Docker 容器默认使用 UTC 时间，而宿主机通常使用本地时区（如中国的 CST，即 UTC+8），这会导致容器内的时间与宿主机不一致，可能引发日志记录、定时任务等问题。解决这个问题主要有以下几种方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;挂载宿主机的时间文件&lt;/strong&gt;: 这是最常用和推荐的方法。在运行容器时，将宿主机的 &lt;code&gt;/etc/localtime&lt;/code&gt; 文件挂载到容器的相同位置。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -d -v /etc/localtime:/etc/localtime:ro 镜像名
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;:ro&lt;/code&gt; 表示以只读模式挂载。这样，容器就会使用与宿主机相同的时区设置。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;设置环境变量&lt;/strong&gt;: 许多 Linux 发行版和应用程序支持通过 &lt;code&gt;TZ&lt;/code&gt; 环境变量来设置时区。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -d -e &lt;span class=&#34;nv&#34;&gt;TZ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Asia/Shanghai 镜像名
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;这种方法简单，但依赖于容器内的基础镜像和应用程序是否支持该环境变量。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;在 Dockerfile 中指定&lt;/strong&gt;: 在构建镜像时，可以在 Dockerfile 中通过 &lt;code&gt;RUN&lt;/code&gt; 指令来设置时区。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;RUN&lt;/span&gt; ln -snf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Asia/Shanghai&amp;#34;&lt;/span&gt; &amp;gt; /etc/timezone&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;63-镜像加速配置&#34;&gt;6.3 镜像加速配置
&lt;/h3&gt;&lt;p&gt;在中国大陆，由于网络原因，从 Docker Hub 拉取镜像可能会非常慢。为了解决这个问题，可以配置镜像加速器。镜像加速器是 Docker Hub 的镜像缓存服务器，可以显著提高镜像的下载速度。&lt;/p&gt;
&lt;p&gt;配置方法如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;编辑 Docker 配置文件&lt;/strong&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo mkdir -p /etc/docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo vim /etc/docker/daemon.json
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;添加镜像加速器地址&lt;/strong&gt;：
在文件中添加 &lt;code&gt;registry-mirrors&lt;/code&gt; 字段，并填入一个或多个加速器地址。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;registry-mirrors&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://docker.nju.edu.cn&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://registry.cn-hangzhou.aliyuncs.com&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;http://hub-mirror.c.163.com&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;重启 Docker 服务&lt;/strong&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl daemon-reload
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl restart docker
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;重启后，Docker 在拉取镜像时会优先从配置的镜像加速器获取，从而大大加快下载速度。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;7-dockerfile-与镜像构建&#34;&gt;7. Dockerfile 与镜像构建
&lt;/h2&gt;&lt;p&gt;Dockerfile 是一个用于自动化构建 Docker 镜像的文本文件，它包含了一系列指令，每一条指令都会在镜像上创建一个新的层，从而定义了镜像的内容和启动方式。通过使用 Dockerfile，开发者可以确保应用环境的一致性，实现快速、可重复的部署。掌握 Dockerfile 的编写是高效使用 Docker 的核心技能之一。本章节将详细解析 Dockerfile 的核心指令，并介绍如何使用 &lt;code&gt;docker build&lt;/code&gt; 命令来构建自定义镜像。&lt;/p&gt;
&lt;h3 id=&#34;71-dockerfile-核心指令&#34;&gt;7.1 Dockerfile 核心指令
&lt;/h3&gt;&lt;p&gt;Dockerfile 中的指令是构建镜像的基石，它们定义了从基础镜像选择、文件复制、环境配置到最终启动命令的完整流程。理解并熟练运用这些指令，是编写高效、安全、可维护的 Dockerfile 的前提。以下将详细介绍最常用和最重要的核心指令。&lt;/p&gt;
&lt;h4 id=&#34;711-from指定基础镜像&#34;&gt;7.1.1 &lt;code&gt;FROM&lt;/code&gt;：指定基础镜像
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;FROM&lt;/code&gt; 指令是 Dockerfile 中&lt;strong&gt;必须且是第一条&lt;/strong&gt;非注释指令，它为后续的构建过程指定了一个基础镜像 。所有的构建操作都是在这个基础镜像之上进行的。选择合适的基础镜像至关重要，它直接影响到最终镜像的大小、安全性和维护成本。例如，对于需要轻量级环境的应用，可以选择 &lt;code&gt;alpine&lt;/code&gt; 或 &lt;code&gt;debian:slim&lt;/code&gt; 等精简版 Linux 发行版作为基础镜像 。&lt;code&gt;FROM&lt;/code&gt; 指令的语法非常灵活，支持指定镜像的标签（tag）或摘要（digest）以确保版本的一致性。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;语法：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;image&amp;gt;[:&amp;lt;tag&lt;/span&gt;&amp;gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;AS &amp;lt;name&amp;gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;image&amp;gt;&lt;/code&gt;: 指定基础镜像的名称，例如 &lt;code&gt;ubuntu&lt;/code&gt;, &lt;code&gt;python&lt;/code&gt;, &lt;code&gt;nginx&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;tag&amp;gt;&lt;/code&gt;: 指定基础镜像的版本标签，例如 &lt;code&gt;22.04&lt;/code&gt;, &lt;code&gt;3.9-slim&lt;/code&gt;, &lt;code&gt;1.21.5&lt;/code&gt;。如果省略，默认为 &lt;code&gt;latest&lt;/code&gt; 。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AS &amp;lt;name&amp;gt;&lt;/code&gt;: 为当前的构建阶段命名，这在多阶段构建（Multi-stage builds）中非常有用，可以在后续的构建阶段中引用之前阶段的产物，从而有效减小最终镜像的体积 。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;示例：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# 使用官方的 Ubuntu 22.04 作为基础镜像&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;ubuntu:22.04&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# 使用 Python 3.9 的 slim 版本，并命名此阶段为 &amp;#34;builder&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;python:3.9-slim&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在多阶段构建的示例中，我们可以在后续阶段使用 &lt;code&gt;COPY --from=builder&lt;/code&gt; 来从 &lt;code&gt;builder&lt;/code&gt; 阶段复制编译好的文件，而无需将编译工具链包含在最终的生产镜像中，这是一种优化镜像大小的常用技巧 。&lt;/p&gt;
&lt;h4 id=&#34;712-run执行命令&#34;&gt;7.1.2 &lt;code&gt;RUN&lt;/code&gt;：执行命令
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;RUN&lt;/code&gt; 指令用于在镜像的构建过程中执行命令，是安装软件包、配置环境和执行其他构建任务的核心指令 。每一条 &lt;code&gt;RUN&lt;/code&gt; 指令都会在当前镜像层之上创建一个新的层，并提交执行结果。为了优化镜像大小和构建速度，最佳实践是将多个相关的命令通过 &lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt; 连接，并在同一行中执行，这样可以减少镜像的层数。此外，在执行如 &lt;code&gt;apt-get&lt;/code&gt; 或 &lt;code&gt;yum&lt;/code&gt; 等包管理器命令后，通常会清理缓存以进一步减小镜像体积 。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;RUN&lt;/code&gt; 指令支持两种格式：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Shell 格式&lt;/strong&gt;：&lt;code&gt;RUN &amp;lt;command&amp;gt;&lt;/code&gt;。在 Linux 上，默认使用 &lt;code&gt;/bin/sh -c&lt;/code&gt; 来执行命令；在 Windows 上，则使用 &lt;code&gt;cmd /S /C&lt;/code&gt; 。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Exec 格式&lt;/strong&gt;：&lt;code&gt;RUN [&amp;quot;executable&amp;quot;, &amp;quot;param1&amp;quot;, &amp;quot;param2&amp;quot;]&lt;/code&gt;。这种格式不调用 shell，而是直接执行指定的可执行文件，因此不会进行 shell 处理，如变量替换等。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;示例：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# Shell 格式：更新包列表并安装 nginx，然后清理缓存&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RUN&lt;/span&gt; apt-get update &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt-get install -y nginx &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm -rf /var/lib/apt/lists/*&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# Exec 格式：直接执行 echo 命令&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RUN&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/bin/bash&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;-c&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;echo &amp;#39;Hello, Docker!&amp;#39;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在编写 &lt;code&gt;RUN&lt;/code&gt; 指令时，应始终考虑其对镜像层数和大小的影响。将多个命令合并成一个 &lt;code&gt;RUN&lt;/code&gt; 指令，并在命令末尾清理不必要的文件和缓存，是构建高效镜像的关键步骤 。&lt;/p&gt;
&lt;h4 id=&#34;713-copy-与-add复制文件&#34;&gt;7.1.3 &lt;code&gt;COPY&lt;/code&gt; 与 &lt;code&gt;ADD&lt;/code&gt;：复制文件
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;COPY&lt;/code&gt; 和 &lt;code&gt;ADD&lt;/code&gt; 指令都用于将文件或目录从构建上下文（即 &lt;code&gt;docker build&lt;/code&gt; 命令指定的路径，通常是 Dockerfile 所在的目录）复制到镜像的文件系统中 。尽管两者功能相似，但 &lt;code&gt;COPY&lt;/code&gt; 指令的行为更明确、可预测，因此在大多数情况下是首选。&lt;code&gt;ADD&lt;/code&gt; 指令则提供了一些额外的功能，如自动解压压缩文件和从远程 URL 下载文件，但这些功能有时会导致不可预测的行为，因此应谨慎使用 。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;COPY&lt;/code&gt; 指令：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;功能&lt;/strong&gt;：纯粹地复制本地文件或目录到镜像中。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;语法&lt;/strong&gt;：&lt;code&gt;COPY [--chown=&amp;lt;user&amp;gt;:&amp;lt;group&amp;gt;] &amp;lt;src&amp;gt;... &amp;lt;dest&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;最佳实践&lt;/strong&gt;：推荐优先使用 &lt;code&gt;COPY&lt;/code&gt;，因为它简单、透明，只执行最基本的复制操作，保证了构建过程的可预测性 。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;ADD&lt;/code&gt; 指令：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;功能&lt;/strong&gt;：除了 &lt;code&gt;COPY&lt;/code&gt; 的功能外，还支持：
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;自动解压&lt;/strong&gt;：如果源文件是 &lt;code&gt;tar&lt;/code&gt;, &lt;code&gt;gzip&lt;/code&gt;, &lt;code&gt;bzip2&lt;/code&gt; 等格式的压缩包，&lt;code&gt;ADD&lt;/code&gt; 会自动将其解压到目标路径。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;远程 URL 支持&lt;/strong&gt;：如果源文件是一个 URL，&lt;code&gt;ADD&lt;/code&gt; 会尝试下载该文件到镜像中。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;语法&lt;/strong&gt;：&lt;code&gt;ADD [--chown=&amp;lt;user&amp;gt;:&amp;lt;group&amp;gt;] &amp;lt;src&amp;gt;... &amp;lt;dest&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意事项&lt;/strong&gt;：由于 &lt;code&gt;ADD&lt;/code&gt; 的额外功能，其行为可能不如 &lt;code&gt;COPY&lt;/code&gt; 直观。例如，如果远程 URL 的文件权限或内容发生变化，可能会导致构建结果不一致。因此，除非确实需要自动解压或下载功能，否则应优先使用 &lt;code&gt;COPY&lt;/code&gt; 。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;示例：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# 使用 COPY 复制本地文件&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;COPY&lt;/span&gt; requirements.txt /app/&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# 使用 ADD 自动解压一个 tar 包&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ADD&lt;/span&gt; app.tar.gz /opt/&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# 使用 ADD 从 URL 下载文件&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ADD&lt;/span&gt; https://example.com/data.zip /tmp/&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在选择 &lt;code&gt;COPY&lt;/code&gt; 和 &lt;code&gt;ADD&lt;/code&gt; 时，应遵循“最小惊讶原则”，即选择行为最简单、最可预测的指令。对于大多数场景，&lt;code&gt;COPY&lt;/code&gt; 是更好的选择。&lt;/p&gt;
&lt;h4 id=&#34;714-env设置环境变量&#34;&gt;7.1.4 &lt;code&gt;ENV&lt;/code&gt;：设置环境变量
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;ENV&lt;/code&gt; 指令用于在镜像中设置环境变量，这些变量在镜像构建过程和容器运行时都有效 。环境变量是配置容器化应用的一种灵活方式，可以用来传递配置信息，如数据库连接字符串、API 密钥、应用端口等，而无需硬编码到应用代码中。通过 &lt;code&gt;ENV&lt;/code&gt; 设置的变量，可以在 Dockerfile 的后续指令中通过 &lt;code&gt;$VARIABLE_NAME&lt;/code&gt; 的形式引用，也可以在运行的容器中通过 &lt;code&gt;env&lt;/code&gt; 命令或应用程序代码访问。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;语法：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;ENV&lt;/span&gt; &amp;lt;key&amp;gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt; ...&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;可以一次设置多个环境变量，用空格分隔。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;示例：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# 设置单个环境变量&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ENV&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;NODE_ENV&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;production
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# 设置多个环境变量&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ENV&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;APP_PORT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8080&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;APP_VERSION&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.0.0&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# 在后续指令中引用环境变量&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WORKDIR&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;$APP_HOME&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;与 &lt;code&gt;ARG&lt;/code&gt; 指令不同，&lt;code&gt;ENV&lt;/code&gt; 设置的环境变量会持久化到最终的镜像中，并在容器运行时依然存在。这使得 &lt;code&gt;ENV&lt;/code&gt; 非常适合定义那些需要在容器运行时保持不变的配置项。而 &lt;code&gt;ARG&lt;/code&gt; 定义的变量仅在构建过程中有效，容器运行后则不存在，适用于传递构建时的参数，如版本号等 。&lt;/p&gt;
&lt;h4 id=&#34;715-cmd-与-entrypoint容器启动命令&#34;&gt;7.1.5 &lt;code&gt;CMD&lt;/code&gt; 与 &lt;code&gt;ENTRYPOINT&lt;/code&gt;：容器启动命令
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;CMD&lt;/code&gt; 和 &lt;code&gt;ENTRYPOINT&lt;/code&gt; 指令都用于定义容器启动时要执行的命令，但它们在行为上有关键区别，理解这两者的差异对于正确配置容器的启动行为至关重要 。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;CMD&lt;/code&gt; 指令：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;作用&lt;/strong&gt;：为容器提供一个&lt;strong&gt;默认的&lt;/strong&gt;启动命令。当 &lt;code&gt;docker run&lt;/code&gt; 命令没有指定要运行的命令时，&lt;code&gt;CMD&lt;/code&gt; 的内容会被执行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;可被覆盖&lt;/strong&gt;：如果在 &lt;code&gt;docker run&lt;/code&gt; 命令的末尾指定了其他命令，&lt;code&gt;CMD&lt;/code&gt; 的内容将被完全覆盖。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;语法&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;CMD [&amp;quot;executable&amp;quot;, &amp;quot;param1&amp;quot;, &amp;quot;param2&amp;quot;]&lt;/code&gt; (Exec 格式，推荐)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CMD command param1 param2&lt;/code&gt; (Shell 格式)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CMD [&amp;quot;param1&amp;quot;, &amp;quot;param2&amp;quot;]&lt;/code&gt; (作为 ENTRYPOINT 的默认参数)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;ENTRYPOINT&lt;/code&gt; 指令：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;作用&lt;/strong&gt;：配置容器使其像一个可执行文件一样运行。&lt;code&gt;ENTRYPOINT&lt;/code&gt; 定义的命令在容器启动时&lt;strong&gt;一定会被执行&lt;/strong&gt;，并且 &lt;code&gt;docker run&lt;/code&gt; 命令行中指定的所有参数都会被当作参数传递给 &lt;code&gt;ENTRYPOINT&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;不可被覆盖&lt;/strong&gt;：&lt;code&gt;ENTRYPOINT&lt;/code&gt; 本身不会被 &lt;code&gt;docker run&lt;/code&gt; 的命令行参数覆盖（除非使用 &lt;code&gt;--entrypoint&lt;/code&gt; 标志）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;语法&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ENTRYPOINT [&amp;quot;executable&amp;quot;, &amp;quot;param1&amp;quot;, &amp;quot;param2&amp;quot;]&lt;/code&gt; (Exec 格式，推荐)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ENTRYPOINT command param1 param2&lt;/code&gt; (Shell 格式)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;最佳实践：组合使用 &lt;code&gt;ENTRYPOINT&lt;/code&gt; 和 &lt;code&gt;CMD&lt;/code&gt;&lt;/strong&gt;
一种常见的模式是使用 &lt;code&gt;ENTRYPOINT&lt;/code&gt; 定义容器的主进程或可执行文件，然后使用 &lt;code&gt;CMD&lt;/code&gt; 为该进程提供默认的参数。这样，容器既可以像一个标准的可执行文件一样运行，又允许用户在运行时通过 &lt;code&gt;docker run&lt;/code&gt; 轻松覆盖默认参数 。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;示例：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# 使用 ENTRYPOINT 定义主命令&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ENTRYPOINT&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;java&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;-jar&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;app.jar&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# 使用 CMD 提供默认参数&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CMD&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;--server.port=8080&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;运行效果分析：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;docker run myimage&lt;/code&gt;: 容器将执行 &lt;code&gt;java -jar app.jar --server.port=8080&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;docker run myimage --server.port=9090&lt;/code&gt;: &lt;code&gt;CMD&lt;/code&gt; 的默认参数被覆盖，容器将执行 &lt;code&gt;java -jar app.jar --server.port=9090&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这种组合方式提供了极大的灵活性，使得镜像既易于使用（有合理的默认值），又易于扩展（可以方便地修改参数）。&lt;/p&gt;
&lt;h3 id=&#34;72-构建镜像docker-build&#34;&gt;7.2 构建镜像：&lt;code&gt;docker build&lt;/code&gt;
&lt;/h3&gt;&lt;p&gt;编写完 Dockerfile 后，需要使用 &lt;code&gt;docker build&lt;/code&gt; 命令来根据 Dockerfile 中的指令构建一个新的 Docker 镜像。这个命令会读取 Dockerfile，并将构建上下文（通常是当前目录及其子目录）发送给 Docker 守护进程，然后由守护进程逐条执行指令，最终生成镜像 。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;核心命令：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker build &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;OPTIONS&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; PATH &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; URL &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; -
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-t, --tag&lt;/code&gt;&lt;/strong&gt;: 为构建成功的镜像指定一个名称和可选的标签（tag）。格式为 &lt;code&gt;name:tag&lt;/code&gt;。如果不指定 &lt;code&gt;tag&lt;/code&gt;，默认为 &lt;code&gt;latest&lt;/code&gt;。可以指定多个 &lt;code&gt;-t&lt;/code&gt; 参数来为镜像添加多个标签 。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;PATH&lt;/code&gt;&lt;/strong&gt;: 指定构建上下文的路径。&lt;code&gt;.&lt;/code&gt; 表示当前目录，这是最常用的方式。Docker 会将该路径下的所有内容（除了 &lt;code&gt;.dockerignore&lt;/code&gt; 中排除的文件）发送给 Docker 守护进程 。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-f, --file&lt;/code&gt;&lt;/strong&gt;: 如果 Dockerfile 的文件名不是默认的 &lt;code&gt;Dockerfile&lt;/code&gt;，或者不在构建上下文的根目录，可以使用此选项指定 Dockerfile 的路径。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;示例：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 在当前目录构建镜像，并命名为 myapp:v1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker build -t myapp:v1 .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 使用指定路径下的 Dockerfile 构建镜像&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker build -t myapp:v2 -f /path/to/Dockerfile .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 构建并添加多个标签&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker build -t myapp:latest -t myapp:v1.0.0 .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在构建过程中，Docker 会缓存每一条指令的执行结果。如果某条指令及其之前的所有指令都没有发生变化，Docker 会直接使用缓存的层，从而大大加快构建速度。当某条指令发生变化时，该指令及其之后的所有层都将被重新构建。理解并利用这一缓存机制，是优化 Dockerfile 构建效率的关键 。&lt;/p&gt;
&lt;h2 id=&#34;8-部署与环境配置&#34;&gt;8. 部署与环境配置
&lt;/h2&gt;&lt;h3 id=&#34;81-centos-安装步骤&#34;&gt;8.1 CentOS 安装步骤
&lt;/h3&gt;&lt;p&gt;在 CentOS 系统上安装 Docker 的步骤如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;卸载旧版本&lt;/strong&gt;（如果存在）：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo yum remove docker &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;              docker-client &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;              docker-client-latest &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;              docker-common &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;              docker-latest &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;              docker-latest-logrotate &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;              docker-logrotate &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;              docker-engine
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;安装依赖包&lt;/strong&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo yum install -y yum-utils
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;设置 Docker 仓库&lt;/strong&gt;（推荐使用国内源，如阿里云）：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo yum-config-manager &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --add-repo &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;安装 Docker Engine&lt;/strong&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo yum install -y docker-ce docker-ce-cli containerd.io
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;启动 Docker 并设置开机自启&lt;/strong&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl start docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; docker
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;验证安装&lt;/strong&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo docker run hello-world
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;如果看到欢迎信息，说明 Docker 已成功安装并运行。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;82-配置镜像加速器&#34;&gt;8.2 配置镜像加速器
&lt;/h3&gt;&lt;p&gt;在中国大陆，为了加快从 Docker Hub 拉取镜像的速度，强烈建议配置镜像加速器。以下是手动配置的方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;创建或编辑配置文件&lt;/strong&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo mkdir -p /etc/docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo tee /etc/docker/daemon.json &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;-&amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  &amp;#34;registry-mirrors&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    &amp;#34;https://docker.nju.edu.cn&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    &amp;#34;https://registry.cn-hangzhou.aliyuncs.com&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    &amp;#34;http://hub-mirror.c.163.com&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  ]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;重启 Docker 服务&lt;/strong&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl daemon-reload
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl restart docker
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;配置完成后，再次使用 &lt;code&gt;docker pull&lt;/code&gt; 命令时，速度会有显著提升。&lt;/p&gt;
&lt;h2 id=&#34;9-快速清理命令&#34;&gt;9. 快速清理命令
&lt;/h2&gt;&lt;h3 id=&#34;91-清理已退出容器&#34;&gt;9.1 清理已退出容器
&lt;/h3&gt;&lt;p&gt;随着时间的推移，系统中可能会积累大量已退出（Exited）的容器，占用磁盘空间。可以使用以下命令一键清理所有已退出的容器：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker rm &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;docker ps -a -q -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;status=exited&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;或者使用更简洁的 &lt;code&gt;docker container prune&lt;/code&gt; 命令，它会删除所有已停止的容器，并在执行前要求确认。&lt;/p&gt;
&lt;h3 id=&#34;92-强制删除所有容器&#34;&gt;9.2 强制删除所有容器
&lt;/h3&gt;&lt;p&gt;在开发或测试环境中，有时需要快速清理所有容器（无论其运行状态）。可以使用以下命令强制删除所有容器：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker rm -f &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;docker ps -aq&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;警告&lt;/strong&gt;：这是一个非常危险的操作，会无条件地停止并删除系统中的所有容器，请谨慎使用。&lt;/p&gt;
&lt;h3 id=&#34;93-清理未使用数据卷&#34;&gt;9.3 清理未使用数据卷
&lt;/h3&gt;&lt;p&gt;未使用的数据卷（即没有任何容器引用的卷）也会占用磁盘空间。可以使用以下命令清理它们：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker volume prune
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;执行此命令后，系统会列出所有将被删除的卷，并要求确认。确认后，这些未使用的数据卷将被永久删除。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>MySQL</title>
        <link>http://localhost:1313/posts/mysql/</link>
        <pubDate>Fri, 07 Nov 2025 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/mysql/</guid>
        <description>&lt;h2 id=&#34;官方yum源安装&#34;&gt;官方yum源安装
&lt;/h2&gt;&lt;h3 id=&#34;1-安装-mysql&#34;&gt;1. 安装 MySQL
&lt;/h3&gt;&lt;p&gt;CentOS 7 默认的 yum 源中没有 MySQL，需要先添加官方 yum 源&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 下载MySQL官方yum源&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 安装yum源&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo rpm -ivh mysql80-community-release-el7-3.noarch.rpm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 安装MySQL服务器&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo yum install -y mysql-community-server
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;使用最新的-mysql-gpg-密钥并强制安装&#34;&gt;使用最新的 MySQL GPG 密钥并强制安装
&lt;/h3&gt;&lt;h4 id=&#34;步骤-1下载并导入最新的-mysql-gpg-密钥&#34;&gt;步骤 1：下载并导入最新的 MySQL GPG 密钥
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 下载最新的MySQL 8.0 GPG密钥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://repo.mysql.com/RPM-GPG-KEY-mysql-2023
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 导入新密钥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo rpm --import RPM-GPG-KEY-mysql-2023
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;步骤-2手动指定密钥路径并安装强制匹配&#34;&gt;步骤 2：手动指定密钥路径并安装（强制匹配）
&lt;/h4&gt;&lt;p&gt;如果步骤 1 仍失败，直接在安装命令中指定密钥文件路径：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 强制使用新下载的密钥进行安装&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo yum install -y mysql-community-server --nogpgcheck
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;注意：&lt;code&gt;--nogpgcheck&lt;/code&gt; 会跳过 GPG 验证，仅作为临时解决方法，安装完成后建议重新配置密钥验证。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;步骤-3可选手动编辑-mysql-源配置文件&#34;&gt;步骤 3：（可选）手动编辑 MySQL 源配置文件
&lt;/h4&gt;&lt;p&gt;如果上述方法仍有问题，检查并修改 MySQL 的 yum 源配置：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 编辑MySQL源配置&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo vi /etc/yum.repos.d/mysql-community.repo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;找到 &lt;code&gt;[mysql80-community]&lt;/code&gt; 段落，确保 &lt;code&gt;gpgkey&lt;/code&gt; 指向正确的密钥文件：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[mysql80-community]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;MySQL 8.0 Community Server&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;http://repo.mysql.com/yum/mysql-8.0-community/el/7/$basearch/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gpgkey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql-2023  # 修改为最新下载的密钥路径&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;保存后重新安装：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo yum clean all
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo yum install -y mysql-community-server
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;2-启动-mysql-服务&#34;&gt;2. 启动 MySQL 服务
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 启动MySQL服务&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl start mysqld
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 设置开机自启动&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; mysqld
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 查看服务状态&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl status mysqld
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;本地rpm包安装mysql57centosrhel-7-适用&#34;&gt;本地RPM包安装MySQL5.7（CentOS/RHEL 7+ 适用）
&lt;/h2&gt;&lt;h3 id=&#34;前置说明&#34;&gt;前置说明
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;适用系统：CentOS 7/8、RHEL 7/8（兼容你的nginx-server环境）&lt;/li&gt;
&lt;li&gt;安装方式：优先使用现有RPM包（避免编译麻烦，适配性更强）&lt;/li&gt;
&lt;li&gt;核心流程：卸载残留→安装依赖→RPM包安装→解决端口冲突→初始化配置→开机自启&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;第一步彻底卸载残留含mysqlmariadb&#34;&gt;第一步：彻底卸载残留（含MySQL/MariaDB）
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. 查询已安装的MySQL/MariaDB包（避免漏卸）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rpm -qa &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep -E &lt;span class=&#34;s1&#34;&gt;&amp;#39;mysql|mariadb&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. 卸载所有查询到的包（替换为上一步查询结果，或直接执行批量卸载）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum remove -y &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;rpm -qa &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep -E &lt;span class=&#34;s1&#34;&gt;&amp;#39;mysql|mariadb&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3. 清理残留文件/目录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm -rf /var/lib/mysql  &lt;span class=&#34;c1&#34;&gt;# 数据目录（彻底删除，无重要数据再执行）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm -rf /etc/my.cnf     &lt;span class=&#34;c1&#34;&gt;# 配置文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm -rf /var/log/mysqld.log  &lt;span class=&#34;c1&#34;&gt;# 日志文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm -rf /var/run/mysqld  &lt;span class=&#34;c1&#34;&gt;# PID目录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm -rf /usr/local/mysql  &lt;span class=&#34;c1&#34;&gt;# 若之前有二进制安装残留，一并删除&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;第二步安装依赖包避免rpm安装失败&#34;&gt;第二步：安装依赖包（避免RPM安装失败）
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 安装MySQL依赖的系统库（必装，解决大部分依赖缺失问题）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y libaio numactl-libs perl
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;第三步安装mysql-rpm包使用你现有包&#34;&gt;第三步：安装MySQL RPM包（使用你现有包）
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. 进入RPM包所在目录（你的包在/root/1106，直接cd进入）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /root/1106
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. 批量安装所有MySQL RPM包（自动处理依赖关系）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum localinstall mysql-community-*.rpm -y
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3. 验证安装是否成功（显示mysql相关包即正常）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rpm -qa &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep mysql-community
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;第四步解决端口冲突3306端口被docker占用处理&#34;&gt;第四步：解决端口冲突（3306端口被Docker占用处理）
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. 检查3306端口占用情况（确认是否为docker-proxy）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ss -tulpn &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;m&#34;&gt;3306&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. 方案A：停止占用3306的Docker容器（优先，保留3306端口）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 查找映射3306的容器&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker ps &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;m&#34;&gt;3306&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 停止并删除容器（替换为实际容器ID/名称）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker stop 容器ID/容器名
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker rm 容器ID/容器名
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3. 方案B：修改MySQL端口（若Docker容器不能停，改用3307端口）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 编辑MySQL配置文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/my.cnf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 在[mysqld]段添加以下内容（替换端口为3307）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;mysqld&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3307&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;basedir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;datadir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/lib/mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;socket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/lib/mysql/mysql.sock
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;skip-name-resolve
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log-error&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/log/mysqld.log
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;第五步mysql启动&#34;&gt;第五步：MySQL启动
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. 修复数据目录权限（避免启动时权限不足）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown -R mysql:mysql /var/lib/mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown -R mysql:mysql /var/log/mysqld.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod &lt;span class=&#34;m&#34;&gt;755&lt;/span&gt; /var/lib/mysql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;报错用&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;##`的方案&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 1. 停止所有残留MySQL进程&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl stop mysqld
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pkill -9 mysqld
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 2. 清空数据目录（重新生成系统表）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm -rf /var/lib/mysql/*  &lt;span class=&#34;c1&#34;&gt;# 清空现有数据（无重要数据）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown -R mysql:mysql /var/lib/mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod &lt;span class=&#34;m&#34;&gt;755&lt;/span&gt; /var/lib/mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 3. 重新初始化（生成mysql.plugin等系统表）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqld --initialize --user&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mysql --datadir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/lib/mysql --basedir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. 启动MySQL服务&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl start mysqld
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3. 检查服务状态（显示active (running)即成功）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl status mysqld -l
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 4. 设置开机自启（避免服务器重启后服务失效）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; mysqld
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;源码编译安装&#34;&gt;源码编译安装
&lt;/h2&gt;&lt;p&gt;通过编译 MySQL 源码包进行安装，可自定义编译参数（如指定安装路径、启用 / 禁用功能模块等），适合对 MySQL 有深度定制需求的场景。
大致步骤：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. 安装编译依赖&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y gcc gcc-c++ cmake make ncurses-devel openssl-devel
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. 下载源码包（以MySQL 8.0为例）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.34.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar -zxvf mysql-8.0.34.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; mysql-8.0.34
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3. 配置编译参数（示例：指定安装路径、启用SSL等）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cmake . -DCMAKE_INSTALL_PREFIX&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/mysql &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;        -DMYSQL_DATADIR&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/lib/mysql &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;        -DENABLED_LOCAL_INFILE&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ON &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;        -DWITH_SSL&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;system
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 4. 编译并安装（耗时较长，根据服务器性能而定）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; make install
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 5. 后续配置（创建用户、初始化数据库、配置服务等）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;useradd -r -s /sbin/nologin mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown -R mysql:mysql /usr/local/mysql /var/lib/mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/local/mysql/bin/mysqld --initialize --user&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mysql --datadir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/lib/mysql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;二进制包安装免编译&#34;&gt;二进制包安装（免编译）
&lt;/h2&gt;&lt;p&gt;MySQL 官方提供预编译的二进制分发版（.tar.gz格式），解压后即可使用，无需编译，比源码安装更快捷，适合需要快速部署且有一定自定义需求的场景。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. 下载二进制包（以MySQL 5.7为例）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.43-linux-glibc2.12-x86_64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar -zxvf mysql-5.7.43-linux-glibc2.12-x86_64.tar.gz -C /usr/local/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ln -s /usr/local/mysql-5.7.43-linux-glibc2.12-x86_64 /usr/local/mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. 初始化配置（类似源码安装）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;useradd -r -s /sbin/nologin mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown -R mysql:mysql /usr/local/mysql /var/lib/mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/local/mysql/bin/mysqld --initialize --user&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mysql --datadir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/lib/mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3. 配置环境变量和服务启动脚本&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;export PATH=$PATH:/usr/local/mysql/bin&amp;#39;&lt;/span&gt; &amp;gt;&amp;gt; /etc/profile
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; /etc/profile
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; mysqld
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;docker-容器化安装&#34;&gt;Docker 容器化安装
&lt;/h2&gt;&lt;p&gt;通过 Docker 运行 MySQL 容器，隔离性强、部署快速，适合开发、测试环境或需要快速扩缩容的场景，避免与主机环境冲突。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. 拉取MySQL镜像（指定版本，如8.0或5.7）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker pull mysql:8.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. 启动容器（映射端口、挂载数据卷持久化数据）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --name mysql8 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -p 3306:3306 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -v /data/mysql8:/var/lib/mysql &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -e &lt;span class=&#34;nv&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;RootPass123! &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  mysql:8.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3. 进入容器操作MySQL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it mysql8 mysql -u root -p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;初始化配置mysql获取临时密码修改密码&#34;&gt;初始化配置MySQL（获取临时密码+修改密码）
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. 查找MySQL临时密码（首次安装自动生成）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep &lt;span class=&#34;s1&#34;&gt;&amp;#39;temporary password&amp;#39;&lt;/span&gt; /var/log/mysqld.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. 用临时密码登录MySQL（若修改了端口，添加-P3307参数）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 默认端口登录：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysql -uroot -pXXXX                   &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;XXXX&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;是你临时密码
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 改端口后登录（3307为例）：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysql -uroot -p -P3307
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3. 登录后修改root密码（替换为你的新密码，需包含大小写+数字+特殊字符）强密码，才行&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1. 先按默认策略设置一个临时强密码（完成初始重置）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;执行以下命令（密码需满足：大小写 + 数字 + 特殊字符，长度≥8 位）：
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ALTER USER &lt;span class=&#34;s1&#34;&gt;&amp;#39;root&amp;#39;&lt;/span&gt;@&lt;span class=&#34;s1&#34;&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt; IDENTIFIED BY &lt;span class=&#34;s1&#34;&gt;&amp;#39;TempPass123!&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2. 再次查看密码策略变量（此时已可执行）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SHOW VARIABLES LIKE &lt;span class=&#34;s1&#34;&gt;&amp;#39;validate_password%&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3. （可选）降低密码策略（如需简单密码）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;若需要设置简单密码，继续执行：
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-- 降低策略为LOW（仅检查长度≥8位）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; global &lt;span class=&#34;nv&#34;&gt;validate_password_policy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;LOW&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; global &lt;span class=&#34;nv&#34;&gt;validate_password_length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;8&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; 后面数字可以自己修改
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-- 此时可设置简单密码（如8位纯数字）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ALTER USER &lt;span class=&#34;s1&#34;&gt;&amp;#39;root&amp;#39;&lt;/span&gt;@&lt;span class=&#34;s1&#34;&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt; IDENTIFIED BY &lt;span class=&#34;s1&#34;&gt;&amp;#39;12345678&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 4. （可选）允许root远程登录（方便外部连接，生产环境谨慎开启）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;use mysql&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;update user &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;%&amp;#39;&lt;/span&gt; where &lt;span class=&#34;nv&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;flush privileges&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 5. 退出MySQL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;验证mysql可用&#34;&gt;验证MySQL可用
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 重新登录MySQL（验证密码是否生效）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysql -uroot -p&lt;span class=&#34;s1&#34;&gt;&amp;#39;123123&amp;#39;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# 默认端口&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 或改端口后登录：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysql -uroot -p&lt;span class=&#34;s1&#34;&gt;&amp;#39;123123&amp;#39;&lt;/span&gt; -P3307
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 执行简单查询（显示数据库列表即正常）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show databases&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;5-mysql-基本使用&#34;&gt;5. MySQL 基本使用
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 登录MySQL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysql -u root -p
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 创建数据库&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CREATE DATABASE mydb&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 查看所有数据库&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SHOW DATABASES&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 使用指定数据库&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;USE mydb&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 创建表&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CREATE TABLE users &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    id INT AUTO_INCREMENT PRIMARY KEY,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    name VARCHAR&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    email VARCHAR&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;100&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; UNIQUE NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 插入数据&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;INSERT INTO users &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;name, email&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; VALUES &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;John Doe&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;john@example.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 查询数据&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SELECT * FROM users&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 更新数据&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;UPDATE users SET &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Jane Doe&amp;#39;&lt;/span&gt; WHERE &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 删除数据&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;DELETE FROM users WHERE &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 退出MySQL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;exit&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;6-常用-mysql-管理命令&#34;&gt;6. 常用 MySQL 管理命令
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 重启MySQL服务&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; systemctl restart mysqld
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 停止MySQL服务&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; systemctl stop mysqld
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 查看MySQL版本&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysql --version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 备份数据库&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqldump -u root -p mydb &amp;gt; mydb_backup.sql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 恢复数据库&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysql -u root -p mydb &amp;lt; mydb_backup.sql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;常见导致启动失败的日志提示及解决方法&#34;&gt;常见导致启动失败的日志提示及解决方法：
&lt;/h2&gt;&lt;h4 id=&#34;常见问题排查遇到报错直接用&#34;&gt;常见问题排查（遇到报错直接用）
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;启动失败：查看错误日志 &lt;code&gt;cat /var/log/mysqld.log | grep -i error&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;密码忘记：停止服务→跳过授权表启动→重置密码（模板外补充，需可联系）&lt;/li&gt;
&lt;li&gt;远程连接失败：检查防火墙开放3306/3307端口 &lt;code&gt;firewall-cmd --permanent --add-port=3307/tcp &amp;amp;&amp;amp; firewall-cmd --reload&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;1-日志中出现-permission-denied权限问题&#34;&gt;1. 日志中出现 &lt;code&gt;Permission denied&lt;/code&gt;（权限问题）
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 修复MySQL数据目录权限（关键目录必须归mysql用户所有）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo chown -R mysql:mysql /var/lib/mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo chmod -R &lt;span class=&#34;m&#34;&gt;755&lt;/span&gt; /var/lib/mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 重启服务&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl start mysqld
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;2-日志中出现-initialize-database-失败初始化问题&#34;&gt;2. 日志中出现 &lt;code&gt;Initialize database&lt;/code&gt; 失败（初始化问题）
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 先停止服务（如果处于启动中）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl stop mysqld
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 清空数据目录（注意：会删除所有数据，首次安装适用）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo rm -rf /var/lib/mysql/*
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 重新初始化数据库&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo mysqld --initialize --user&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mysql --basedir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr --datadir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/lib/mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 启动服务&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl start mysqld
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;3-日志中出现-invalid-configuration配置文件错误&#34;&gt;3. 日志中出现 &lt;code&gt;Invalid configuration&lt;/code&gt;（配置文件错误）
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 检查并编辑MySQL配置文件（通常是/etc/my.cnf）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo vi /etc/my.cnf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 注释或删除错误的配置项（例如：无效的参数、路径错误等）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 保存后重启服务&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl start mysqld
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;4-日志中出现-port-3306-is-already-in-use端口占用&#34;&gt;4. 日志中出现 &lt;code&gt;Port 3306 is already in use&lt;/code&gt;（端口占用
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 查找占用3306端口的进程&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; netstat -tulpn &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;m&#34;&gt;3306&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 终止占用进程（假设进程ID为1234）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nb&#34;&gt;kill&lt;/span&gt; -9 &lt;span class=&#34;m&#34;&gt;1234&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 重启服务&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; systemctl start mysqld
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;3-初始化配置&#34;&gt;3. 初始化配置
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 获取初始密码&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo grep &lt;span class=&#34;s1&#34;&gt;&amp;#39;temporary password&amp;#39;&lt;/span&gt; /var/log/mysqld.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 登录MySQL（使用上面获取的初始密码）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysql -u root -p
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 修改密码（MySQL8.0以上要求密码包含大小写字母、数字和特殊字符）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ALTER USER &lt;span class=&#34;s1&#34;&gt;&amp;#39;root&amp;#39;&lt;/span&gt;@&lt;span class=&#34;s1&#34;&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt; IDENTIFIED BY &lt;span class=&#34;s1&#34;&gt;&amp;#39;NewPassword@123&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 允许远程访问（可选）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;use mysql&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;update user &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;%&amp;#39;&lt;/span&gt; where &lt;span class=&#34;nv&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;FLUSH PRIVILEGES&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;4-防火墙配置允许远程访问&#34;&gt;4. 防火墙配置（允许远程访问）
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 开放3306端口&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo firewall-cmd --zone&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;public --add-port&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;3306/tcp --permanent
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 重新加载防火墙配置&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo firewall-cmd --reload
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;6-安全加固推荐&#34;&gt;6. 安全加固（推荐）
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 运行安全脚本，按照提示进行配置&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo mysql_secure_installation
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;这个脚本会引导你完成一系列安全设置，包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;设置 root 密码&lt;/li&gt;
&lt;li&gt;移除匿名用户&lt;/li&gt;
&lt;li&gt;禁止 root 远程登录&lt;/li&gt;
&lt;li&gt;移除测试数据库&lt;/li&gt;
&lt;li&gt;重新加载权限表&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Linux四剑客</title>
        <link>http://localhost:1313/posts/linux%E5%9B%9B%E5%89%91%E5%AE%A2/</link>
        <pubDate>Mon, 20 Oct 2025 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/linux%E5%9B%9B%E5%89%91%E5%AE%A2/</guid>
        <description>&lt;p&gt;Linux四剑客&lt;/p&gt;
&lt;p&gt;1、find    ：           查找文件、目录，find与其他命令配合&lt;/p&gt;
&lt;p&gt;2、gerp/egrep  ： 过滤&lt;/p&gt;
&lt;p&gt;3、sed           ：过滤，替换，取行&lt;/p&gt;
&lt;p&gt;4、awk           ：过滤，取行，取列，统计与计算&lt;/p&gt;
&lt;h3 id=&#34;find&#34;&gt;find
&lt;/h3&gt;&lt;p&gt;find 路径 -name &amp;ldquo;文件名&amp;rdquo;&lt;/p&gt;
&lt;p&gt;选项&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.&lt;/code&gt;                        表示在当前目录下&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;quot;ab*&amp;quot;&lt;/code&gt;                    *匹配一串字符    ？匹配一个字符&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-type&lt;/code&gt;                    d目录  f文件  l软链接&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-iname&lt;/code&gt;                   忽略大小写查找含有关键字的文件&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-name&lt;/code&gt;                    指定文件名，默认精确匹配。加上*模糊&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-size&lt;/code&gt;                    指定大小 +1M表示大于1M的，-1k表示小于1k的文件&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-mtime&lt;/code&gt;                   根据时间查找&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-maxdepth&lt;/code&gt;                查找最大深度&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-perm 755&lt;/code&gt;                表示权限为755的文件&lt;/p&gt;
&lt;h4 id=&#34;案例01找出etc目录下面以conf结尾的文件&#34;&gt;案例01：找出/etc/目录下面以.conf结尾的文件
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;find /etc/ -type f -name &#39;*.conf&#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;find  目录  类型 名字&lt;/p&gt;
&lt;p&gt;&lt;code&gt;find /etc/ -type f -name &#39;host*&#39;&lt;/code&gt;       #以hosts开头&lt;/p&gt;
&lt;p&gt;找出/bin/  /sbin/  文件中包含ip的文件&lt;/p&gt;
&lt;p&gt;&lt;code&gt;find /bin/ /sbin/ -type f -name &amp;quot;*ip&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;案例02找出etc目录下以conf结尾的文件文件大小大于10k&#34;&gt;案例02：找出/etc/目录下以.conf结尾的文件文件大小大于10k
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;find /etc/ -type f -name &amp;quot;*.conf&amp;quot; -size +10k&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;案例03找出varlog下面以log结尾的文件并且修改时间大于3天&#34;&gt;案例03：找出/var/log下面以.log结尾的文件并且修改时间大于3天
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;find /var/log/ -type f -name &amp;quot;*.log&amp;quot; -mtime +3&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;案例04查找文件或目录的时候不区分大小写&#34;&gt;案例04：查找文件或目录的时候不区分大小写
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;find /etc/ -type f -iname &amp;quot;*.conf&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;案例根据深度查找文件&#34;&gt;案例根据深度查找文件
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;find /etc/ -maxdepth 1 -type f -name &amp;quot;*.conf&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;案例05find找出文件后进行删除&#34;&gt;案例05：find找出文件后进行删除
&lt;/h4&gt;&lt;p&gt;创建测试环境&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mkdir  -p /app/logs/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;touch /app/logs/access{01..10}.log&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;方法01：find与反引导&lt;/p&gt;
&lt;p&gt;rm -f &lt;code&gt;find /app/logs/ -type f -name &#39;*.log&#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;方法02：find 管道&lt;/p&gt;
&lt;p&gt;find /app/logs/ -type f -name &amp;ldquo;*.log&amp;rdquo; | xargs rm -f&lt;/p&gt;
&lt;p&gt;| 与|xargs区别&lt;/p&gt;
&lt;p&gt;|传递的是字符串，文字符号&lt;/p&gt;
&lt;p&gt;|xargs传递是参数 命令后面文件，目录&lt;/p&gt;
&lt;p&gt;方法03：find选项-exec&lt;/p&gt;
&lt;p&gt;find -type f -name &amp;ldquo;*.log&amp;rdquo; -exec rm -f {} ;&lt;/p&gt;
&lt;p&gt;-exec 命令 {} ;&lt;/p&gt;
&lt;p&gt;{}前面find找出的文件内容&lt;/p&gt;
&lt;p&gt;;结尾标记&lt;/p&gt;
&lt;h4 id=&#34;案例06找出etc下以conf结尾的文件与打包压缩backup&#34;&gt;案例06：找出/etc/下以.conf结尾的文件与打包压缩/backup/
&lt;/h4&gt;&lt;p&gt;方法01：find+反引号&lt;/p&gt;
&lt;p&gt;tar zcf /backup/etc-conf.tar.gz  &lt;code&gt;find /etc/ -type f -name &amp;quot;*.conf&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;方法02：find |xargs&lt;/p&gt;
&lt;p&gt;find /etc/ -type f -name &amp;ldquo;*.conf&amp;rdquo; |xargs tar zcf /backup/etc_conf.tar.gz&lt;/p&gt;
&lt;p&gt;方法03：find -execf&lt;/p&gt;
&lt;p&gt;find /etc/ -type f -name &amp;ldquo;*.conf&amp;rdquo; -exec tar -zcf /backup/etc_conf.tar.gz {} ;&lt;/p&gt;
&lt;p&gt;有坑，发现打包压缩后只有1个文件&lt;/p&gt;
&lt;p&gt;find 与 -exe执行流程&lt;/p&gt;
&lt;p&gt;find找出1个文件exec执行1次命令&lt;/p&gt;
&lt;p&gt;find /etc/ -type f -name &amp;ldquo;*.conf&amp;rdquo; -exec tar zcf /backup/etc-exec.tar.gz {} +&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;先执行前面命令执行完成，结果一次性通exec传递给后面命令&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;特殊符号-重定向&#34;&gt;特殊符号-重定向
&lt;/h4&gt;&lt;h5 id=&#34;单引号双引号反引号不加引号的区别&#34;&gt;单引号、双引号、反引号、不加引号的区别
&lt;/h5&gt;&lt;p&gt;单引号：所见即所得，单引号里面的内容会原封不动输出，shell(bash)不会解析与运行&lt;/p&gt;
&lt;p&gt;双引号：与单引号类似，特殊符号会被解析运行$,``,不会解析{}(通配符匹配文件名)&lt;/p&gt;
&lt;p&gt;不加引号：与双引号类似，解析{}&lt;/p&gt;
&lt;p&gt;反引号：优先执行，先运行引号里面的命令&lt;/p&gt;
&lt;p&gt;#echo &amp;lsquo;oldboy $LANG hostname{01..10}&amp;rsquo;| oldboy $LANG hostname {01..10}&lt;/p&gt;
&lt;p&gt;#echo &amp;ldquo;oldboy $LANG hostname {01..10}&amp;rdquo;&lt;/p&gt;
&lt;h5 id=&#34;重定向符号&#34;&gt;重定向符号
&lt;/h5&gt;&lt;p&gt;&lt;code&gt;&amp;gt; 或1&amp;gt;&lt;/code&gt;           标准输出重定向（正确信息），先清空，然后写入&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;gt; &amp;gt; 或1&amp;gt;&amp;gt;&lt;/code&gt;     标准输出追加重定向（正确信息），追加到文件末尾&lt;/p&gt;
&lt;p&gt;&lt;code&gt;2&amp;gt;&lt;/code&gt;                标准错误输出重定向（错误信息），先清空，然后写入&lt;/p&gt;
&lt;p&gt;&lt;code&gt;2&amp;gt;&amp;gt;&lt;/code&gt;              标准错误追加输出重定向（错误信息），追加到文件末尾&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;gt; &amp;gt; oldboy.txt 2&amp;gt;&amp;amp;1 &amp;amp;&amp;gt;&amp;gt;oldboy.txt               标准错误信息都写入到指定文件&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;或0&amp;lt;&lt;/code&gt;            输入重定向&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;&amp;lt;或0&amp;lt;&amp;lt;&lt;/code&gt;           追加输入重定向&lt;/p&gt;
&lt;p&gt;2&amp;gt;&amp;amp;1:将正确和错误的信息都输出，适用于日志文件&lt;/p&gt;
&lt;p&gt;2&amp;gt;:只输出错误的信息&lt;/p&gt;
&lt;h3 id=&#34;grep&#34;&gt;grep
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -n --color &amp;#39;^hello&amp;#39; ~/Desktop/2.txt&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;-n              ==&amp;gt; 显示行数&lt;/p&gt;
&lt;p&gt;-color          ==&amp;gt; 显示颜色&lt;/p&gt;
&lt;p&gt;&amp;lsquo;^hello&amp;rsquo;  ^     ==&amp;gt;字符串开头,查找的字符串
$               ==&amp;gt; 字符串结尾&lt;/p&gt;
&lt;p&gt;~/Desktop/2.txt ==&amp;gt; 查找的文件路径&lt;/p&gt;
&lt;p&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -v --color &amp;#39;^hello&amp;#39; ~/Desktop/2.txt | grep -v &amp;#34;^$&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
-v        ==&amp;gt; 取反，不要以 hello 开头的内容&lt;/p&gt;
&lt;p&gt;-v ”^$”   ==&amp;gt; 去掉空行&lt;/p&gt;
&lt;p&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;egrep &amp;#39;[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$&amp;#39; 2.txt 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;egrep &amp;#39;([0-9]{1,3}\.){3}[0-9]{1,3}$&amp;#39; 2.txt&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&amp;lsquo;[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}$&amp;rsquo;  ==&amp;gt; 正则表达式匹配ip地址 xxx.xxx.xxx.xxx&lt;/p&gt;
&lt;p&gt;cat /etc/passwd&lt;/p&gt;
&lt;p&gt;grep 命令用于查找文件中的内容,匹配文件中的内容&lt;/p&gt;
&lt;p&gt;grep  -n &amp;ndash;color &amp;ldquo;root&amp;rdquo; /etc/passwd&lt;/p&gt;
&lt;p&gt;-n    ==&amp;gt;查找的结果在passwd文件的 行号&lt;/p&gt;
&lt;p&gt;&amp;ndash;color  ==&amp;gt;为关键字加上颜色&lt;/p&gt;
&lt;p&gt;/etc/passwd  这个文件&lt;/p&gt;
&lt;p&gt;grep  -n &amp;ndash;color &amp;ldquo;^root&amp;rdquo; /etc/passwd&lt;/p&gt;
&lt;p&gt;^root 表示以root开头的行，文本后面出现root关键字没有用&lt;/p&gt;
&lt;p&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep  -n --color &amp;#34;root$&amp;#34; /etc/passwd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep  -n --color &amp;#34;bash$&amp;#34; /etc/passwd&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
root$ 表示文本所在行以root结尾&lt;/p&gt;
&lt;p&gt;bash$ 表示文本所在行以bash结尾&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep &amp;#34;#&amp;#34; /etc/passwd  #查找passwd文件中包含#的行
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -v &amp;#34;#&amp;#34; /etc/passwd  #查找passwd文件中不包含#的行&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;grep -v &amp;ldquo;#&amp;rdquo; /etc/passwd | grep -v &amp;ldquo;^$&amp;rdquo;   #查找passwd文件中不包含#的行,并去除空行&lt;/p&gt;
&lt;p&gt;grep -v &amp;ldquo;^$&amp;rdquo;   表示不包含空行，即去除空行&lt;/p&gt;
&lt;p&gt;-v  表示不包含&lt;/p&gt;
&lt;p&gt;&amp;ldquo;^$&amp;rdquo; 表示空行&lt;/p&gt;
&lt;p&gt;^ 以空格开头&lt;/p&gt;
&lt;p&gt;$ 以空格结尾&lt;/p&gt;
&lt;p&gt;grep -[a c i n v] &amp;lsquo;搜索的内容&amp;rsquo;  filename&lt;/p&gt;
&lt;p&gt;-a 以文本文件方式搜索&lt;/p&gt;
&lt;p&gt;-c 计算找到的符合行的次数&lt;/p&gt;
&lt;p&gt;-i 忽略大小写&lt;/p&gt;
&lt;p&gt;-n 顺便输出行号&lt;/p&gt;
&lt;p&gt;-v 反向选择，即显示不包含匹配文本的所有行&lt;/p&gt;
&lt;p&gt;-h 查询多文件时不显示文件名&lt;/p&gt;
&lt;p&gt;-l查询多文件时只输出包含匹配字符的文件名&lt;/p&gt;
&lt;p&gt;-s 不显示不存在或无匹配的错误信息&lt;/p&gt;
&lt;p&gt;grep 命令加 -E 参数，这一扩展允许使用扩展模式匹配&lt;/p&gt;
&lt;p&gt;grep -E  =  egrep&lt;/p&gt;
&lt;p&gt;使用grep查找文件中的ip地址&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep --color &amp;#34;[0-9][0-9]&amp;#34;  test.txt   
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;#34;[0-9]&amp;#34;  表示0~9任意一个字符
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;#34;[0-9][0-9]&amp;#34; 两个连续数字
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep --color &amp;#34;[0-9]\{1,3}&amp;#34;  test.txt  #匹配1~3次&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;egrep &amp;ndash;color &amp;ldquo;[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}$&amp;rdquo;  test.txt&lt;/p&gt;
&lt;p&gt;[0-9]{1,3}. 表示以1~3位数字，并且后面有一个 . 号&lt;/p&gt;
&lt;p&gt;.   表示转义的.  一定要加上&lt;/p&gt;
&lt;p&gt;[0-9]{1,3}$   表示以1~3位数字结尾，如果是4位数字或以上就不行&lt;/p&gt;
&lt;p&gt;[a-z] 表示一个字母&lt;/p&gt;
&lt;p&gt;egrep &amp;ndash;color &amp;ldquo;([0-9]{1,3}.){3}[0-9]{1,3}$&amp;rdquo;  test.txt
{} 表示匹配的的次数
([0-9]{1,3}.){3} 将前面的形式匹配3次&lt;/p&gt;
&lt;p&gt;[^] 匹配一个不在指定范围内的字符 ex: &amp;lsquo;[^A-FH-Z]rep&amp;rsquo; 匹配不包含A-R和T-Z的一个字母开头，紧跟rep的行。&lt;/p&gt;
&lt;p&gt;ls -l |grep &amp;lsquo;^a&amp;rsquo;通过管道过滤ls -l 输出的内容，只显示以a开头的行
grep &amp;rsquo;test&amp;rsquo; aa bb cc 显示在aa，bb，cc文件中匹配test行
grep &amp;lsquo;[a-z]/{5/}&amp;rsquo;  aa显示所有包含每个字符串至少有5个连续小写字符的字符串的行&lt;/p&gt;
&lt;p&gt;grep -c &amp;ldquo;48&amp;rdquo; test.txt 统计所有以&amp;quot;48&amp;quot;字符开头的行有多少
grep -i &amp;ldquo;May&amp;rdquo; test.txt 不区分大小写查找 &amp;ldquo;May&amp;quot;所有的行&lt;/p&gt;
&lt;p&gt;grep -n &amp;ldquo;May&amp;rdquo; test.txt 显示行号
grep -v &amp;ldquo;48&amp;rdquo; test.txt 显示输出没有字符&amp;quot;48&amp;rdquo; 所有的行
([a-z]+[a-z0-9])      表示匹配任意一个字母 + 任意一个数字或字母
([a-z]+[a-z0-9]+)    这边的+号表示可以匹配多个&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Wireshark</title>
        <link>http://localhost:1313/posts/wireshark/</link>
        <pubDate>Mon, 20 Oct 2025 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/wireshark/</guid>
        <description>&lt;p&gt;Wireshark&lt;/p&gt;
&lt;p&gt;官网：https://www.wireshark.org&lt;/p&gt;
</description>
        </item>
        <item>
        <title>搭建hugo博客</title>
        <link>http://localhost:1313/posts/%E6%90%AD%E5%BB%BAhugo%E5%8D%9A%E5%AE%A2/</link>
        <pubDate>Sat, 18 Oct 2025 16:31:22 +0800</pubDate>
        
        <guid>http://localhost:1313/posts/%E6%90%AD%E5%BB%BAhugo%E5%8D%9A%E5%AE%A2/</guid>
        <description>&lt;p&gt;Hugo + GitHub搭建个人博客&lt;/p&gt;
&lt;p&gt;首先安装下载  Hugo和Git,并且注册一个GitHub账号，Hugo一定要选择&lt;code&gt;Extended&lt;/code&gt;版本。&lt;/p&gt;
&lt;p&gt;打开终端，按下&lt;code&gt;win+R&lt;/code&gt;,输入&lt;code&gt;cmd&lt;/code&gt;，回车进入终端，输入以下命令，验证一下安装是否成功了吗？&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git --version&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hugo version&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如果能看到版本号，说明安装成功了&lt;/p&gt;
&lt;p&gt;创建本地博客项目&lt;/p&gt;
&lt;p&gt;1、打开终端,&lt;code&gt;cd&lt;/code&gt;到你希望存放博客项目的文件夹。&lt;/p&gt;
&lt;p&gt;2、运行以下命令创建一个新的Hugo站点。我们将博客项目命名为 &lt;code&gt;my-blog&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hugo new site my-blog&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;3、进入刚刚创建的目录并初始化Git仓库&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cd my-blog&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git init&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;添加主题&lt;/p&gt;
&lt;p&gt;找到Hugo官网，选择主题，跳转到Github,点&lt;code&gt;tag&lt;/code&gt;,下载最新版zip源码包&lt;/p&gt;
&lt;p&gt;解压缩到&lt;code&gt;themes&lt;/code&gt;文件夹，并将名字中的版本号去掉&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://telegraph-image-5tj.pages.dev/file/AgACAgUAAyEGAAS6dLpwAAMIaPOdoDP41HIYSdPL6PtG1KOY9UUAAi8LaxspIaFXF3C7MOihYicBAAMCAAN4AAM2BA.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;配置主题&lt;/p&gt;
&lt;p&gt;在 &lt;code&gt;my-blog&lt;/code&gt; 目录下，执行以下命令（仅针对本项目，功能是提取作者的演示案例作为初始项目，并清除作者的演示案例）&lt;/p&gt;
&lt;p&gt;强制删除当前目录的 content 文件夹（若存在）
&lt;code&gt;Remove-Item -Path &amp;quot;content&amp;quot; -Recurse -Force -ErrorAction SilentlyContinue&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;将主题示例的 content 复制到当前目录（xcopy在PowerShell中可直接使用）
&lt;code&gt;xcopy &amp;quot;themes\hugo-theme-stack\exampleSite\content&amp;quot; &amp;quot;content&amp;quot; /E /I /H /Y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;删除 exampleSite 文件夹
&lt;code&gt;Remove-Item -Path &amp;quot;themes\hugo-theme-stack\exampleSite&amp;quot; -Recurse -Force -ErrorAction SilentlyContinue&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;删除 rich-content 文件夹
&lt;code&gt;Remove-Item -Path &amp;quot;content/post/rich-content&amp;quot; -Recurse -Force -ErrorAction SilentlyContinue&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;删除hugo.toml，并创建hugo.yaml (进入相应文件夹中删除创建即可)&lt;/p&gt;
&lt;p&gt;将下面模板代码完整复制到&lt;code&gt;config.yaml&lt;/code&gt;文件中，根据注释修改你的信息
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;  1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 86
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 87
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 88
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 89
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 90
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 91
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 92
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 93
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 94
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 95
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 96
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 97
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 98
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 99
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;100
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;101
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;102
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;103
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;104
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;105
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;106
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;107
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;108
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;109
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;110
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;111
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;112
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;113
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;114
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;115
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;116
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;117
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;118
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;119
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;120
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;121
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;122
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;123
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;124
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;125
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;126
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;127
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;128
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;129
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;130
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;131
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;132
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;133
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;134
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;135
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;136
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;137
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;138
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;139
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;140
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;141
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;142
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;143
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;144
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;145
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;146
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;147
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;148
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;149
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;150
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;151
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;152
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;153
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;154
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;155
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;156
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;157
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;158
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;159
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;160
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;161
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;162
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;163
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;164
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;165
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;166
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;167
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;168
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;169
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;170
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;171
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;172
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;173
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;174
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;175
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;176
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;177
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;178
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;179
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;180
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;181
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;182
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;183
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;184
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;185
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;186
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;187
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;188
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;189
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;190
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;191
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;192
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;193
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;194
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;195
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;196
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;197
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;198
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;199
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;200
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;201
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;202
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;203
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;204
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#站点基础配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;baseurl: https://example.com/           # 网站根URL
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;languageCode: en-us                     # 默认语言代码
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;theme: hugo-theme-stack                 # 使用的主题名称
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;title: Example Site                     # 网站标题
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;copyright: Example Person               # 版权信息
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#国际化配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#支持的语言: ar, bn, ca, de, el, en, es, fr, hu, id, it, ja, ko, nl, pt-br, th, uk, zh-cn, zh-hk, zh-tw
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;DefaultContentLanguage: en              # 默认内容语言
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#如果默认语言是中文/日文/韩文，需设置为true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#这将使.Summary和.WordCount对CJK语言正常工作
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hasCJKLanguage: false
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#多语言详细配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;languages:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    en:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        languageName: English           # 语言显示名称
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        title: Example Site             # 该语言下的网站标题
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        weight: 1                       # 权重（排序用）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        params:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            sidebar:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                subtitle: Example description  # 侧边栏副标题
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    zh-cn:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        languageName: 中文
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        title: 演示站点
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        weight: 2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        params:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            sidebar:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                subtitle: 演示说明
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ar:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        languageName: عربي
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        languagedirection: rtl          # 文本方向（阿拉伯语从右到左）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        title: موقع تجريبي
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        weight: 3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        params:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            sidebar:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                subtitle: وصف تجريبي
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#第三方服务配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;services:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    # Disqus评论系统（使用前需修改为你的shortname）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    disqus:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        shortname: &amp;#34;hugo-theme-stack&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    # Google Analytics跟踪ID
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    googleAnalytics:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        id:                             # 填入你的GA跟踪ID
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#分页设置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pagination:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    pagerSize: 3                        # 分页器显示页码数量
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#永久链接格式
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;permalinks:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    post: /p/:slug/                     # 文章URL格式
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    page: /:slug/                       # 页面URL格式
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#主题参数配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;params:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    mainSections:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - post                         # 主要内容区域
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    featuredImageField: image          # 特色图片字段名
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    rssFullContent: true               # RSS是否包含全文
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    favicon:                           # 网站图标路径，如：/favicon.ico
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    # 页脚设置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    footer:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        since: 2020                    # 起始年份
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        customText:                    # 自定义文本
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    # 日期格式
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    dateFormat:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        published: Jan 02, 2006        # 发布日期格式
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        lastUpdated: Jan 02, 2006 15:04 MST  # 最后更新日期格式
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    # 侧边栏设置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    sidebar:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        emoji: 🍥                      # 表情图标
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        subtitle: Lorem ipsum dolor sit amet, consectetur adipiscing elit.  # 副标题
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        avatar:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            enabled: true              # 是否显示头像
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            local: true                # 是否使用本地图片
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            src: img/avatar.png        # 头像路径
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    # 文章设置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    article:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        math: false                    # 是否支持数学公式
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        toc: true                      # 是否显示目录
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        readingTime: true              # 是否显示阅读时间
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        license:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            enabled: true              # 是否显示版权信息
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            default: Licensed under CC BY-NC-SA 4.0  # 默认许可证
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    # 评论系统配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    comments:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        enabled: true                  # 启用评论
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        provider: disqus               # 评论提供商
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        # 各评论系统的具体配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        disqusjs: {...}                # DisqusJS配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        utterances: {...}              # Utterances配置（GitHub-based）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        beaudar: {...}                 # Beaudar配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        remark42: {...}                # Remark42配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        vssue: {...}                   # Vssue配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        waline: {...}                  # Waline配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        twikoo: {...}                  # Twikoo配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        cactus: {...}                  # Cactus Chat配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        giscus: {...}                  # Giscus配置（GitHub Discussions）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        gitalk: {...}                  # Gitalk配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        cusdis: {...}                  # Cusdis配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    # 小工具配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    widgets:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        homepage:                      # 首页小工具
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - type: search             # 搜索框
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - type: archives           # 文章归档
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              params:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  limit: 5             # 显示数量
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - type: categories         # 分类
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              params:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  limit: 10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - type: tag-cloud          # 标签云
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              params:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  limit: 10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        page:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - type: toc                # 页面目录
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    # OpenGraph设置（社交媒体分享）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    opengraph:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        twitter:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            site:                      # Twitter用户名
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            card: summary_large_image  # 卡片类型：summary或summary_large_image
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    # 默认图片设置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    defaultImage:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        opengraph:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            enabled: false             # 是否启用
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            local: false               # 是否使用本地图片
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            src:                       # 图片路径
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    # 颜色方案
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    colorScheme:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        toggle: true                   # 是否显示切换按钮
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        default: auto                  # 默认模式：auto, light, dark
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    # 图片处理
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    imageProcessing:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        cover:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            enabled: true              # 处理封面图片
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        content:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            enabled: true              # 处理内容图片
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#自定义菜单配置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;menu:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    main: []                           # 主导航菜单
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    social:                            # 社交链接菜单
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - identifier: github
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          name: GitHub
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          url: https://github.com/CaiJimmy/hugo-theme-stack
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          params:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              icon: brand-github       # 图标名称
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#相关文章设置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;related:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    includeNewer: true                 # 是否包含较新文章
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    threshold: 60                      # 相关度阈值
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    toLower: false                     # 是否忽略大小写
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    indices:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - name: tags                   # 使用标签作为关联依据
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          weight: 100                  # 权重
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - name: categories             # 使用分类作为关联依据
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          weight: 200
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#Markdown渲染设置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;markup:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    goldmark:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        extensions:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            passthrough:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                enable: true           # 启用原始HTML通过
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                delimiters:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    block:             # 块级分隔符
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        - - \[
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                          - \]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        - - $$
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                          - $$
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    inline:            # 行内分隔符
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        - - \(
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                          - \)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        renderer:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            unsafe: true               # 允许不安全HTML（直接渲染HTML内容）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    tableOfContents:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        endLevel: 4                    # 目录结束级别
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ordered: true                  # 是否有序
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        startLevel: 2                  # 目录开始级别
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    highlight:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        noClasses: false               # 是否使用内联样式
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        codeFences: true               # 启用代码围栏
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        guessSyntax: true              # 自动猜测语法
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        lineNoStart: 1                 # 行号起始值
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        lineNos: true                  # 显示行号
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        lineNumbersInTable: true       # 在表格中显示行号
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        tabWidth: 4                    # 制表符宽度&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;重点： 务必修改 baseURL、title、avatar.src 和 social 部分的内容为你自己的信息&lt;/p&gt;
&lt;p&gt;本地预览&lt;/p&gt;
&lt;p&gt;在发布到互联网前，先在本地预览效果。&lt;/p&gt;
&lt;p&gt;在 my-blog 目录的 PowerShell 中执行：&lt;/p&gt;
&lt;p&gt;hugo server -D&lt;/p&gt;
&lt;p&gt;终端会提示一个地址，通常是 http://localhost:1313/。在浏览器中打开它，你应该能看到你的博客了。&lt;/p&gt;
&lt;p&gt;托管代码到 GitHub 并设置自动化部署&lt;/p&gt;
&lt;p&gt;创建并设置源代码仓库&lt;/p&gt;
&lt;p&gt;·登录 GitHub，创建一个新仓库用于存放博客的源代码。&lt;/p&gt;
&lt;p&gt;·Repository name: &amp;lt;你的用户名&amp;gt;.github.io (这是获取顶级访问域名的关键，例如用户名 john 则仓库名为 john.github.io)。&lt;/p&gt;
&lt;p&gt;·将仓库 visibility 设为 Public (私有仓库需要付费账户才能使用 Pages 功能)。&lt;/p&gt;
&lt;p&gt;·不要勾选 “Initialize this repository with a README”。&lt;/p&gt;
&lt;p&gt;·创建完成后，复制仓库的 HTTPS 地址（格式为 &lt;a class=&#34;link&#34; href=&#34;https://github.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/&lt;/a&gt;&amp;lt;你的用户名&amp;gt;/&amp;lt;你的用户名&amp;gt;.github.io.git）。
推送本地代码到仓库&lt;/p&gt;
&lt;p&gt;推送本地代码到仓库&lt;/p&gt;
&lt;p&gt;在本地终端 (如 PowerShell) 中，进入你的 Hugo 站点根目录 (例如 my-blog)，执行以下命令：&lt;/p&gt;
&lt;p&gt;#关联远程仓库（地址替换为刚复制的地址）&lt;/p&gt;
&lt;p&gt;git remote add origin &lt;a class=&#34;link&#34; href=&#34;https://github.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/&lt;/a&gt;&amp;lt;你的用户名&amp;gt;/&amp;lt;你的用户名&amp;gt;.github.io.git&lt;/p&gt;
&lt;p&gt;#添加所有文件到暂存区并提交&lt;/p&gt;
&lt;p&gt;git add .&lt;/p&gt;
&lt;p&gt;git commit -m &amp;ldquo;Initial commit with Hugo site and Stack theme&amp;rdquo;&lt;/p&gt;
&lt;p&gt;#将本地 main 分支推送到 GitHub 并设为上游分支&lt;/p&gt;
&lt;p&gt;git branch -M main&lt;/p&gt;
&lt;p&gt;git push -u origin main&lt;/p&gt;
&lt;p&gt;配置自动化部署 (GitHub Actions)&lt;/p&gt;
&lt;p&gt;·设置Github Pages&lt;/p&gt;
&lt;p&gt;·点击Settings&lt;/p&gt;
&lt;p&gt;·点击左侧Pages&lt;/p&gt;
&lt;p&gt;·将Buile and depolyment由Deploy from branch 改为 GitHub Actions&lt;/p&gt;
&lt;p&gt;·在本地站点根目录下，创建目录结构：.github/workflows/，并在 workflows 目录中新建文件 deploy.yml。&lt;/p&gt;
&lt;p&gt;·用文本编辑器打开 deploy.yml，粘贴以下工作流配置（该配置使用官方推荐 Actions，支持自动构建、发布）：
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;name: Deploy Hugo Site to Pages
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;on:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  push:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    branches: [&amp;#34;main&amp;#34;]   # 代码推送至 main 分支时触发
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  workflow_dispatch:     # 支持手动触发
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;permissions:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  contents: read
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  pages: write
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  id-token: write
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;concurrency:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  group: &amp;#34;pages&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  cancel-in-progress: false
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;jobs:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  build:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    runs-on: ubuntu-latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    steps:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: Checkout code
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        uses: actions/checkout@v4
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        with:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          submodules: recursive  # 自动拉取主题子模块
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          fetch-depth: 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: Setup Hugo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        uses: peaceiris/actions-hugo@v2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        with:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          hugo-version: &amp;#39;latest&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          # extended: true       # 若主题需扩展版，取消注释
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: Build with Hugo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        run: hugo --minify --gc   # 生成优化后的静态文件
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: Upload artifact
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        uses: actions/upload-pages-artifact@v3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        with:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          path: ./public          # 上传生成的站点文件
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  deploy:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      name: github-pages
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      url: ${{ steps.deployment.outputs.page_url }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    runs-on: ubuntu-latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    needs: build
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    steps:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: Deploy to GitHub Pages
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        id: deployment
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        uses: actions/deploy-pages@v4&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;查看部署状态和访问博客&lt;/p&gt;
&lt;p&gt;推送完成后，在浏览器中访问你的 GitHub 仓库：https://github.com/&amp;lt;你的用户名&amp;gt;/&amp;lt;你的用户名&amp;gt;.github.io。&lt;/p&gt;
&lt;p&gt;点击顶部 Actions 标签页，查看名为 “Deploy Hugo Site to Pages” 的工作流运行状态。等待运行完成（出现绿色对勾 ✅）。&lt;/p&gt;
&lt;p&gt;部署成功后，进入 Settings → Pages，页面顶部会显示你的博客访问地址：https://&amp;lt;你的用户名&amp;gt;.github.io。&lt;/p&gt;
&lt;p&gt;点击该链接即可访问已自动发布的博客。&lt;/p&gt;
&lt;p&gt;发布上线过程：&lt;/p&gt;
&lt;p&gt;进入my-blog根目录执行&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hugo --cleanDestinationDir&lt;/code&gt;     #清理旧文件并重新 生成&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hugo server&lt;/code&gt;  预览一下&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git add .&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git commit -m &amp;quot;Publish: XXX&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git push&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;本地仓库推送新账号&#34;&gt;本地仓库推送新账号
&lt;/h4&gt;&lt;p&gt;删除本地仓库文件&lt;code&gt;.git&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;初始化全新的Git仓库&lt;/p&gt;
&lt;p&gt;git init&lt;/p&gt;
&lt;p&gt;添加所有文件&lt;/p&gt;
&lt;p&gt;git add .&lt;/p&gt;
&lt;p&gt;提交初始版本&lt;/p&gt;
&lt;p&gt;git commit -m &amp;ldquo;初始化博客仓库&amp;rdquo;&lt;/p&gt;
&lt;p&gt;步骤 1：生成并添加 SSH 密钥到新账号&lt;/p&gt;
&lt;p&gt;打开终端，生成 SSH 密钥（按提示操作，无需设置密码）：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-keygen -t ed25519 -C &lt;span class=&#34;s2&#34;&gt;&amp;#34;oppwin168@gmail.com&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;找到生成的公钥文件（默认路径）：&lt;/p&gt;
&lt;p&gt;Windows：C:\Users\你的用户名.ssh\id_ed25519.pub&lt;/p&gt;
&lt;p&gt;用记事本打开，复制全部内容&lt;/p&gt;
&lt;p&gt;登录 JustWin33 的 GitHub 账号：&lt;/p&gt;
&lt;p&gt;进入 Settings → SSH and GPG keys → New SSH key&lt;/p&gt;
&lt;p&gt;粘贴公钥内容，随意填写一个标题（如 my-blog-pc），点击添加&lt;/p&gt;
&lt;p&gt;步骤 2：修改本地仓库的远程链接为 SSH 形式&lt;/p&gt;
&lt;p&gt;先删除现有 origin 关联&lt;/p&gt;
&lt;p&gt;git remote remove origin&lt;/p&gt;
&lt;p&gt;添加 SSH 形式的远程仓库链接&lt;/p&gt;
&lt;p&gt;git remote add origin &lt;a class=&#34;link&#34; href=&#34;mailto:git@github.com&#34; &gt;git@github.com&lt;/a&gt;:JustWin33/JustWin33.github.io.git&lt;/p&gt;
&lt;p&gt;步骤 3：测试 SSH 连接并推送&lt;/p&gt;
&lt;p&gt;测试是否能连接到 GitHub&lt;/p&gt;
&lt;p&gt;ssh -T &lt;a class=&#34;link&#34; href=&#34;mailto:git@github.com&#34; &gt;git@github.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;如果成功，会显示 Hi JustWin33! You&amp;rsquo;ve successfully authenticated&amp;hellip;&lt;/p&gt;
&lt;p&gt;然后推送代码：&lt;/p&gt;
&lt;p&gt;git push &amp;ndash;set-upstream origin main&lt;/p&gt;
&lt;p&gt;git submodule add -b main &lt;a class=&#34;link&#34; href=&#34;mailto:git@github.com&#34; &gt;git@github.com&lt;/a&gt;:JustWin33/JustWin33.github.io.git main&lt;/p&gt;
&lt;p&gt;注意是：main分支&lt;/p&gt;
&lt;p&gt;进入my-blog根目录执行&lt;/p&gt;
&lt;p&gt;hugo &amp;ndash;cleanDestinationDir     #清理旧文件并重新 生成&lt;/p&gt;
&lt;p&gt;hugo server  预览一下&lt;/p&gt;
&lt;p&gt;git add .&lt;/p&gt;
&lt;p&gt;git commit -m &amp;ldquo;Publish: XXX&amp;rdquo;&lt;/p&gt;
&lt;p&gt;git push&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Git &amp; GitHub</title>
        <link>http://localhost:1313/posts/git-github/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/git-github/</guid>
        <description>&lt;h2 id=&#34;git的-四个空间模型&#34;&gt;Git的 &amp;ldquo;四个空间&amp;quot;模型
&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://telegraph-image-5tj.pages.dev/file/AgACAgUAAyEGAAS6dLpwAAMJaPRHS_HqpI_X4jvit3oZ3IVUxncAAkoMaxspIaFXCCGXH9obv0QBAAMCAAN5AAM2BA.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;工作区-working-directory&#34;&gt;工作区 (Working Directory)
&lt;/h3&gt;&lt;p&gt;它就是你在电脑上能直接看到的项目文件夹，包含着所有项目文件。你用你的代码编辑器（比如 VS Code）打开项目，进行添加、删除、修改代码等所有操作，都是在工作区里完成的。它是最直观、最原始的空间。&lt;/p&gt;
&lt;h3 id=&#34;暂存区-staging-area&#34;&gt;暂存区 (Staging Area)
&lt;/h3&gt;&lt;p&gt;工作区的文件修改后，你不能直接把它“存档”。你需要一个中间步骤，让你选择哪些修改要被打包存档。暂存区就是这个地方。&lt;/p&gt;
&lt;p&gt;为什么需要它？ 假设你同时修改了3个文件，但只有2个是关于“修复登录bug”的，另1个是改着玩的。你就可以只把那2个文件“加入购物车”（git add），然后“结账”（git commit）。暂存区给了你一个精挑细选和反悔的机会，确保每一次提交都是一个逻辑完整的单元。&lt;/p&gt;
&lt;h3 id=&#34;本地仓库local-repository&#34;&gt;本地仓库(Local Repository)
&lt;/h3&gt;&lt;p&gt;当你执行“结账”命令（git commit）后，暂存区（购物车）里所有的内容会被打包成一个版本（我们称之为一次“提交”），然后被永久地保存在你本地电脑的仓库里。&lt;/p&gt;
&lt;p&gt;这个本地仓库位于你项目的 .git 隐藏文件夹中。它就像一个精密的数据库，记录了你项目从创建之初到现在的每一次提交，包括谁、在什么时间、修改了什么内容。这是你个人的、完整的项目历史备份。&lt;/p&gt;
&lt;h3 id=&#34;远程仓库remote-repository&#34;&gt;远程仓库(Remote Repository)
&lt;/h3&gt;&lt;p&gt;个人开发时，有前三个空间就足够了。但要团队协作，就需要一个所有成员都能访问的中央服务器来同步代码。这个服务器就是远程仓库。&lt;/p&gt;
&lt;p&gt;它通常托管在像 GitHub、GitLab 或 Gitee 这样的代码托管平台上。团队成员可以：&lt;/p&gt;
&lt;p&gt;·从远程仓库克隆 (clone) 一份完整的项目到自己的本地仓库。&lt;/p&gt;
&lt;p&gt;·将自己本地仓库中新的提交推送 (push) 到远程仓库，分享给他人。
·从远程仓库拉取 (pull) 别人的提交，更新自己的本地代码。&lt;/p&gt;
&lt;p&gt;在工作区写代码 -&amp;gt; add到暂存区 -&amp;gt; commit到本地仓库 -&amp;gt; push到远程仓库。&lt;/p&gt;
&lt;h2 id=&#34;准备git环境&#34;&gt;准备Git环境
&lt;/h2&gt;&lt;p&gt;安装 Git、配置 Git、注册 GitHub 账号&lt;/p&gt;
&lt;h3 id=&#34;安装git&#34;&gt;安装Git
&lt;/h3&gt;&lt;p&gt;Git是一个命令行工具，首先需要将它安装到你的电脑上。&lt;/p&gt;
&lt;p&gt;· Windows:前往官方官网下载安装包，选择好你要存放的地方，注意：选择 &lt;code&gt;“Override...”&lt;/code&gt; 并将分支名设为 &lt;code&gt;main&lt;/code&gt;，别的一路点击&lt;code&gt;&amp;quot;Next&amp;quot;&lt;/code&gt;即可。在开始菜单里找到&lt;code&gt;&amp;quot;Git Bash&amp;quot;&lt;/code&gt;并打开&lt;/p&gt;
&lt;p&gt;· masOS:打开“终端 (Terminal)” 应用，输入 &lt;code&gt;git --version&lt;/code&gt;。如果系统提示你安装命令行开发者工具，请同意安装，macOS 会自动为你装好 Git。如果你的系统已经安装了 Xcode，那么 Git 也已经自带了。&lt;/p&gt;
&lt;p&gt;· Linux: 打开终端，根据你的发行版，运行相应的命令：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Debian/Ubuntu: sudo apt-get install git&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Fedora/CentOS: sudo yum install git&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;安装完成后，打开你的终端（Windows 用户请使用 Git Bash），输入以下命令来验证是否安装成功：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git --version&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;1、如果终端打印出类似 git version 2.30.0 这样的版本号信息，恭喜你，Git 已经成功安装！&lt;/p&gt;
&lt;p&gt;2、首次配置：为你的代码署名
安装好 Git 后，还有一件至关重要的事情要做：告诉 Git 你是谁。&lt;/p&gt;
&lt;p&gt;请在终端中运行以下两条命令，将引号中的内容替换成&lt;code&gt;你自己的用户名和邮箱&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;设置你的全局用户名（提交时会显示这个名字）&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git config --global user.name &amp;quot;Your Name&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;设置你的全局邮箱(GitHub会用它来关联你的提交和账号)
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git config --global user.email &amp;#34;your.email@example.com&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
提示：&lt;code&gt;--global&lt;/code&gt; 参数表示这台电脑上所有的Git仓库都会使用这个配置。你只需要设置一次就够了。&lt;/p&gt;
&lt;p&gt;3、注册GitHub
· Git是工具：一个在你电脑上运行的命令行软件
· GitHub是平台： 一个网站，提供了远程仓库的托管服务，并围绕代码构建了一个庞大的开发社区&lt;/p&gt;
&lt;h2 id=&#34;本地管理你的代码&#34;&gt;本地管理你的代码
&lt;/h2&gt;&lt;p&gt;Git最核心的三个命令：&lt;/p&gt;
&lt;p&gt;·&lt;code&gt;git init&lt;/code&gt;:初始化一个新仓库。&lt;/p&gt;
&lt;p&gt;·&lt;code&gt;git add&lt;/code&gt;:将文件变更添加到暂存区。&lt;/p&gt;
&lt;p&gt;·&lt;code&gt;git commit&lt;/code&gt;:将暂存区的变更永久保存到版本库。&lt;/p&gt;
&lt;h3 id=&#34;创建你的项目&#34;&gt;创建你的项目
&lt;/h3&gt;&lt;p&gt;创建一个新文件夹，这个可以放在你喜欢放的位置。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mkdir my-first-git-project&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;进入这个文件夹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cd my-first-git-project&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;现在，这个文件夹就是我们的工作区 (Working Directory)。它是我们编写代码、创建文件、进行所有实际工作的地方。但目前，它还只是一个普通的文件夹，Git 还不知道它的存在。&lt;/p&gt;
&lt;p&gt;初始化仓库 (git init)：开启版本控制&lt;/p&gt;
&lt;p&gt;为了让 Git 开始管理这个文件夹，我们需要在这个文件夹内部运行一个命令，来“激活”它。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git init&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;当你运行这个命令后，你会看到类似这样的输出： &lt;code&gt;Initialized empty Git repository in /path/to/your/my-first-git-project/.git/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;这个命令做了什么？它在你的项目文件夹里创建了一个名为 .git 的隐藏子文件夹。这个 .git 文件夹就是你的本地仓库 (Local Repository)。它像一个神秘的保险箱，存放着你项目的所有版本历史、配置信息等&lt;/p&gt;
&lt;p&gt;警告：除非你非常清楚自己在做什么，否则永远不要手动修改 .git 文件夹里的任何内容！把它当成 Git 的专属地盘。&lt;/p&gt;
&lt;p&gt;从现在起，my-first-git-project 文件夹就不再普通了，它已经是一个 Git 仓库了。&lt;/p&gt;
&lt;h3 id=&#34;创建文件并检查状态git-status&#34;&gt;创建文件并检查状态(&lt;code&gt;git status&lt;/code&gt;)
&lt;/h3&gt;&lt;p&gt;让我们在工作区里创建第一个文件。一个项目通常会有一个 README.md 文件，用来描述项目信息。&lt;/p&gt;
&lt;p&gt;创建并写入一句话到 README.md 文件中&lt;/p&gt;
&lt;p&gt;&lt;code&gt;echo &amp;quot;Hello, Git! This is my first project.&amp;quot; &amp;gt; README.md&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;现在，我们的工作区有新内容了。Git 是否察觉到了呢？让我们来问问 Git 当前的状态。git status 是你在使用 Git 过程中最常用、也最有用的命令，它会告诉你仓库当前的状态。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git status&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;终端会返回一些信息，其中最关键的是：&lt;/p&gt;
&lt;p&gt;On branch master&lt;/p&gt;
&lt;p&gt;No commits yet&lt;/p&gt;
&lt;p&gt;Untracked files:&lt;/p&gt;
&lt;p&gt;(use &amp;ldquo;git add &lt;file&gt;&amp;hellip;&amp;rdquo; to include in what will be committed) README.md&lt;/p&gt;
&lt;p&gt;nothing added to commit but untracked files present (use &amp;ldquo;git add&amp;rdquo; to track)&lt;/p&gt;
&lt;p&gt;解读一下：&lt;/p&gt;
&lt;p&gt;·Untracked files (未跟踪的文件)：Git 发现了一个新面孔 README.md，但它并不在版本管理的范围内。&lt;/p&gt;
&lt;p&gt;·use “git add …”: Git 很贴心地提示我们，可以使用 git add 命令来开始跟踪这个文件。&lt;/p&gt;
&lt;p&gt;###添加暂存区(&lt;code&gt;git add&lt;/code&gt;):准备提交&lt;/p&gt;
&lt;p&gt;现在，我们要把 README.md 文件从工作区的“待定”状态，转移到暂存区 (Staging Area)，表示“我确定要把这个文件的当前版本加入到下一次存档中”。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git add README.md&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;这个命令没有任何输出，是正常的。想知道发生了什么？再次使用我们的好朋友 git status：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git status&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;输出变了：
On branch master&lt;/p&gt;
&lt;p&gt;No commits yet&lt;/p&gt;
&lt;p&gt;Changes to be committed:&lt;/p&gt;
&lt;p&gt;(use &amp;ldquo;git rm &amp;ndash;cached &lt;file&gt;&amp;hellip;&amp;rdquo; to unstage) new file: README.md&lt;/p&gt;
&lt;p&gt;解读一下：&lt;/p&gt;
&lt;p&gt;·Changes to be committed (待提交的变更)：README.md 已经进入了暂存区，整装待发，准备被正式存档。&lt;/p&gt;
&lt;p&gt;·暂存区就像一个购物车，你可以不断地往里添加（git add）或移除商品，直到你确认所有要买的东西都在里面了，才去结账（git commit）。&lt;/p&gt;
&lt;h3 id=&#34;提交到仓库git-commit完成存档&#34;&gt;提交到仓库(git commit):完成存档
&lt;/h3&gt;&lt;p&gt;git commit 命令会将暂存区里所有的内容打包，创建一个新的版本记录（一个快照），并永久地保存在你的本地仓库里。&lt;/p&gt;
&lt;p&gt;每一次提交，都必须附带一条提交信息 (commit message)，用 -m 参数来指定。这条信息是对本次修改的简短描述，例如 “修复了xx bug” 或 “增加了用户登录功能”。良好的提交信息是团队协作的基石！&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git commit -m &amp;quot;Initial commit: Add README file&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;终端会显示类似如下的输出，告诉你这次提交的概要：&lt;/p&gt;
&lt;p&gt;[master (root-commit) a1b2c3d] Initial commit: Add README file 1 file changed, 1 insertion(+) create mode 100644 README.md&lt;/p&gt;
&lt;p&gt;恭喜你！你已经成功完成了第一次提交！&lt;/p&gt;
&lt;p&gt;现在，如果我们再运行 git status，会得到：&lt;/p&gt;
&lt;p&gt;On branch master&lt;/p&gt;
&lt;p&gt;nothing to commit, working tree clean&lt;/p&gt;
&lt;h3 id=&#34;总结完成了一个完整的本地-git-操作循环&#34;&gt;总结完成了一个完整的本地 Git 操作循环：
&lt;/h3&gt;&lt;p&gt;在工作区修改代码（我们创建了 README.md）。&lt;/p&gt;
&lt;p&gt;使用 git add 将修改添加到暂存区（挑选要存档的内容）。&lt;/p&gt;
&lt;p&gt;使用 git commit 将暂存区内容提交到本地仓库（正式存档）。&lt;/p&gt;
&lt;p&gt;这个 “修改 -&amp;gt; add -&amp;gt; commit” 的循环，是你未来90%的本地 Git 操作，请务必牢记。&lt;/p&gt;
&lt;h2 id=&#34;版本历史的查看与回溯&#34;&gt;版本历史的查看与回溯
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;查看提交历史(&lt;code&gt;git log&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;你的 .git 仓库就像一本详细的日记，记录了每一次 commit 的所有细节。要阅读这本日记，我们使用 git log 命令。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git log&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;运行后，你会看到类似这样的输出，从最新到最旧排列：&lt;/p&gt;
&lt;p&gt;commit a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0 (HEAD -&amp;gt; master)&lt;/p&gt;
&lt;p&gt;Author: Your Name &lt;a class=&#34;link&#34; href=&#34;mailto:your.email@example.com&#34; &gt;your.email@example.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Date: Mon Oct 26 20:21:42 2023 +0800 Initial commit: Add README file&lt;/p&gt;
&lt;p&gt;每一条记录都包含了：&lt;/p&gt;
&lt;p&gt;·Commit ID (哈希值)：那一长串唯一的 a1b2c3d&amp;hellip; 字符串，是每个版本的身份证号。&lt;/p&gt;
&lt;p&gt;·Author (作者)：你之前配置的用户名和邮箱。&lt;/p&gt;
&lt;p&gt;·Date (日期)：提交发生的时间。&lt;/p&gt;
&lt;p&gt;·Commit Message (提交信息)：你在 -m 后面写的那段描述。&lt;/p&gt;
&lt;p&gt;小技巧：如果觉得信息太多，可以试试 &lt;code&gt;git log --oneline&lt;/code&gt;，它会用更简洁的单行格式显示历史，非常清晰！&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;版本回溯：回到过去&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;想象一下，你刚写了一堆代码，结果发现把事情搞砸了，想回到某个正常工作的版本。Git 的时光机能帮你实现！&lt;/p&gt;
&lt;p&gt;场景：我只想恢复某一个文件&lt;/p&gt;
&lt;p&gt;这是最安全、最常用的操作。假设你不小心把 README.md 文件改乱了，想把它恢复到上一个提交时的样子。&lt;/p&gt;
&lt;p&gt;首先，用 &lt;code&gt;git log --oneline&lt;/code&gt; 找到你想回到的那个版本的 Commit ID（比如 a1b2c3d）。&lt;/p&gt;
&lt;p&gt;然后运行：&lt;/p&gt;
&lt;p&gt;格式: &lt;code&gt;git checkout &amp;lt;commit_id&amp;gt; – &amp;lt;file_path&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git checkout a1b2c3d -- README.md&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;瞬间，你的 README.md 文件就从“灾难现场”恢复到了 a1b2c3d 这个版本时的状态。这种方式只会影响指定的文件，项目中的其他文件安然无恙。&lt;/p&gt;
&lt;p&gt;场景：我要让整个项目回到过去（危险操作！）&lt;/p&gt;
&lt;p&gt;如果你想让整个项目（所有文件）都回滚到某个旧版本，可以使用 &lt;code&gt;git reset&lt;/code&gt;。
⚠️ 警告：这是一个有破坏性的操作！ 它会 永久丢弃 你在那个旧版本之后的所有修改和提交。请三思而后行。&lt;/p&gt;
&lt;p&gt;格式: git reset &amp;ndash;hard &amp;lt;commit_id&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git reset --hard a1b2c3d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;执行后，你的整个工作区都会被重置到 a1b2c3d 这个版本的状态。之后的所有更改都仿佛从未发生过。&lt;/p&gt;
&lt;h2 id=&#34;多人模式与-github-协作&#34;&gt;多人模式”：与 GitHub 协作
&lt;/h2&gt;&lt;p&gt;到目前为止，我们所有的操作都在本地电脑上。代码的备份和分享都无法实现。现在，是时候把我们的本地仓库连接到 GitHub 这个“云端档案馆”，开启真正的协作之旅了。&lt;/p&gt;
&lt;p&gt;与远程仓库交互，通常有两种起点：&lt;/p&gt;
&lt;p&gt;从无到有：你先在本地创建了一个项目，然后想把它推送到 GitHub 上分享和备份。&lt;/p&gt;
&lt;p&gt;从有到有：项目已经存在于 GitHub 上（例如公司的项目或开源项目），你需要把它复制到本地开始工作。&lt;/p&gt;
&lt;p&gt;我们分别来看这两种情况。&lt;/p&gt;
&lt;h3 id=&#34;推送本地新项目到-github&#34;&gt;推送本地新项目到 GitHub
&lt;/h3&gt;&lt;p&gt;这正是我们当前的状况。我们已经在本地创建了 my-first-git-project 并有了一次提交。现在把它推上去。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在GitHub 上创建空的远程仓库&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;首先，你需要为本地项目在 GitHub 上准备一个“家”。&lt;/p&gt;
&lt;p&gt;登录你的 GitHub 账号。&lt;/p&gt;
&lt;p&gt;点击右上角的 + 号，选择 New repository。&lt;/p&gt;
&lt;p&gt;Repository name (仓库名)：建议和你的本地文件夹名保持一致，例如 my-first-git-project。&lt;/p&gt;
&lt;p&gt;Description (描述): 简单描述一下你的项目。&lt;/p&gt;
&lt;p&gt;保持 Public (公开) 状态，任何人都可以看到你的代码。&lt;/p&gt;
&lt;p&gt;重要：不要 勾选 “Add a README file”, “Add .gitignore”, “Choose a license”。因为我们本地已经有项目了，需要创建一个完全空的仓库来接收我们的代码。&lt;/p&gt;
&lt;p&gt;点击 Create repository。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;连接本地与远程 (&lt;code&gt;git remote add&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;创建成功后，GitHub 会给你一个仓库地址，通常是 &lt;a class=&#34;link&#34; href=&#34;https://github.com/YourUsername/my-first-git-project.git&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/YourUsername/my-first-git-project.git&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;回到你的终端，在本地项目文件夹里，运行以下命令，告诉本地 Git 这个远程仓库的存在：&lt;/p&gt;
&lt;p&gt;格式: git remote add &amp;lt;远程仓库别名&amp;gt; &amp;lt;远程仓库URL&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git remote add origin https://github.com/YourUsername/my-first-git-project.git&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;· origin 是我们给这个远程仓库起的一个别名，这是 Git 的一个通用惯例，代表“主要的、默认的远程仓库”。&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;推送你的代码(&lt;code&gt;git push&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;连接已经建立，现在我们可以把本地的代码历史“推送”到 origin（也就是 GitHub）上了。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git push -u origin main&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;· &lt;code&gt;push&lt;/code&gt;：是“推送”的动作。&lt;/p&gt;
&lt;p&gt;· &lt;code&gt;origin&lt;/code&gt;: 指定要推送到哪个远程仓库。&lt;/p&gt;
&lt;p&gt;· &lt;code&gt;main&lt;/code&gt;:指定要推送本地的哪个分支。（现在你可以就理解为我们要推送的就是 main 这条主线上的所有代码）。&lt;/p&gt;
&lt;p&gt;· &lt;code&gt;-u&lt;/code&gt;：这个参数很重要，它会把本地的 main 分支和远程的 main 分支关联起来。这样，未来你再推送时，只需简单地输入 &lt;code&gt;git push&lt;/code&gt; 即可。&lt;/p&gt;
&lt;p&gt;第一次推送时，系统可能会提示你输入 GitHub 的用户名和密码（或者 Personal Access Token）来完成认证。&lt;/p&gt;
&lt;p&gt;推送成功后，刷新你的 GitHub 仓库页面，你会惊喜地发现，你本地的 README.md 文件和提交历史已经完完整整地出现在了网页上！&lt;/p&gt;
&lt;h3 id=&#34;场景二克隆一个已存在的项目-git-clone&#34;&gt;场景二：克隆一个已存在的项目 (&lt;code&gt;git clone&lt;/code&gt;)
&lt;/h3&gt;&lt;p&gt;这是更常见的协作方式。比如你要加入一个新团队，第一件事通常就是从 GitHub 把项目代码克隆到你的电脑上。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git clone&lt;/code&gt; 命令帮你一步到位。&lt;/p&gt;
&lt;p&gt;打开你想克隆的项目的 GitHub 页面。&lt;/p&gt;
&lt;p&gt;点击绿色的 &amp;lt;&amp;gt; Code 按钮，复制 HTTPS 地址。&lt;/p&gt;
&lt;p&gt;打开你的终端，cd 到你想存放这个项目的目录下（比如 Desktop 或 Documents）。&lt;/p&gt;
&lt;p&gt;运行 git clone 命令：&lt;/p&gt;
&lt;p&gt;格式: git clone &amp;lt;远程仓库URL&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git clone https://github.com/some-user/some-awesome-project.git&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;这个命令会做几件美妙的事情：&lt;/p&gt;
&lt;p&gt;在当前目录下创建一个名为 &lt;code&gt;some-awesome-project&lt;/code&gt; 的新文件夹。&lt;/p&gt;
&lt;p&gt;将远程仓库的所有文件和完整的版本历史都下载到这个文件夹里。&lt;/p&gt;
&lt;p&gt;自动帮你设置好远程仓库的连接，并命名为 &lt;code&gt;origin&lt;/code&gt;。你无需再手动 &lt;code&gt;git remote add&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;克隆完成后，&lt;code&gt;cd some-awesome-project&lt;/code&gt; 进入文件夹，你就可以开始工作了。&lt;/p&gt;
&lt;p&gt;后续操作：保持同步 (&lt;code&gt;git pull&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;无论你是通过 push 还是 clone 开始的远程协作，当你的同事（或者未来的你在另一台电脑上）更新了 GitHub 上的代码后，你就需要将这些最新的变更同步到你的本地仓库。这时使用&lt;code&gt;git pull&lt;/code&gt;：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git pull origin main&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;这个命令会从远程仓库 &lt;code&gt;origin&lt;/code&gt; 的 &lt;code&gt;main&lt;/code&gt; 分支上，拉取最新的代码变更，并自动与你本地的代码合并。养成在开始一天的工作前先 &lt;code&gt;git pull&lt;/code&gt; 的好习惯，可以有效避免很多冲突。&lt;/p&gt;
&lt;h2 id=&#34;git命令常规操作&#34;&gt;Git命令常规操作
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;add :添加文件内容至暂存区（索引）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bisect:通过二分查找定位引入bug的变更
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;branch:列出、创建或删除分支
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;checkout:检出一个分支或路径到工作区
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;clone：克隆一个版本库到一个新目录
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;commit:记录变更到版本库（本地）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;diff:显示提交之间、提交和工作区之间等的差异
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;fetch:从另外一个版本库下载对象和引用
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep:输出和模式匹配的行
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;init:创建一个空的
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Git:版本库或重新初始化一个已存在的版本库
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log:显示提交日志
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;merge：合并两个或更多开发历史
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mv:移动或重命名一个文件、目录或符号链接
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pull:获取并合并另外的版本库或一个本地分支
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;push：更新远程引用和相关的对象
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rebase：本地提交转移至更新后的上游分支中
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;reset:重置当前HEAD到指定状态
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm：从工作区和索引中删除文件
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show：显示各种类型的对象
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;status：显示工作区状态
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tag:创建、列出、删除或校验一个GPG签名的tag对象&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
        </item>
        <item>
        <title>Linux科学上网教程</title>
        <link>http://localhost:1313/posts/linux%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%95%99%E7%A8%8B/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/linux%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%95%99%E7%A8%8B/</guid>
        <description>&lt;h3 id=&#34;1下载ssh工具&#34;&gt;1、下载SSH工具
&lt;/h3&gt;&lt;p&gt;FinalShell：(&lt;a class=&#34;link&#34; href=&#34;https://www.hostbuf.com/t/988.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.hostbuf.com/t/988.html&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&#34;2安装环境&#34;&gt;2、安装环境：
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install bzip2 tar
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install curl&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;3安装shellcrash&#34;&gt;3、安装ShellCrash:
&lt;/h3&gt;&lt;p&gt;sudo -i #切换到root用户
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;export url=&amp;#39;https://fastly.jsdelivr.net/gh/juewuy/ShellCrash@master&amp;#39; &lt;span class=&#34;err&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; wget -q --no-check-certificate -O /tmp/install.sh $url/install.sh  &lt;span class=&#34;err&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; bash /tmp/install.sh &lt;span class=&#34;err&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; source /etc/profile &lt;span class=&#34;err&#34;&gt;&amp;amp;&lt;/span&gt;&amp;gt; /dev/null&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;备用安装源：
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;export url=&amp;#39;https://gh.jwsc.eu.org/master&amp;#39; &lt;span class=&#34;err&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; bash -c &amp;#34;$(curl -kfsSl $url/install.sh)&amp;#34; &lt;span class=&#34;err&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; source /etc/profile &lt;span class=&#34;err&#34;&gt;&amp;amp;&lt;/span&gt;&amp;gt; /dev/null&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;放行端口&lt;/p&gt;
&lt;p&gt;&lt;code&gt;iptables -I INPUT -p tcp --dport 9999 -j ACCEPT&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Clash管理地址（将IP替换成自己服务器IP）：http://192.168.1.1:9999/ui&lt;/p&gt;
&lt;h4 id=&#34;测试打开goole&#34;&gt;测试打开goole
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;curl google.com&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;测速&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo apt install speedtest-cli&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;运行：speedtest&lt;/p&gt;
&lt;h3 id=&#34;常见问题&#34;&gt;常见问题
&lt;/h3&gt;&lt;p&gt;在连接SSH时提示端口22:连接被拒绝：ssh: connect to host 192.168.1.1 port 22: Connection refused
请安装SSH服务，使用以下命令安装：
Debian/Ubuntu：sudo apt-get install openssh-server
CentOS/RHEL：sudo yum install openssh-server&lt;/p&gt;
&lt;p&gt;本教程使用的命令，使用的是Ubtuntu/Debian系统，如果你使用的是CentOS或者其它，就切换对应的命令。
另外 ShellCrash 安装源是通用的。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>windows专业版</title>
        <link>http://localhost:1313/posts/windows%E4%B8%93%E4%B8%9A%E7%89%88/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/windows%E4%B8%93%E4%B8%9A%E7%89%88/</guid>
        <description>&lt;h4 id=&#34;查看自己的当下的激活密钥&#34;&gt;查看自己的当下的激活密钥
&lt;/h4&gt;&lt;p&gt;以管理员身份打开 PowerShell，执行命令&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Get-WmiObject -query &amp;#39;select * from SoftwareLicensingService&amp;#39; | Select-Object OA3xOriginalProductKey&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;系统会返回 25 位激活密钥。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://telegraph-image-5tj.pages.dev/file/AgACAgUAAyEGAAS6dLpwAAMNaPnIsn6-MYeNFxU4D996uL_RAw4AAmwMaxuG6NBXFgxbFDhtFMMBAAMCAAN4AAM2BA.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;一定要确保你的设置&amp;ndash;&amp;gt;系统&amp;ndash;&amp;gt;激活，一打开就可以看到windows11专业版&lt;/p&gt;
&lt;p&gt;如果显示别的家庭版等，就不能直接使用开源的项目，从家庭版激活到专业版，是激活不了的，就要找市面上的可以先升级的密钥，不用管是不是永久的，等一下用开源的项目，激活一下就是永久的。&lt;/p&gt;
&lt;p&gt;如果你家庭版也没有激活，可以用开源项目激活一下&lt;/p&gt;
&lt;p&gt;项目地址：(&lt;a class=&#34;link&#34; href=&#34;https://www.github.com/zbezj/HEU_KMS_Activator&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.github.com/zbezj/HEU_KMS_Activator&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;点&lt;code&gt;Releases&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;下载后缀为&lt;code&gt;.rar&lt;/code&gt;软件包&lt;/p&gt;
&lt;p&gt;解压一下，一定要记得关闭本地病毒保护，全部搞好了，就可以全部删除了，这个不要一直在本地存放&lt;/p&gt;
&lt;p&gt;进入后，直接智能激活一下就可以了。&lt;/p&gt;
&lt;p&gt;你就获得了永久的。记得全部删除！&lt;/p&gt;
&lt;p&gt;windows11专业版密钥：&lt;code&gt;NWPCG-YRFQT-KCK78-7M3CB-XBT6T&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;我用的不知道还能不用再使用&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
