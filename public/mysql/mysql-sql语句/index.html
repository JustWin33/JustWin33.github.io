<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="MySQL SQLè¯­å¥\n1 2 3 4 5 ä¸­æ–‡ è‹±æ–‡å¯¹åº”ï¼ˆCRUDï¼‰ SQLå‘½ä»¤ ä½œç”¨ å¢ create INSERT å¾€è¡¨ä¸­æ·»åŠ æ–°çš„æ•°æ®è¡Œ åˆ  delete DELETE ç§»é™¤è¡¨ä¸­çš„æ•°æ® æ”¹ update UPDATE ä¿®æ”¹è¡¨ä¸­å·²å­˜åœ¨çš„æ•°æ® æŸ¥ read SELECT ä»è¡¨ç§æ£€ç´¢æ•°æ® 1 2 3 4 5 6 7 8 9 å¢(Create)- INSERT INSERT INTO è¡¨å ï¼ˆåˆ—1ï¼Œåˆ—2ï¼‰ VALUES ï¼ˆå€¼1ï¼Œå€¼2ï¼‰; Â·å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚åå­—ï¼‰ï¼Œéœ€è¦ç”¨å•å¼•å·''åŒ…èµ·æ¥ Â·å¦‚æœæ˜¯æ•°å­—ï¼ˆæ¯”å¦‚åˆ†æ•°ï¼‰ï¼Œç›´æ¥å†™å°±å¥½ SQLéœ€è¦å…ˆçŸ¥é“ä½ è¦å¾€é‚£äº›â€œåˆ—â€å¡«æ•°æ®ï¼Œç„¶åå†å‘Šè¯‰å®ƒå…·ä½“çš„â€œå€¼â€æ˜¯ä»€ä¹ˆ ä¾‹1ï¼šå¦‚æœæƒ³å¾€student_scoresè¡¨é‡Œæ·»åŠ ä¸€ä¸ªåå«'å¼ ä¸‰',åˆ†æ•°ä¸º90çš„å­¦ç”Ÿï¼Œæ€ä¹ˆå†™SQLè¯­å¥ï¼Ÿ INSERT INTO student_scores (name,score) VALUES ï¼ˆ'å¼ ä¸‰'ï¼Œ90ï¼‰ï¼› 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 æŸ¥(Read)-SELECT SELECT ä½ æƒ³è¦çš„åˆ— FROM è¡¨åï¼› Â· *:è¿™ä¸ª*å°±æ˜¯ä¸€ä¸ªé€šé…ç¬¦ï¼Œå‘Šè¯‰æ•°æ®åº“ï¼šâ€œæˆ‘ä¸æŒ‘ï¼ŒæŠŠè¿™ä¸ªè¡¨é‡Œçš„åˆ—å…¨ç»™æˆ‘æ‹¿å‡ºæ¥ï¼â€ SELECT * FROM è¡¨æ˜ WHERE åˆ—å = å€¼; ä¾‹1ï¼šåˆ©ç”¨WHEREå­å¥ï¼Œå†™ä¸€æ¡SQLè¯­å¥ï¼ŒåªæŠŠ'å¼ ä¸‰'è¿™ä¸€è¡Œæ•°æ®æŸ¥å‡ºæ¥ SELECT * FROM student_scores WHERE name = 'å¼ ä¸‰'; æ’åº SELECT * FROM è¡¨å ORDER BY åˆ—å æ’åºè§„åˆ™ï¼› Â· æ’åºè§„åˆ™æœ‰ä¸¤ç§ï¼š Â· ASCï¼šå‡åºï¼Œä»å°åˆ°å¤§ï¼ˆé»˜è®¤å°±æ˜¯è¿™ä¸ªï¼Œå¯ä»¥ä¸å†™ä¹Ÿè¡Œï¼‰ Â· DESCï¼šé™åºï¼Œä»å¤§åˆ°å° ä¾‹2ï¼šæˆ‘ä»¬è¦æ‰“å°ä¸€ä»½æˆç»©å•æ’åè¡¨ï¼Œè¦æ±‚åˆ†æ•°ä»é«˜åˆ°ä½æ’åˆ—ï¼Œå†™å‡ºè¿™æ¡SQLè¯­å¥ SELECT * FROM student_scores ORDER BY score DESC; é™åˆ¶æ•°é‡ SELECT * FROM è¡¨å LIMIT æ•°é‡ï¼› ä¾‹3ï¼šå†™ä¸€æ¡SQLï¼Œåªæ˜¾ç¤ºåˆ†æ•°æœ€é«˜çš„3ä½ SELECT * FORM student_scores ORDER BY score DESC LIMIT 3; Â· ORDER BY score DESC:å…ˆæŠŠæ‰€æœ‰åŒå­¦æŒ‰åˆ†æ•°ä»é«˜åˆ°ä½æ’å¥½é˜Ÿ æ¨¡ç³ŠæŸ¥è¯¢ LIKE æœ‰æ—¶å€™æˆ‘ä»¬æŸ¥è¯¢æŸä¸€ç±»æ•°æ®ï¼Œè®°ä¸èµ·æ¥å…·ä½“æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨ç®¡=å·ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨LIKEæ“ä½œç¬¦ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é…åˆLIKEä½¿ç”¨çš„ç™¾åˆ†å·%ï¼Œå®ƒ%ä»£è¡¨â€œä»»æ„å¤šä¸ªå­—ç¬¦â€ ä¾‹4ï¼šæŸ¥æ‰¾å‡ºæ‰€æœ‰å§“â€œå¼ â€çš„åŒå­¦ SELECT * FROM student_scores WHERE name LIKE 'å¼ %'ï¼› åˆ†ç»„ GROUP BYçš„ä½œç”¨å°±æ˜¯æŠŠåŸæœ¬æ•£ä¹±çš„æ¯ä¸€è¡Œæ•°æ®ï¼ŒæŒ‰ç…§ä½ æŒ‡å®šçš„åˆ—ï¼Œâ€œæâ€åœ¨ä¸€èµ· SELECT ç±»åˆ«åˆ—ï¼Œèšåˆå‡½æ•°ï¼ˆç»Ÿè®¡åˆ—ï¼‰ FROM è¡¨å GROUP BY ç±»åˆ«åˆ—ï¼› ä¾‹5ï¼šç®—å‡ºæ¯ä¸ªç­çº§çš„å¹³å‡æ•° SELECT class,AVG(score) FROM student_scores GROUP BY class; åˆ†ç»„åçš„è¿‡æ»¤ï¼ˆHAVING) SELECT ç±»åˆ«åˆ—ï¼Œèšåˆå‡½æ•°ï¼ˆç»Ÿè®¡åˆ—ï¼‰ FROM è¡¨å GROUP BY ç±»åˆ«åˆ— HAVING èšåˆå‡½æ•°ï¼ˆç»Ÿè®¡åˆ—ï¼‰> å€¼ï¼› å‡¡æ˜¯è¡¨é‡Œæœ¬æ¥å°±æœ‰åˆ—ï¼Œç”¨WHEREç­›ï¼›å‡¡æ˜¯åæ¥ç®—å‡ºæ¥çš„ç»“æœï¼ˆæ¯”å¦‚å¹³å‡æ•°ã€æ€»æ•°ï¼‰ï¼Œç”¨HAVINGç­›ã€‚ ä¾‹6ï¼šåªæ˜¾ç¤ºå¹³å‡åˆ†ï¼ˆAVGï¼ˆscore))å¤§äº85çš„ç­çº§ SELECT classï¼ŒAVGï¼ˆscoreï¼‰FROM student_scores GROUP BY class HAVING AVG(score) > 85; å¤šè¡¨æŸ¥è¯¢ INNER JOIN ï¼ˆå†…è¿æ¥ï¼‰ INNER JOINå°±åƒæŠŠä¸¤å¼ è¡¨æ‹¿æ¥å¯¹æš—å·ï¼Œåªæœ‰å½“ä¸¤å¼ è¡¨çš„å…³è”å­—æ®µèƒ½å¯¹ä¸Šå·æ—¶ï¼Œå®ƒæ‰ä¼šæŠŠè¿™ä¸€è¡Œæ•°æ®æ‹¼åœ¨ä¸€èµ·ã€‚ SELECT è¡¨1.åˆ—åï¼Œè¡¨2.åˆ—å FROM è¡¨1 INNER JOIN è¡¨2 ON è¡¨1.å…³è”åˆ— = è¡¨2.å…³è”åˆ—ï¼› ä¾‹7ï¼šå°† students è¡¨å’Œ classes è¡¨è¿æ¥èµ·æ¥ã€‚ å…³è”æ¡ä»¶æ˜¯ï¼šstudents è¡¨çš„ class_id ç­‰äº classes è¡¨çš„ idã€‚ æˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„ç»“æœæ˜¯ï¼šstudents.name å’Œ classes.teacher SELECT students.name,classes.teacher FROM students INNER JOIN classes ON students.class_id = classes.id; å·¦è¿æ¥ï¼ˆLEFT JOIN) å·¦è¾¹çš„è¡¨ï¼ˆä¸»è¡¨ï¼‰æœ€å¤§ï¼Œä¸ç®¡å³è¾¹æœ‰æ²¡æœ‰å¯¹åº”çš„ï¼Œå·¦è¾¹çš„éƒ½è¦å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ SELECT students.name, classes.teacher FROM students -- ğŸ‘ˆ è¿™æ˜¯å·¦è¡¨ LEFT JOIN classes -- ğŸ‘‰ è¿™æ˜¯å³è¡¨ ON students.class_id = classes.id; ä¾‹8ï¼šè¯·ä½ ç›´æ¥å¤åˆ¶ä¸Šé¢çš„è¯­æ³•æ€è·¯ï¼Œå†™å‡ºè¿™æ¡ LEFT JOIN è¯­å¥ã€‚ æƒ³ä¸€æƒ³ï¼ŒæŸ¥è¯¢ç»“æœé‡Œï¼Œ'å°æ˜' çš„ teacher é‚£ä¸€æ ä¼šæ˜¾ç¤ºä»€ä¹ˆï¼Ÿï¼ˆå¯ä»¥çŒœä¸€ä¸‹ï¼‰ åœ¨æ•°æ®åº“ä¸­ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ•°æ®ï¼Œè¯¥ä½ç½®å°±ä¼šæ˜¾ç¤ºä¸º NULLï¼ˆç©ºå€¼ï¼‰ 1 2 3 4 5 6 7 æ”¹ï¼ˆUpdateï¼‰- UPDATE UPDATE è¡¨å SET è¦ä¿®æ”¹çš„åˆ— = æ–°å€¼ WHERE æ¡ä»¶åˆ— = æŸå€¼; ä¾‹1ï¼šå¸®'å¼ ä¸‰'è¯¥åˆ†æ•°ï¼Œå†™ä¸€æ¡SQLè¯­å¥ï¼Œå°†student_scoresè¡¨ä¸­ï¼Œå‘½ä»¤æ˜¯'å¼ ä¸‰'çš„é‚£ä¸€è¡Œï¼Œscoreä¿®æ”¹ä¸º95 UPDATE student_scores SET score = 95 WHERE name = 'å¼ ä¸‰'ï¼› 1 2 3 4 5 6 7 åˆ (Delete)- DELETE DELETE FROM è¡¨å WHERE æ¡ä»¶åˆ— = æŸå€¼; ä¾‹1ï¼šå†™ä¸€æ¡SQLè¯­å¥ï¼Œå®‰å…¨åœ°å°†'æå››'ä»student_scoresè¡¨ä¸­åˆ é™¤ DELETE FROM student_scores WHERE name = 'æå››'ï¼› 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 å»ºè¡¨ åœ¨ SQL ä¸­ï¼Œåˆ›å»ºæ–°è¡¨ä½¿ç”¨ CREATE TABLE å‘½ä»¤ã€‚è¿™å°±å¥½æ¯”ä½ åœ¨ Excel é‡Œæ–°å»ºä¸€ä¸ª Sheetï¼Œå¹¶ä¸”è§„å®šå¥½æ¯ä¸€åˆ—å«ä»€ä¹ˆåå­—ï¼Œåªèƒ½å¡«ä»€ä¹ˆç±»å‹çš„æ•°æ®ã€‚ ç¬¬ä¸€æ­¥ï¼šè®¤è¯†â€œåŸææ–™â€ (æ•°æ®ç±»å‹) åœ¨é€ è¡¨ä¹‹å‰ï¼Œä½ å¿…é¡»å‘Šè¯‰æ•°æ®åº“ï¼Œæ¯ä¸€åˆ—å°†æ¥è¦å­˜ä»€ä¹ˆæ ·çš„æ•°æ®ã€‚MySQL é‡Œæœ€å¸¸ç”¨çš„ä¸‰ç§ç±»å‹æ˜¯ï¼š INTï¼šæ•´æ•°ã€‚ç”¨æ¥å­˜ IDã€å¹´é¾„ã€æ•°é‡ã€‚ï¼ˆä¾‹å¦‚ï¼š101, 25ï¼‰ VARCHAR(n)ï¼šå¯å˜é•¿åº¦å­—ç¬¦ä¸²ã€‚ç”¨æ¥å­˜åå­—ã€é‚®ç®±ã€åœ°å€ã€‚ n ä»£è¡¨æœ€å¤§é•¿åº¦ã€‚æ¯”å¦‚ VARCHAR(50) æ„æ€æ˜¯æœ€å¤šå­˜ 50 ä¸ªå­—ç¬¦ã€‚ DATEï¼šæ—¥æœŸã€‚ç”¨æ¥å­˜ç”Ÿæ—¥ã€å…¥èŒæ—¶é—´ã€‚ï¼ˆä¾‹å¦‚ï¼š'2023-01-01'ï¼‰ ç¬¬äºŒæ­¥ï¼šç¡®ç«‹â€œèº«ä»½è¯â€ (ä¸»é”® PRIMARY KEY) ğŸ”‘ è¿™æ˜¯å»ºè¡¨æ—¶æœ€é‡è¦çš„æ¦‚å¿µï¼ æ¯ä¸€å¼ è¡¨æœ€å¥½éƒ½æœ‰ä¸€ä¸ªä¸»é”® (Primary Key)ã€‚å®ƒæ˜¯æ¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚ å°±åƒæ¯ä¸ªå…¬æ°‘éƒ½æœ‰å”¯ä¸€çš„èº«ä»½è¯å·ã€‚ è§„åˆ™ï¼šä¸»é”®çš„å€¼ä¸èƒ½é‡å¤ï¼Œä¹Ÿä¸èƒ½ä¸ºç©ºã€‚ é€šå¸¸æˆ‘ä»¬ä¼šæŠŠ id åˆ—è®¾ä¸ºä¸»é”®ã€‚ CREATE TABLE è¡¨å ( åˆ—å1 æ•°æ®ç±»å‹, åˆ—å2 æ•°æ®ç±»å‹, ... PRIMARY KEY (ä¸»é”®åˆ—å) ); ä¾‹1ï¼šè¯·ä½ è®¾è®¡ä¸€å¼ å…¨æ–°çš„ students è¡¨ï¼Œè¦æ±‚åŒ…å«ä»¥ä¸‹ä¸‰åˆ—ï¼š idï¼šç±»å‹æ˜¯ INTï¼ˆè¿™æ˜¯ä¸»é”®ï¼ï¼‰ã€‚ nameï¼šç±»å‹æ˜¯ VARCHAR(50)ï¼ˆåå­—æœ€é•¿ 50 ä¸ªå­—è¶³å¤Ÿäº†ï¼‰ã€‚ ageï¼šç±»å‹æ˜¯ INTã€‚ è¯·å°è¯•å†™å‡ºå®Œæ•´çš„ SQL è¯­å¥ï¼ (æç¤ºï¼šæ³¨æ„æ‹¬å·çš„ä½ç½®ï¼Œæœ€ååˆ«å¿˜äº†åˆ†å·) CREATE TABLE students ( id INT, name VARCHAR(50), age INT, PRIMARY KEY (id) ); ä¾‹2ï¼šè®¾è®¡ teachers è¡¨ ç°åœ¨è¯·ä½ åˆ©ç”¨è¿™ä¸¤ä¸ªæ–°æ­¦å™¨ï¼Œè®¾è®¡ä¸€å¼ æ›´å®Œç¾çš„ teachers (æ•™å¸ˆè¡¨)ã€‚ è¦æ±‚ï¼š idï¼šç±»å‹ INTï¼Œä¸ä»…æ˜¯ ä¸»é”®ï¼Œè¿˜è¦èƒ½ è‡ªåŠ¨å¢é•¿ (AUTO_INCREMENT)ã€‚ nameï¼šç±»å‹ VARCHAR(30)ï¼Œå¹¶ä¸” ä¸å…è®¸ä¸ºç©º (NOT NULL)ã€‚ subject (ç§‘ç›®)ï¼šç±»å‹ VARCHAR(20)ï¼Œè¿™ä¸ªå…è®¸ä¸ºç©ºï¼ˆå¯èƒ½åˆšå…¥èŒè¿˜æ²¡å®šæ•™å•¥ï¼‰ã€‚ åˆ—å æ•°æ®ç±»å‹ NOT NULL AUTO_INCREMENT (æ³¨æ„ï¼šAUTO_INCREMENTé€šå¸¸åªç”¨äºä¸»é”®) CREATE TABLE teachers ( id INT AUTO_INCREMENT, -- 1. id æ˜¯æ•´æ•°ï¼Œä¸”è‡ªåŠ¨å¢é•¿ name VARCHAR(30) NOT NULL, -- 2. name æ˜¯å­—ç¬¦ä¸²ï¼Œä¸”ä¸èƒ½ä¸ºç©º subject VARCHAR(20), -- 3. subject æ˜¯å­—ç¬¦ä¸²ï¼Œå…è®¸ä¸ºç©ºï¼ˆé»˜è®¤ï¼‰ PRIMARY KEY (id) -- 4. æŒ‡å®š id ä¸ºä¸»é”® ); åˆ è¡¨ DROP TABLE è¡¨å; ä¾‹3ï¼šå‡è®¾åˆšæ‰å»ºç«‹çš„ students è¡¨è®¾è®¡å¾—ä¸å¥½ï¼Œæˆ‘ä»¬è¦æŠŠå®ƒåˆ æ‰é‡æ¥ã€‚ è¯·å†™å‡ºåˆ é™¤ students è¡¨çš„è¯­å¥ã€‚ DROP TABLE students; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 åˆ›å»ºç´¢å¼• ç´¢å¼•å°±ç›¸å½“äºå­—æ®µçš„ç›®å½• æ³¨æ„ï¼šç´¢å¼•ä¹Ÿæ˜¯æ•°æ®ï¼Œéœ€è¦å ç”¨ç¡¬ç›˜ç©ºé—´ï¼Œå½“ä½ INSERTã€UPDATEã€DELETEæ•°æ®æ—¶ï¼Œæ•°æ®åº“ä¸ä»…è¦ä¿®æ”¹åŸæ•°æ®ï¼Œè¿˜è¦å»ä¿®æ”¹æ‰€æœ‰çš„ç´¢å¼•ç›®å½•ï¼Œç´¢å¼•è¶Šå¤šï¼Œå†™å…¥é€Ÿåº¦è¶Šæ…¢ã€‚ åªç»™ç»å¸¸å‡ºç°åœ¨WHERE åé¢çš„åˆ—ï¼Œæˆ–è€…ç»å¸¸ç”¨æ¥æ’åºï¼ˆORDER BY)çš„åˆ—åŠ ç´¢å¼•ã€‚ ä¾‹å‡è®¾æˆ‘ä»¬çš„ students è¡¨é‡Œæœ‰ 100 ä¸‡ ä¸ªå­¦ç”Ÿã€‚æ ¡é•¿ç»å¸¸æŸ¥æŸä¸ªåå­—ï¼Œæ¯”å¦‚ï¼š SELECT * FROM students WHERE name = 'å¼ ä¸‰'; å¦‚æœæ²¡æœ‰å¤šå› ï¼Œæ•°æ®åº“ä¼šæŠŠ100ä¸‡è¡Œå…¨éƒ½çœ‹ä¸€é ä¼˜åŒ–æ–¹æ¡ˆï¼šç»™nameåˆ—åŠ ä¸€ä¸ªç´¢å¼• CREATE INDEX ç´¢å¼•å ON è¡¨å (åˆ—å); ï¼ˆæ³¨æ„ï¼šç´¢å¼•åé€šå¸¸ä»¥idx_å¼€å¤´ï¼Œæ–¹ä¾¿è¯†åˆ«ï¼‰ ä¾‹1ï¼šä¸º students è¡¨çš„ name åˆ—åˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼Œç´¢å¼•åå­—å« idx_name CREATE INDEX idx_name ON students (name); åˆ é™¤ç´¢å¼• DROP INDEX ç´¢å¼•å ON è¡¨å; ä¾‹2:åˆ é™¤ students è¡¨ä¸Šçš„ idx_name ç´¢å¼• DROP INDEX idx_name ON students; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 åŠ è£…ï¼ˆADDï¼‰ ALTER TABLE è¡¨å ADD æ–°åˆ—å æ•°æ®ç±»å‹; ä¾‹1ï¼šç»™ students è¡¨æ–°å¢ä¸€åˆ— genderï¼Œæ•°æ®ç±»å‹æ˜¯ VARCHAR(4)ï¼ˆå­˜â€œç”·â€æˆ–â€œå¥³â€è¶³å¤Ÿäº†ï¼‰ ALTER TABLE students ADD gender VARCHAR(4); æ”¹é€ ï¼ˆMODIFYï¼‰ ALTER TABLE è¡¨å MODIFY åˆ—å æ–°çš„æ•°æ®ç±»å‹; ä¾‹2ï¼šå°† students è¡¨çš„ name åˆ—ä¿®æ”¹ä¸º VARCHAR(100)ï¼Œè®©å®ƒèƒ½å®¹çº³æ›´é•¿çš„åå­— ALTER TABLE students MODIFY name VARCHAR(100); æ‹†é™¤ï¼ˆDROPï¼‰ ALTER TABLE è¡¨å DROP COLUMN åˆ—å; ä¾‹3ï¼šè¯·å†™ä¸€æ¡ SQL è¯­å¥ï¼Œä» students è¡¨ä¸­å½»åº•åˆ é™¤ age è¿™ä¸€åˆ— ALTER TABLE students DROP COLUMN age; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 é€»è¾‘æ‰§è¡Œé¡ºåºï¼š å…ˆæ‰§è¡Œæ‹¬å·é‡Œçš„ï¼ˆå†…å±‚æŸ¥è¯¢ï¼‰ï¼Œå†æ‰§è¡Œï¼ˆå¤–é¢æŸ¥è¯¢ï¼‰ æ ‡é‡å­æŸ¥è¯¢ï¼ˆè¿”å›ä¸€ä¸ªå€¼ï¼‰ ä¾‹1ï¼šå‡è®¾æˆ‘ä»¬æœ‰ä¸€å¼  products (å•†å“è¡¨)ï¼Œé‡Œé¢æœ‰ name (å•†å“å) å’Œ price (ä»·æ ¼)ã€‚ ä»»åŠ¡ï¼š è¯·å†™ä¸€æ¡ SQL è¯­å¥ï¼Œæ‰¾å‡ºæ‰€æœ‰ ä»·æ ¼é«˜äºâ€œç”µè§†æœºâ€ çš„å•†å“ã€‚ æç¤ºæ€è·¯ï¼š æˆ‘ä¸çŸ¥é“â€œç”µè§†æœºâ€å¤šå°‘é’±ï¼Œæ‰€ä»¥è¦å…ˆæŸ¥ç”µè§†æœºçš„ä»·æ ¼ï¼š(SELECT price FROM products WHERE name = 'ç”µè§†æœº')ã€‚ æŠŠè¿™ä¸ªæ‹¬å·æ”¾åˆ° WHERE åé¢å»æ¯”è¾ƒã€‚ SELECT * FROM products WHERE price > (SELECT price FROM products WHERE name = 'ç”µè§†æœº'); #2ï¼šåˆ—è¡¨å­æŸ¥è¯¢ (IN) åˆšæ‰é‚£ä¸ªä¾‹å­ï¼Œå†…å±‚æŸ¥è¯¢åªè¿”å›äº†ä¸€ä¸ªæ•°å­—ï¼ˆç”µè§†æœºçš„ä»·æ ¼ï¼‰ã€‚ ä½†å¦‚æœå†…å±‚æŸ¥è¯¢è¿”å›äº†ä¸€å †æ•°æ®ï¼Œæ€ä¹ˆåŠï¼Ÿ æˆ‘ä»¬è¦æ‰¾å‡ºæ‰€æœ‰å±äºâ€œè‰ºæœ¯ç³»â€çš„å­¦ç”Ÿã€‚ æˆ‘ä»¬æœ‰ä¸¤å¼ è¡¨ï¼š 1. studentsï¼š(id, name, class\\_id) 2. classesï¼š(id, department) æ€è·¯ï¼š 1.å†…å±‚ï¼šå…ˆä» classes è¡¨é‡Œï¼Œæ‰¾å‡ºæ‰€æœ‰å±äº 'è‰ºæœ¯ç³»'çš„ç­çº§ IDã€‚ï¼ˆå¯èƒ½æœ‰å¥½å‡ ä¸ªç­ï¼Œæ¯”å¦‚ 101, 102, 105...ï¼‰ 2.å¤–å±‚ï¼šåœ¨ studentsè¡¨é‡Œï¼Œæ‰¾å‡ºclass_idåœ¨è¿™ä¸ªåˆ—è¡¨é‡Œçš„å­¦ç”Ÿã€‚ è¿™æ—¶å€™ï¼Œä¸èƒ½ç”¨ `=`ï¼ˆç­‰äºï¼‰ï¼Œå› ä¸ºç­‰äºå·ä¸€æ¬¡åªèƒ½å¯¹ä¸€ä¸ªæ•°ã€‚ æˆ‘ä»¬è¦ç”¨ INï¼ˆåœ¨...é‡Œé¢ï¼‰ã€‚ è¯­æ³•ç»“æ„ï¼š SELECT ... FROM ... WHERE å…³è”åˆ— IN (SELECT å…³è”åˆ— FROM ... WHERE ...); ä¾‹2ï¼šè¯·å†™å‡ºæŸ¥è¯¢è¯­å¥ï¼Œæ‰¾å‡º `class_id` å±äº (ä» classes è¡¨æŸ¥å‡ºçš„ 'è‰ºæœ¯ç³»' çš„ id) çš„æ‰€æœ‰å­¦ç”Ÿå§“åã€‚ (æç¤ºï¼šå¤–å±‚æŸ¥ studentsï¼Œå†…å±‚æŸ¥ classes) SELECT * FROM students WHERE class_id IN ( SELECT id -- 1. æˆ‘ä»¬è¦æŠŠç­çº§çš„ ID æ‹¿å‡ºæ¥ FROM classes WHERE department = 'è‰ºæœ¯ç³»' -- 2. ç­›é€‰æ¡ä»¶æ˜¯éƒ¨é—¨åç§° ); 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 å®‰å…¨é” (Foreign Keys) åœºæ™¯å±æœºï¼š æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæœ‰ç²—å¿ƒçš„å‘˜å·¥å¾€ studentsè¡¨é‡Œå½•å…¥äº†ä¸€ä¸ªå­¦ç”Ÿï¼Œå¡«å†™çš„ class_idæ˜¯ 999ã€‚ å¯æ˜¯ï¼classesè¡¨é‡Œæ ¹æœ¬å°±æ²¡æœ‰ 999 ç­ï¼ * è¿™å°±å« â€œè„æ•°æ®â€ * å¦‚æœè¿™ç§æ•°æ®å¤šäº†ï¼Œä½ çš„JOINæŸ¥è¯¢å°±ä¼šå¤±æ•ˆï¼ˆå› ä¸ºè¿ä¸ä¸Šï¼‰ï¼ŒæŠ¥è¡¨å°±ä¼šå‡ºé”™ã€‚ è§£å†³æ–¹æ¡ˆï¼šå¤–é”®çº¦æŸ (FOREIGN KEY) å¤–é”®å°±åƒä¸€æ¡æ— å½¢çš„é“¾å­ï¼ŒæŠŠ studentsè¡¨çš„class_idç‰¢ç‰¢åœ°é”åœ¨classesè¡¨çš„idä¸Šã€‚ * è§„åˆ™ï¼šä½ æƒ³åœ¨studentsè¡¨é‡Œå¡« class_idï¼Ÿå¯ä»¥ï¼Œä½†ä½ å¡«çš„è¿™ä¸ªæ•°å­—ï¼Œå¿…é¡»æ˜¯classesè¡¨é‡Œå·²ç»å­˜åœ¨çš„idã€‚å¦åˆ™ï¼Œæ•°æ®åº“ç›´æ¥æŠ¥é”™ï¼Œæ‹’ç»å½•å…¥ï¼ è¯­æ³•ç»“æ„ï¼ˆåœ¨å»ºè¡¨æ—¶ä½¿ç”¨ï¼‰ CREATE TABLE students ( id INT PRIMARY KEY, name VARCHAR(50), class_id INT, -- ä¸‹é¢è¿™å¥æ˜¯é‡ç‚¹ï¼š FOREIGN KEY (class_id) REFERENCES classes(id) ); * FOREIGN KEY (class_id)ï¼šæŒ‡å®šå½“å‰è¡¨å“ªä¸€åˆ—æ˜¯å¤–é”®ã€‚ * REFERENCES classes(id)ï¼šæŒ‡å®šå®ƒâ€œå¼•ç”¨â€æˆ–è€…æ˜¯â€œä¾èµ–â€å“ªå¼ è¡¨çš„å“ªä¸€åˆ—ã€‚ ä¾‹1ï¼šç°åœ¨ï¼Œè¯·ä½ ä½œä¸ºé¦–å¸­æ•°æ®åº“æ¶æ„å¸ˆï¼Œè®¾è®¡ä¸€å¼ orders(è®¢å•è¡¨) è¦æ±‚ï¼š 1. idï¼šæ•´æ•°ï¼Œä¸»é”®ã€‚ 2. user_idï¼šæ•´æ•°ã€‚å…³é”®ç‚¹ï¼šè¿™ä¸€åˆ—å¿…é¡»æ˜¯å¤–é”®ï¼Œå…³è”åˆ° usersè¡¨çš„idåˆ—ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œå¿…é¡»æ˜¯å­˜åœ¨çš„ç”¨æˆ·æ‰èƒ½ä¸‹è®¢å•ï¼‰ è¯·å°è¯•å†™å‡ºè¿™ä¸ªå¸¦æœ‰å¤–é”®çš„ CREATE TABLEè¯­å¥ï¼ (æç¤ºï¼šFOREIGN KEY (æœ¬è¡¨åˆ—å) REFERENCES å¯¹æ–¹è¡¨å(å¯¹æ–¹åˆ—å)) CREATE TABLE orders ( id INT PRIMARY KEY, user_id INT, -- ç¬¬ä¸€æ­¥ï¼šå…ˆåˆ›å»ºè¿™ä¸€åˆ—ï¼ -- name VARCHAR(50), -- (è¿™ä¸€åˆ—å¯è¦å¯ä¸è¦) -- ç¬¬äºŒæ­¥ï¼šå†ç»™è¿™ä¸€åˆ—åŠ é” FOREIGN KEY (user_id) REFERENCES users(id) ); 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 æ€»ç»“ # ğŸ“œ MySQL SQL æé€Ÿé€ŸæŸ¥è¡¨ (Cheat Sheet) ### 1\\. åŸºç¡€å››ä»¶å¥— (CRUD) æœ€å¸¸ç”¨çš„å¢åˆ æ”¹æŸ¥ã€‚ | æ“ä½œ | è¯­æ³•ç¤ºä¾‹ | è¯´æ˜ | | :--- | :--- | :--- | | **å¢ (Create)** | `INSERT INTO students (name, score) VALUES ('å¼ ä¸‰', 90);` | è®°å¾—åˆ—åå’Œå€¼è¦ä¸€ä¸€å¯¹åº”ã€‚ | | **åˆ  (Delete)** | `DELETE FROM students WHERE name = 'æå››';` | **è­¦æŠ¥ï¼š** æ²¡å†™ WHERE ä¼šåˆ å…‰å…¨è¡¨ï¼ | | **æ”¹ (Update)** | `UPDATE students SET score = 100 WHERE name = 'å¼ ä¸‰';` | **è­¦æŠ¥ï¼š** æ²¡å†™ WHERE ä¼šæ”¹å…¨è¡¨ï¼ | | **æŸ¥ (Read)** | `SELECT * FROM students;` | `*` ä»£è¡¨æ‰€æœ‰åˆ—ã€‚ | ### 2\\. ç­›é€‰ä¸æ’åº (Filtering & Sorting) ç²¾å‡†æ‰¾åˆ°ä½ æƒ³è¦çš„æ•°æ®ã€‚ * **ç²¾ç¡®æŸ¥æ‰¾**ï¼š`WHERE score = 100` * **å¤šæ¡ä»¶**ï¼š`WHERE score > 60 AND gender = 'ç”·'` * **èŒƒå›´æŸ¥æ‰¾**ï¼š`WHERE score BETWEEN 80 AND 90` * **åˆ—è¡¨æŸ¥æ‰¾**ï¼š`WHERE name IN ('å¼ ä¸‰', 'æå››')` * **æ¨¡ç³Šæœç´¢**ï¼š`WHERE name LIKE 'å¼ %'` (å§“å¼ çš„ï¼Œåé¢è·Ÿä»»æ„å­—ç¬¦) * **æ’åº**ï¼š`ORDER BY score DESC` (é™åºï¼šå¤§â†’å°) / `ASC` (å‡åºï¼šå°â†’å¤§) * **é™åˆ¶æ•°é‡**ï¼š`LIMIT 3` (åªçœ‹å‰ 3 ä¸ª) ### 3\\. æ•°æ®ç»Ÿè®¡ (Aggregation) åšæŠ¥è¡¨å¿…å¤‡ã€‚ * **è®¡æ•°**ï¼š`COUNT(*)` (æ•°æœ‰å¤šå°‘è¡Œ) * **å¹³å‡å€¼**ï¼š`AVG(score)` * **æœ€å¤§/å°**ï¼š`MAX(score)` / `MIN(score)` * **å»é‡**ï¼š`DISTINCT name` (å»æ‰é‡å¤çš„åå­—) * **åˆ†ç»„ç»Ÿè®¡**ï¼š SELECT class, AVG(score) FROM students GROUP BY class -- æŒ‰ç­çº§åˆ†ç»„ HAVING AVG(score) > 80; -- ç­›é€‰åˆ†ç»„åçš„ç»“æœ (ä¸ç”¨ WHERE!) 4. å¤šè¡¨è¿æ¥ (Joins) æŠŠæ•£è½åœ¨ä¸åŒè¡¨çš„æ•°æ®æ‹¼èµ·æ¥ã€‚\n"><title>MySQL SQLè¯­å¥</title><link rel=canonical href=http://localhost:1313/mysql/mysql-sql%E8%AF%AD%E5%8F%A5/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content="MySQL SQLè¯­å¥"><meta property='og:description' content="MySQL SQLè¯­å¥\n1 2 3 4 5 ä¸­æ–‡ è‹±æ–‡å¯¹åº”ï¼ˆCRUDï¼‰ SQLå‘½ä»¤ ä½œç”¨ å¢ create INSERT å¾€è¡¨ä¸­æ·»åŠ æ–°çš„æ•°æ®è¡Œ åˆ  delete DELETE ç§»é™¤è¡¨ä¸­çš„æ•°æ® æ”¹ update UPDATE ä¿®æ”¹è¡¨ä¸­å·²å­˜åœ¨çš„æ•°æ® æŸ¥ read SELECT ä»è¡¨ç§æ£€ç´¢æ•°æ® 1 2 3 4 5 6 7 8 9 å¢(Create)- INSERT INSERT INTO è¡¨å ï¼ˆåˆ—1ï¼Œåˆ—2ï¼‰ VALUES ï¼ˆå€¼1ï¼Œå€¼2ï¼‰; Â·å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚åå­—ï¼‰ï¼Œéœ€è¦ç”¨å•å¼•å·''åŒ…èµ·æ¥ Â·å¦‚æœæ˜¯æ•°å­—ï¼ˆæ¯”å¦‚åˆ†æ•°ï¼‰ï¼Œç›´æ¥å†™å°±å¥½ SQLéœ€è¦å…ˆçŸ¥é“ä½ è¦å¾€é‚£äº›â€œåˆ—â€å¡«æ•°æ®ï¼Œç„¶åå†å‘Šè¯‰å®ƒå…·ä½“çš„â€œå€¼â€æ˜¯ä»€ä¹ˆ ä¾‹1ï¼šå¦‚æœæƒ³å¾€student_scoresè¡¨é‡Œæ·»åŠ ä¸€ä¸ªåå«'å¼ ä¸‰',åˆ†æ•°ä¸º90çš„å­¦ç”Ÿï¼Œæ€ä¹ˆå†™SQLè¯­å¥ï¼Ÿ INSERT INTO student_scores (name,score) VALUES ï¼ˆ'å¼ ä¸‰'ï¼Œ90ï¼‰ï¼› 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 æŸ¥(Read)-SELECT SELECT ä½ æƒ³è¦çš„åˆ— FROM è¡¨åï¼› Â· *:è¿™ä¸ª*å°±æ˜¯ä¸€ä¸ªé€šé…ç¬¦ï¼Œå‘Šè¯‰æ•°æ®åº“ï¼šâ€œæˆ‘ä¸æŒ‘ï¼ŒæŠŠè¿™ä¸ªè¡¨é‡Œçš„åˆ—å…¨ç»™æˆ‘æ‹¿å‡ºæ¥ï¼â€ SELECT * FROM è¡¨æ˜ WHERE åˆ—å = å€¼; ä¾‹1ï¼šåˆ©ç”¨WHEREå­å¥ï¼Œå†™ä¸€æ¡SQLè¯­å¥ï¼ŒåªæŠŠ'å¼ ä¸‰'è¿™ä¸€è¡Œæ•°æ®æŸ¥å‡ºæ¥ SELECT * FROM student_scores WHERE name = 'å¼ ä¸‰'; æ’åº SELECT * FROM è¡¨å ORDER BY åˆ—å æ’åºè§„åˆ™ï¼› Â· æ’åºè§„åˆ™æœ‰ä¸¤ç§ï¼š Â· ASCï¼šå‡åºï¼Œä»å°åˆ°å¤§ï¼ˆé»˜è®¤å°±æ˜¯è¿™ä¸ªï¼Œå¯ä»¥ä¸å†™ä¹Ÿè¡Œï¼‰ Â· DESCï¼šé™åºï¼Œä»å¤§åˆ°å° ä¾‹2ï¼šæˆ‘ä»¬è¦æ‰“å°ä¸€ä»½æˆç»©å•æ’åè¡¨ï¼Œè¦æ±‚åˆ†æ•°ä»é«˜åˆ°ä½æ’åˆ—ï¼Œå†™å‡ºè¿™æ¡SQLè¯­å¥ SELECT * FROM student_scores ORDER BY score DESC; é™åˆ¶æ•°é‡ SELECT * FROM è¡¨å LIMIT æ•°é‡ï¼› ä¾‹3ï¼šå†™ä¸€æ¡SQLï¼Œåªæ˜¾ç¤ºåˆ†æ•°æœ€é«˜çš„3ä½ SELECT * FORM student_scores ORDER BY score DESC LIMIT 3; Â· ORDER BY score DESC:å…ˆæŠŠæ‰€æœ‰åŒå­¦æŒ‰åˆ†æ•°ä»é«˜åˆ°ä½æ’å¥½é˜Ÿ æ¨¡ç³ŠæŸ¥è¯¢ LIKE æœ‰æ—¶å€™æˆ‘ä»¬æŸ¥è¯¢æŸä¸€ç±»æ•°æ®ï¼Œè®°ä¸èµ·æ¥å…·ä½“æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨ç®¡=å·ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨LIKEæ“ä½œç¬¦ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é…åˆLIKEä½¿ç”¨çš„ç™¾åˆ†å·%ï¼Œå®ƒ%ä»£è¡¨â€œä»»æ„å¤šä¸ªå­—ç¬¦â€ ä¾‹4ï¼šæŸ¥æ‰¾å‡ºæ‰€æœ‰å§“â€œå¼ â€çš„åŒå­¦ SELECT * FROM student_scores WHERE name LIKE 'å¼ %'ï¼› åˆ†ç»„ GROUP BYçš„ä½œç”¨å°±æ˜¯æŠŠåŸæœ¬æ•£ä¹±çš„æ¯ä¸€è¡Œæ•°æ®ï¼ŒæŒ‰ç…§ä½ æŒ‡å®šçš„åˆ—ï¼Œâ€œæâ€åœ¨ä¸€èµ· SELECT ç±»åˆ«åˆ—ï¼Œèšåˆå‡½æ•°ï¼ˆç»Ÿè®¡åˆ—ï¼‰ FROM è¡¨å GROUP BY ç±»åˆ«åˆ—ï¼› ä¾‹5ï¼šç®—å‡ºæ¯ä¸ªç­çº§çš„å¹³å‡æ•° SELECT class,AVG(score) FROM student_scores GROUP BY class; åˆ†ç»„åçš„è¿‡æ»¤ï¼ˆHAVING) SELECT ç±»åˆ«åˆ—ï¼Œèšåˆå‡½æ•°ï¼ˆç»Ÿè®¡åˆ—ï¼‰ FROM è¡¨å GROUP BY ç±»åˆ«åˆ— HAVING èšåˆå‡½æ•°ï¼ˆç»Ÿè®¡åˆ—ï¼‰> å€¼ï¼› å‡¡æ˜¯è¡¨é‡Œæœ¬æ¥å°±æœ‰åˆ—ï¼Œç”¨WHEREç­›ï¼›å‡¡æ˜¯åæ¥ç®—å‡ºæ¥çš„ç»“æœï¼ˆæ¯”å¦‚å¹³å‡æ•°ã€æ€»æ•°ï¼‰ï¼Œç”¨HAVINGç­›ã€‚ ä¾‹6ï¼šåªæ˜¾ç¤ºå¹³å‡åˆ†ï¼ˆAVGï¼ˆscore))å¤§äº85çš„ç­çº§ SELECT classï¼ŒAVGï¼ˆscoreï¼‰FROM student_scores GROUP BY class HAVING AVG(score) > 85; å¤šè¡¨æŸ¥è¯¢ INNER JOIN ï¼ˆå†…è¿æ¥ï¼‰ INNER JOINå°±åƒæŠŠä¸¤å¼ è¡¨æ‹¿æ¥å¯¹æš—å·ï¼Œåªæœ‰å½“ä¸¤å¼ è¡¨çš„å…³è”å­—æ®µèƒ½å¯¹ä¸Šå·æ—¶ï¼Œå®ƒæ‰ä¼šæŠŠè¿™ä¸€è¡Œæ•°æ®æ‹¼åœ¨ä¸€èµ·ã€‚ SELECT è¡¨1.åˆ—åï¼Œè¡¨2.åˆ—å FROM è¡¨1 INNER JOIN è¡¨2 ON è¡¨1.å…³è”åˆ— = è¡¨2.å…³è”åˆ—ï¼› ä¾‹7ï¼šå°† students è¡¨å’Œ classes è¡¨è¿æ¥èµ·æ¥ã€‚ å…³è”æ¡ä»¶æ˜¯ï¼šstudents è¡¨çš„ class_id ç­‰äº classes è¡¨çš„ idã€‚ æˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„ç»“æœæ˜¯ï¼šstudents.name å’Œ classes.teacher SELECT students.name,classes.teacher FROM students INNER JOIN classes ON students.class_id = classes.id; å·¦è¿æ¥ï¼ˆLEFT JOIN) å·¦è¾¹çš„è¡¨ï¼ˆä¸»è¡¨ï¼‰æœ€å¤§ï¼Œä¸ç®¡å³è¾¹æœ‰æ²¡æœ‰å¯¹åº”çš„ï¼Œå·¦è¾¹çš„éƒ½è¦å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ SELECT students.name, classes.teacher FROM students -- ğŸ‘ˆ è¿™æ˜¯å·¦è¡¨ LEFT JOIN classes -- ğŸ‘‰ è¿™æ˜¯å³è¡¨ ON students.class_id = classes.id; ä¾‹8ï¼šè¯·ä½ ç›´æ¥å¤åˆ¶ä¸Šé¢çš„è¯­æ³•æ€è·¯ï¼Œå†™å‡ºè¿™æ¡ LEFT JOIN è¯­å¥ã€‚ æƒ³ä¸€æƒ³ï¼ŒæŸ¥è¯¢ç»“æœé‡Œï¼Œ'å°æ˜' çš„ teacher é‚£ä¸€æ ä¼šæ˜¾ç¤ºä»€ä¹ˆï¼Ÿï¼ˆå¯ä»¥çŒœä¸€ä¸‹ï¼‰ åœ¨æ•°æ®åº“ä¸­ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ•°æ®ï¼Œè¯¥ä½ç½®å°±ä¼šæ˜¾ç¤ºä¸º NULLï¼ˆç©ºå€¼ï¼‰ 1 2 3 4 5 6 7 æ”¹ï¼ˆUpdateï¼‰- UPDATE UPDATE è¡¨å SET è¦ä¿®æ”¹çš„åˆ— = æ–°å€¼ WHERE æ¡ä»¶åˆ— = æŸå€¼; ä¾‹1ï¼šå¸®'å¼ ä¸‰'è¯¥åˆ†æ•°ï¼Œå†™ä¸€æ¡SQLè¯­å¥ï¼Œå°†student_scoresè¡¨ä¸­ï¼Œå‘½ä»¤æ˜¯'å¼ ä¸‰'çš„é‚£ä¸€è¡Œï¼Œscoreä¿®æ”¹ä¸º95 UPDATE student_scores SET score = 95 WHERE name = 'å¼ ä¸‰'ï¼› 1 2 3 4 5 6 7 åˆ (Delete)- DELETE DELETE FROM è¡¨å WHERE æ¡ä»¶åˆ— = æŸå€¼; ä¾‹1ï¼šå†™ä¸€æ¡SQLè¯­å¥ï¼Œå®‰å…¨åœ°å°†'æå››'ä»student_scoresè¡¨ä¸­åˆ é™¤ DELETE FROM student_scores WHERE name = 'æå››'ï¼› 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 å»ºè¡¨ åœ¨ SQL ä¸­ï¼Œåˆ›å»ºæ–°è¡¨ä½¿ç”¨ CREATE TABLE å‘½ä»¤ã€‚è¿™å°±å¥½æ¯”ä½ åœ¨ Excel é‡Œæ–°å»ºä¸€ä¸ª Sheetï¼Œå¹¶ä¸”è§„å®šå¥½æ¯ä¸€åˆ—å«ä»€ä¹ˆåå­—ï¼Œåªèƒ½å¡«ä»€ä¹ˆç±»å‹çš„æ•°æ®ã€‚ ç¬¬ä¸€æ­¥ï¼šè®¤è¯†â€œåŸææ–™â€ (æ•°æ®ç±»å‹) åœ¨é€ è¡¨ä¹‹å‰ï¼Œä½ å¿…é¡»å‘Šè¯‰æ•°æ®åº“ï¼Œæ¯ä¸€åˆ—å°†æ¥è¦å­˜ä»€ä¹ˆæ ·çš„æ•°æ®ã€‚MySQL é‡Œæœ€å¸¸ç”¨çš„ä¸‰ç§ç±»å‹æ˜¯ï¼š INTï¼šæ•´æ•°ã€‚ç”¨æ¥å­˜ IDã€å¹´é¾„ã€æ•°é‡ã€‚ï¼ˆä¾‹å¦‚ï¼š101, 25ï¼‰ VARCHAR(n)ï¼šå¯å˜é•¿åº¦å­—ç¬¦ä¸²ã€‚ç”¨æ¥å­˜åå­—ã€é‚®ç®±ã€åœ°å€ã€‚ n ä»£è¡¨æœ€å¤§é•¿åº¦ã€‚æ¯”å¦‚ VARCHAR(50) æ„æ€æ˜¯æœ€å¤šå­˜ 50 ä¸ªå­—ç¬¦ã€‚ DATEï¼šæ—¥æœŸã€‚ç”¨æ¥å­˜ç”Ÿæ—¥ã€å…¥èŒæ—¶é—´ã€‚ï¼ˆä¾‹å¦‚ï¼š'2023-01-01'ï¼‰ ç¬¬äºŒæ­¥ï¼šç¡®ç«‹â€œèº«ä»½è¯â€ (ä¸»é”® PRIMARY KEY) ğŸ”‘ è¿™æ˜¯å»ºè¡¨æ—¶æœ€é‡è¦çš„æ¦‚å¿µï¼ æ¯ä¸€å¼ è¡¨æœ€å¥½éƒ½æœ‰ä¸€ä¸ªä¸»é”® (Primary Key)ã€‚å®ƒæ˜¯æ¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚ å°±åƒæ¯ä¸ªå…¬æ°‘éƒ½æœ‰å”¯ä¸€çš„èº«ä»½è¯å·ã€‚ è§„åˆ™ï¼šä¸»é”®çš„å€¼ä¸èƒ½é‡å¤ï¼Œä¹Ÿä¸èƒ½ä¸ºç©ºã€‚ é€šå¸¸æˆ‘ä»¬ä¼šæŠŠ id åˆ—è®¾ä¸ºä¸»é”®ã€‚ CREATE TABLE è¡¨å ( åˆ—å1 æ•°æ®ç±»å‹, åˆ—å2 æ•°æ®ç±»å‹, ... PRIMARY KEY (ä¸»é”®åˆ—å) ); ä¾‹1ï¼šè¯·ä½ è®¾è®¡ä¸€å¼ å…¨æ–°çš„ students è¡¨ï¼Œè¦æ±‚åŒ…å«ä»¥ä¸‹ä¸‰åˆ—ï¼š idï¼šç±»å‹æ˜¯ INTï¼ˆè¿™æ˜¯ä¸»é”®ï¼ï¼‰ã€‚ nameï¼šç±»å‹æ˜¯ VARCHAR(50)ï¼ˆåå­—æœ€é•¿ 50 ä¸ªå­—è¶³å¤Ÿäº†ï¼‰ã€‚ ageï¼šç±»å‹æ˜¯ INTã€‚ è¯·å°è¯•å†™å‡ºå®Œæ•´çš„ SQL è¯­å¥ï¼ (æç¤ºï¼šæ³¨æ„æ‹¬å·çš„ä½ç½®ï¼Œæœ€ååˆ«å¿˜äº†åˆ†å·) CREATE TABLE students ( id INT, name VARCHAR(50), age INT, PRIMARY KEY (id) ); ä¾‹2ï¼šè®¾è®¡ teachers è¡¨ ç°åœ¨è¯·ä½ åˆ©ç”¨è¿™ä¸¤ä¸ªæ–°æ­¦å™¨ï¼Œè®¾è®¡ä¸€å¼ æ›´å®Œç¾çš„ teachers (æ•™å¸ˆè¡¨)ã€‚ è¦æ±‚ï¼š idï¼šç±»å‹ INTï¼Œä¸ä»…æ˜¯ ä¸»é”®ï¼Œè¿˜è¦èƒ½ è‡ªåŠ¨å¢é•¿ (AUTO_INCREMENT)ã€‚ nameï¼šç±»å‹ VARCHAR(30)ï¼Œå¹¶ä¸” ä¸å…è®¸ä¸ºç©º (NOT NULL)ã€‚ subject (ç§‘ç›®)ï¼šç±»å‹ VARCHAR(20)ï¼Œè¿™ä¸ªå…è®¸ä¸ºç©ºï¼ˆå¯èƒ½åˆšå…¥èŒè¿˜æ²¡å®šæ•™å•¥ï¼‰ã€‚ åˆ—å æ•°æ®ç±»å‹ NOT NULL AUTO_INCREMENT (æ³¨æ„ï¼šAUTO_INCREMENTé€šå¸¸åªç”¨äºä¸»é”®) CREATE TABLE teachers ( id INT AUTO_INCREMENT, -- 1. id æ˜¯æ•´æ•°ï¼Œä¸”è‡ªåŠ¨å¢é•¿ name VARCHAR(30) NOT NULL, -- 2. name æ˜¯å­—ç¬¦ä¸²ï¼Œä¸”ä¸èƒ½ä¸ºç©º subject VARCHAR(20), -- 3. subject æ˜¯å­—ç¬¦ä¸²ï¼Œå…è®¸ä¸ºç©ºï¼ˆé»˜è®¤ï¼‰ PRIMARY KEY (id) -- 4. æŒ‡å®š id ä¸ºä¸»é”® ); åˆ è¡¨ DROP TABLE è¡¨å; ä¾‹3ï¼šå‡è®¾åˆšæ‰å»ºç«‹çš„ students è¡¨è®¾è®¡å¾—ä¸å¥½ï¼Œæˆ‘ä»¬è¦æŠŠå®ƒåˆ æ‰é‡æ¥ã€‚ è¯·å†™å‡ºåˆ é™¤ students è¡¨çš„è¯­å¥ã€‚ DROP TABLE students; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 åˆ›å»ºç´¢å¼• ç´¢å¼•å°±ç›¸å½“äºå­—æ®µçš„ç›®å½• æ³¨æ„ï¼šç´¢å¼•ä¹Ÿæ˜¯æ•°æ®ï¼Œéœ€è¦å ç”¨ç¡¬ç›˜ç©ºé—´ï¼Œå½“ä½ INSERTã€UPDATEã€DELETEæ•°æ®æ—¶ï¼Œæ•°æ®åº“ä¸ä»…è¦ä¿®æ”¹åŸæ•°æ®ï¼Œè¿˜è¦å»ä¿®æ”¹æ‰€æœ‰çš„ç´¢å¼•ç›®å½•ï¼Œç´¢å¼•è¶Šå¤šï¼Œå†™å…¥é€Ÿåº¦è¶Šæ…¢ã€‚ åªç»™ç»å¸¸å‡ºç°åœ¨WHERE åé¢çš„åˆ—ï¼Œæˆ–è€…ç»å¸¸ç”¨æ¥æ’åºï¼ˆORDER BY)çš„åˆ—åŠ ç´¢å¼•ã€‚ ä¾‹å‡è®¾æˆ‘ä»¬çš„ students è¡¨é‡Œæœ‰ 100 ä¸‡ ä¸ªå­¦ç”Ÿã€‚æ ¡é•¿ç»å¸¸æŸ¥æŸä¸ªåå­—ï¼Œæ¯”å¦‚ï¼š SELECT * FROM students WHERE name = 'å¼ ä¸‰'; å¦‚æœæ²¡æœ‰å¤šå› ï¼Œæ•°æ®åº“ä¼šæŠŠ100ä¸‡è¡Œå…¨éƒ½çœ‹ä¸€é ä¼˜åŒ–æ–¹æ¡ˆï¼šç»™nameåˆ—åŠ ä¸€ä¸ªç´¢å¼• CREATE INDEX ç´¢å¼•å ON è¡¨å (åˆ—å); ï¼ˆæ³¨æ„ï¼šç´¢å¼•åé€šå¸¸ä»¥idx_å¼€å¤´ï¼Œæ–¹ä¾¿è¯†åˆ«ï¼‰ ä¾‹1ï¼šä¸º students è¡¨çš„ name åˆ—åˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼Œç´¢å¼•åå­—å« idx_name CREATE INDEX idx_name ON students (name); åˆ é™¤ç´¢å¼• DROP INDEX ç´¢å¼•å ON è¡¨å; ä¾‹2:åˆ é™¤ students è¡¨ä¸Šçš„ idx_name ç´¢å¼• DROP INDEX idx_name ON students; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 åŠ è£…ï¼ˆADDï¼‰ ALTER TABLE è¡¨å ADD æ–°åˆ—å æ•°æ®ç±»å‹; ä¾‹1ï¼šç»™ students è¡¨æ–°å¢ä¸€åˆ— genderï¼Œæ•°æ®ç±»å‹æ˜¯ VARCHAR(4)ï¼ˆå­˜â€œç”·â€æˆ–â€œå¥³â€è¶³å¤Ÿäº†ï¼‰ ALTER TABLE students ADD gender VARCHAR(4); æ”¹é€ ï¼ˆMODIFYï¼‰ ALTER TABLE è¡¨å MODIFY åˆ—å æ–°çš„æ•°æ®ç±»å‹; ä¾‹2ï¼šå°† students è¡¨çš„ name åˆ—ä¿®æ”¹ä¸º VARCHAR(100)ï¼Œè®©å®ƒèƒ½å®¹çº³æ›´é•¿çš„åå­— ALTER TABLE students MODIFY name VARCHAR(100); æ‹†é™¤ï¼ˆDROPï¼‰ ALTER TABLE è¡¨å DROP COLUMN åˆ—å; ä¾‹3ï¼šè¯·å†™ä¸€æ¡ SQL è¯­å¥ï¼Œä» students è¡¨ä¸­å½»åº•åˆ é™¤ age è¿™ä¸€åˆ— ALTER TABLE students DROP COLUMN age; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 é€»è¾‘æ‰§è¡Œé¡ºåºï¼š å…ˆæ‰§è¡Œæ‹¬å·é‡Œçš„ï¼ˆå†…å±‚æŸ¥è¯¢ï¼‰ï¼Œå†æ‰§è¡Œï¼ˆå¤–é¢æŸ¥è¯¢ï¼‰ æ ‡é‡å­æŸ¥è¯¢ï¼ˆè¿”å›ä¸€ä¸ªå€¼ï¼‰ ä¾‹1ï¼šå‡è®¾æˆ‘ä»¬æœ‰ä¸€å¼  products (å•†å“è¡¨)ï¼Œé‡Œé¢æœ‰ name (å•†å“å) å’Œ price (ä»·æ ¼)ã€‚ ä»»åŠ¡ï¼š è¯·å†™ä¸€æ¡ SQL è¯­å¥ï¼Œæ‰¾å‡ºæ‰€æœ‰ ä»·æ ¼é«˜äºâ€œç”µè§†æœºâ€ çš„å•†å“ã€‚ æç¤ºæ€è·¯ï¼š æˆ‘ä¸çŸ¥é“â€œç”µè§†æœºâ€å¤šå°‘é’±ï¼Œæ‰€ä»¥è¦å…ˆæŸ¥ç”µè§†æœºçš„ä»·æ ¼ï¼š(SELECT price FROM products WHERE name = 'ç”µè§†æœº')ã€‚ æŠŠè¿™ä¸ªæ‹¬å·æ”¾åˆ° WHERE åé¢å»æ¯”è¾ƒã€‚ SELECT * FROM products WHERE price > (SELECT price FROM products WHERE name = 'ç”µè§†æœº'); #2ï¼šåˆ—è¡¨å­æŸ¥è¯¢ (IN) åˆšæ‰é‚£ä¸ªä¾‹å­ï¼Œå†…å±‚æŸ¥è¯¢åªè¿”å›äº†ä¸€ä¸ªæ•°å­—ï¼ˆç”µè§†æœºçš„ä»·æ ¼ï¼‰ã€‚ ä½†å¦‚æœå†…å±‚æŸ¥è¯¢è¿”å›äº†ä¸€å †æ•°æ®ï¼Œæ€ä¹ˆåŠï¼Ÿ æˆ‘ä»¬è¦æ‰¾å‡ºæ‰€æœ‰å±äºâ€œè‰ºæœ¯ç³»â€çš„å­¦ç”Ÿã€‚ æˆ‘ä»¬æœ‰ä¸¤å¼ è¡¨ï¼š 1. studentsï¼š(id, name, class\\_id) 2. classesï¼š(id, department) æ€è·¯ï¼š 1.å†…å±‚ï¼šå…ˆä» classes è¡¨é‡Œï¼Œæ‰¾å‡ºæ‰€æœ‰å±äº 'è‰ºæœ¯ç³»'çš„ç­çº§ IDã€‚ï¼ˆå¯èƒ½æœ‰å¥½å‡ ä¸ªç­ï¼Œæ¯”å¦‚ 101, 102, 105...ï¼‰ 2.å¤–å±‚ï¼šåœ¨ studentsè¡¨é‡Œï¼Œæ‰¾å‡ºclass_idåœ¨è¿™ä¸ªåˆ—è¡¨é‡Œçš„å­¦ç”Ÿã€‚ è¿™æ—¶å€™ï¼Œä¸èƒ½ç”¨ `=`ï¼ˆç­‰äºï¼‰ï¼Œå› ä¸ºç­‰äºå·ä¸€æ¬¡åªèƒ½å¯¹ä¸€ä¸ªæ•°ã€‚ æˆ‘ä»¬è¦ç”¨ INï¼ˆåœ¨...é‡Œé¢ï¼‰ã€‚ è¯­æ³•ç»“æ„ï¼š SELECT ... FROM ... WHERE å…³è”åˆ— IN (SELECT å…³è”åˆ— FROM ... WHERE ...); ä¾‹2ï¼šè¯·å†™å‡ºæŸ¥è¯¢è¯­å¥ï¼Œæ‰¾å‡º `class_id` å±äº (ä» classes è¡¨æŸ¥å‡ºçš„ 'è‰ºæœ¯ç³»' çš„ id) çš„æ‰€æœ‰å­¦ç”Ÿå§“åã€‚ (æç¤ºï¼šå¤–å±‚æŸ¥ studentsï¼Œå†…å±‚æŸ¥ classes) SELECT * FROM students WHERE class_id IN ( SELECT id -- 1. æˆ‘ä»¬è¦æŠŠç­çº§çš„ ID æ‹¿å‡ºæ¥ FROM classes WHERE department = 'è‰ºæœ¯ç³»' -- 2. ç­›é€‰æ¡ä»¶æ˜¯éƒ¨é—¨åç§° ); 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 å®‰å…¨é” (Foreign Keys) åœºæ™¯å±æœºï¼š æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæœ‰ç²—å¿ƒçš„å‘˜å·¥å¾€ studentsè¡¨é‡Œå½•å…¥äº†ä¸€ä¸ªå­¦ç”Ÿï¼Œå¡«å†™çš„ class_idæ˜¯ 999ã€‚ å¯æ˜¯ï¼classesè¡¨é‡Œæ ¹æœ¬å°±æ²¡æœ‰ 999 ç­ï¼ * è¿™å°±å« â€œè„æ•°æ®â€ * å¦‚æœè¿™ç§æ•°æ®å¤šäº†ï¼Œä½ çš„JOINæŸ¥è¯¢å°±ä¼šå¤±æ•ˆï¼ˆå› ä¸ºè¿ä¸ä¸Šï¼‰ï¼ŒæŠ¥è¡¨å°±ä¼šå‡ºé”™ã€‚ è§£å†³æ–¹æ¡ˆï¼šå¤–é”®çº¦æŸ (FOREIGN KEY) å¤–é”®å°±åƒä¸€æ¡æ— å½¢çš„é“¾å­ï¼ŒæŠŠ studentsè¡¨çš„class_idç‰¢ç‰¢åœ°é”åœ¨classesè¡¨çš„idä¸Šã€‚ * è§„åˆ™ï¼šä½ æƒ³åœ¨studentsè¡¨é‡Œå¡« class_idï¼Ÿå¯ä»¥ï¼Œä½†ä½ å¡«çš„è¿™ä¸ªæ•°å­—ï¼Œå¿…é¡»æ˜¯classesè¡¨é‡Œå·²ç»å­˜åœ¨çš„idã€‚å¦åˆ™ï¼Œæ•°æ®åº“ç›´æ¥æŠ¥é”™ï¼Œæ‹’ç»å½•å…¥ï¼ è¯­æ³•ç»“æ„ï¼ˆåœ¨å»ºè¡¨æ—¶ä½¿ç”¨ï¼‰ CREATE TABLE students ( id INT PRIMARY KEY, name VARCHAR(50), class_id INT, -- ä¸‹é¢è¿™å¥æ˜¯é‡ç‚¹ï¼š FOREIGN KEY (class_id) REFERENCES classes(id) ); * FOREIGN KEY (class_id)ï¼šæŒ‡å®šå½“å‰è¡¨å“ªä¸€åˆ—æ˜¯å¤–é”®ã€‚ * REFERENCES classes(id)ï¼šæŒ‡å®šå®ƒâ€œå¼•ç”¨â€æˆ–è€…æ˜¯â€œä¾èµ–â€å“ªå¼ è¡¨çš„å“ªä¸€åˆ—ã€‚ ä¾‹1ï¼šç°åœ¨ï¼Œè¯·ä½ ä½œä¸ºé¦–å¸­æ•°æ®åº“æ¶æ„å¸ˆï¼Œè®¾è®¡ä¸€å¼ orders(è®¢å•è¡¨) è¦æ±‚ï¼š 1. idï¼šæ•´æ•°ï¼Œä¸»é”®ã€‚ 2. user_idï¼šæ•´æ•°ã€‚å…³é”®ç‚¹ï¼šè¿™ä¸€åˆ—å¿…é¡»æ˜¯å¤–é”®ï¼Œå…³è”åˆ° usersè¡¨çš„idåˆ—ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œå¿…é¡»æ˜¯å­˜åœ¨çš„ç”¨æˆ·æ‰èƒ½ä¸‹è®¢å•ï¼‰ è¯·å°è¯•å†™å‡ºè¿™ä¸ªå¸¦æœ‰å¤–é”®çš„ CREATE TABLEè¯­å¥ï¼ (æç¤ºï¼šFOREIGN KEY (æœ¬è¡¨åˆ—å) REFERENCES å¯¹æ–¹è¡¨å(å¯¹æ–¹åˆ—å)) CREATE TABLE orders ( id INT PRIMARY KEY, user_id INT, -- ç¬¬ä¸€æ­¥ï¼šå…ˆåˆ›å»ºè¿™ä¸€åˆ—ï¼ -- name VARCHAR(50), -- (è¿™ä¸€åˆ—å¯è¦å¯ä¸è¦) -- ç¬¬äºŒæ­¥ï¼šå†ç»™è¿™ä¸€åˆ—åŠ é” FOREIGN KEY (user_id) REFERENCES users(id) ); 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 æ€»ç»“ # ğŸ“œ MySQL SQL æé€Ÿé€ŸæŸ¥è¡¨ (Cheat Sheet) ### 1\\. åŸºç¡€å››ä»¶å¥— (CRUD) æœ€å¸¸ç”¨çš„å¢åˆ æ”¹æŸ¥ã€‚ | æ“ä½œ | è¯­æ³•ç¤ºä¾‹ | è¯´æ˜ | | :--- | :--- | :--- | | **å¢ (Create)** | `INSERT INTO students (name, score) VALUES ('å¼ ä¸‰', 90);` | è®°å¾—åˆ—åå’Œå€¼è¦ä¸€ä¸€å¯¹åº”ã€‚ | | **åˆ  (Delete)** | `DELETE FROM students WHERE name = 'æå››';` | **è­¦æŠ¥ï¼š** æ²¡å†™ WHERE ä¼šåˆ å…‰å…¨è¡¨ï¼ | | **æ”¹ (Update)** | `UPDATE students SET score = 100 WHERE name = 'å¼ ä¸‰';` | **è­¦æŠ¥ï¼š** æ²¡å†™ WHERE ä¼šæ”¹å…¨è¡¨ï¼ | | **æŸ¥ (Read)** | `SELECT * FROM students;` | `*` ä»£è¡¨æ‰€æœ‰åˆ—ã€‚ | ### 2\\. ç­›é€‰ä¸æ’åº (Filtering & Sorting) ç²¾å‡†æ‰¾åˆ°ä½ æƒ³è¦çš„æ•°æ®ã€‚ * **ç²¾ç¡®æŸ¥æ‰¾**ï¼š`WHERE score = 100` * **å¤šæ¡ä»¶**ï¼š`WHERE score > 60 AND gender = 'ç”·'` * **èŒƒå›´æŸ¥æ‰¾**ï¼š`WHERE score BETWEEN 80 AND 90` * **åˆ—è¡¨æŸ¥æ‰¾**ï¼š`WHERE name IN ('å¼ ä¸‰', 'æå››')` * **æ¨¡ç³Šæœç´¢**ï¼š`WHERE name LIKE 'å¼ %'` (å§“å¼ çš„ï¼Œåé¢è·Ÿä»»æ„å­—ç¬¦) * **æ’åº**ï¼š`ORDER BY score DESC` (é™åºï¼šå¤§â†’å°) / `ASC` (å‡åºï¼šå°â†’å¤§) * **é™åˆ¶æ•°é‡**ï¼š`LIMIT 3` (åªçœ‹å‰ 3 ä¸ª) ### 3\\. æ•°æ®ç»Ÿè®¡ (Aggregation) åšæŠ¥è¡¨å¿…å¤‡ã€‚ * **è®¡æ•°**ï¼š`COUNT(*)` (æ•°æœ‰å¤šå°‘è¡Œ) * **å¹³å‡å€¼**ï¼š`AVG(score)` * **æœ€å¤§/å°**ï¼š`MAX(score)` / `MIN(score)` * **å»é‡**ï¼š`DISTINCT name` (å»æ‰é‡å¤çš„åå­—) * **åˆ†ç»„ç»Ÿè®¡**ï¼š SELECT class, AVG(score) FROM students GROUP BY class -- æŒ‰ç­çº§åˆ†ç»„ HAVING AVG(score) > 80; -- ç­›é€‰åˆ†ç»„åçš„ç»“æœ (ä¸ç”¨ WHERE!) 4. å¤šè¡¨è¿æ¥ (Joins) æŠŠæ•£è½åœ¨ä¸åŒè¡¨çš„æ•°æ®æ‹¼èµ·æ¥ã€‚\n"><meta property='og:url' content='http://localhost:1313/mysql/mysql-sql%E8%AF%AD%E5%8F%A5/'><meta property='og:site_name' content='JustWin'><meta property='og:type' content='article'><meta property='article:section' content='Mysql'><meta property='article:published_time' content='2025-12-08T00:00:00+00:00'><meta property='article:modified_time' content='2025-12-08T00:00:00+00:00'><meta property='og:image' content='http://localhost:1313/'><meta name=twitter:title content="MySQL SQLè¯­å¥"><meta name=twitter:description content="MySQL SQLè¯­å¥\n1 2 3 4 5 ä¸­æ–‡ è‹±æ–‡å¯¹åº”ï¼ˆCRUDï¼‰ SQLå‘½ä»¤ ä½œç”¨ å¢ create INSERT å¾€è¡¨ä¸­æ·»åŠ æ–°çš„æ•°æ®è¡Œ åˆ  delete DELETE ç§»é™¤è¡¨ä¸­çš„æ•°æ® æ”¹ update UPDATE ä¿®æ”¹è¡¨ä¸­å·²å­˜åœ¨çš„æ•°æ® æŸ¥ read SELECT ä»è¡¨ç§æ£€ç´¢æ•°æ® 1 2 3 4 5 6 7 8 9 å¢(Create)- INSERT INSERT INTO è¡¨å ï¼ˆåˆ—1ï¼Œåˆ—2ï¼‰ VALUES ï¼ˆå€¼1ï¼Œå€¼2ï¼‰; Â·å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚åå­—ï¼‰ï¼Œéœ€è¦ç”¨å•å¼•å·''åŒ…èµ·æ¥ Â·å¦‚æœæ˜¯æ•°å­—ï¼ˆæ¯”å¦‚åˆ†æ•°ï¼‰ï¼Œç›´æ¥å†™å°±å¥½ SQLéœ€è¦å…ˆçŸ¥é“ä½ è¦å¾€é‚£äº›â€œåˆ—â€å¡«æ•°æ®ï¼Œç„¶åå†å‘Šè¯‰å®ƒå…·ä½“çš„â€œå€¼â€æ˜¯ä»€ä¹ˆ ä¾‹1ï¼šå¦‚æœæƒ³å¾€student_scoresè¡¨é‡Œæ·»åŠ ä¸€ä¸ªåå«'å¼ ä¸‰',åˆ†æ•°ä¸º90çš„å­¦ç”Ÿï¼Œæ€ä¹ˆå†™SQLè¯­å¥ï¼Ÿ INSERT INTO student_scores (name,score) VALUES ï¼ˆ'å¼ ä¸‰'ï¼Œ90ï¼‰ï¼› 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 æŸ¥(Read)-SELECT SELECT ä½ æƒ³è¦çš„åˆ— FROM è¡¨åï¼› Â· *:è¿™ä¸ª*å°±æ˜¯ä¸€ä¸ªé€šé…ç¬¦ï¼Œå‘Šè¯‰æ•°æ®åº“ï¼šâ€œæˆ‘ä¸æŒ‘ï¼ŒæŠŠè¿™ä¸ªè¡¨é‡Œçš„åˆ—å…¨ç»™æˆ‘æ‹¿å‡ºæ¥ï¼â€ SELECT * FROM è¡¨æ˜ WHERE åˆ—å = å€¼; ä¾‹1ï¼šåˆ©ç”¨WHEREå­å¥ï¼Œå†™ä¸€æ¡SQLè¯­å¥ï¼ŒåªæŠŠ'å¼ ä¸‰'è¿™ä¸€è¡Œæ•°æ®æŸ¥å‡ºæ¥ SELECT * FROM student_scores WHERE name = 'å¼ ä¸‰'; æ’åº SELECT * FROM è¡¨å ORDER BY åˆ—å æ’åºè§„åˆ™ï¼› Â· æ’åºè§„åˆ™æœ‰ä¸¤ç§ï¼š Â· ASCï¼šå‡åºï¼Œä»å°åˆ°å¤§ï¼ˆé»˜è®¤å°±æ˜¯è¿™ä¸ªï¼Œå¯ä»¥ä¸å†™ä¹Ÿè¡Œï¼‰ Â· DESCï¼šé™åºï¼Œä»å¤§åˆ°å° ä¾‹2ï¼šæˆ‘ä»¬è¦æ‰“å°ä¸€ä»½æˆç»©å•æ’åè¡¨ï¼Œè¦æ±‚åˆ†æ•°ä»é«˜åˆ°ä½æ’åˆ—ï¼Œå†™å‡ºè¿™æ¡SQLè¯­å¥ SELECT * FROM student_scores ORDER BY score DESC; é™åˆ¶æ•°é‡ SELECT * FROM è¡¨å LIMIT æ•°é‡ï¼› ä¾‹3ï¼šå†™ä¸€æ¡SQLï¼Œåªæ˜¾ç¤ºåˆ†æ•°æœ€é«˜çš„3ä½ SELECT * FORM student_scores ORDER BY score DESC LIMIT 3; Â· ORDER BY score DESC:å…ˆæŠŠæ‰€æœ‰åŒå­¦æŒ‰åˆ†æ•°ä»é«˜åˆ°ä½æ’å¥½é˜Ÿ æ¨¡ç³ŠæŸ¥è¯¢ LIKE æœ‰æ—¶å€™æˆ‘ä»¬æŸ¥è¯¢æŸä¸€ç±»æ•°æ®ï¼Œè®°ä¸èµ·æ¥å…·ä½“æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨ç®¡=å·ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨LIKEæ“ä½œç¬¦ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é…åˆLIKEä½¿ç”¨çš„ç™¾åˆ†å·%ï¼Œå®ƒ%ä»£è¡¨â€œä»»æ„å¤šä¸ªå­—ç¬¦â€ ä¾‹4ï¼šæŸ¥æ‰¾å‡ºæ‰€æœ‰å§“â€œå¼ â€çš„åŒå­¦ SELECT * FROM student_scores WHERE name LIKE 'å¼ %'ï¼› åˆ†ç»„ GROUP BYçš„ä½œç”¨å°±æ˜¯æŠŠåŸæœ¬æ•£ä¹±çš„æ¯ä¸€è¡Œæ•°æ®ï¼ŒæŒ‰ç…§ä½ æŒ‡å®šçš„åˆ—ï¼Œâ€œæâ€åœ¨ä¸€èµ· SELECT ç±»åˆ«åˆ—ï¼Œèšåˆå‡½æ•°ï¼ˆç»Ÿè®¡åˆ—ï¼‰ FROM è¡¨å GROUP BY ç±»åˆ«åˆ—ï¼› ä¾‹5ï¼šç®—å‡ºæ¯ä¸ªç­çº§çš„å¹³å‡æ•° SELECT class,AVG(score) FROM student_scores GROUP BY class; åˆ†ç»„åçš„è¿‡æ»¤ï¼ˆHAVING) SELECT ç±»åˆ«åˆ—ï¼Œèšåˆå‡½æ•°ï¼ˆç»Ÿè®¡åˆ—ï¼‰ FROM è¡¨å GROUP BY ç±»åˆ«åˆ— HAVING èšåˆå‡½æ•°ï¼ˆç»Ÿè®¡åˆ—ï¼‰> å€¼ï¼› å‡¡æ˜¯è¡¨é‡Œæœ¬æ¥å°±æœ‰åˆ—ï¼Œç”¨WHEREç­›ï¼›å‡¡æ˜¯åæ¥ç®—å‡ºæ¥çš„ç»“æœï¼ˆæ¯”å¦‚å¹³å‡æ•°ã€æ€»æ•°ï¼‰ï¼Œç”¨HAVINGç­›ã€‚ ä¾‹6ï¼šåªæ˜¾ç¤ºå¹³å‡åˆ†ï¼ˆAVGï¼ˆscore))å¤§äº85çš„ç­çº§ SELECT classï¼ŒAVGï¼ˆscoreï¼‰FROM student_scores GROUP BY class HAVING AVG(score) > 85; å¤šè¡¨æŸ¥è¯¢ INNER JOIN ï¼ˆå†…è¿æ¥ï¼‰ INNER JOINå°±åƒæŠŠä¸¤å¼ è¡¨æ‹¿æ¥å¯¹æš—å·ï¼Œåªæœ‰å½“ä¸¤å¼ è¡¨çš„å…³è”å­—æ®µèƒ½å¯¹ä¸Šå·æ—¶ï¼Œå®ƒæ‰ä¼šæŠŠè¿™ä¸€è¡Œæ•°æ®æ‹¼åœ¨ä¸€èµ·ã€‚ SELECT è¡¨1.åˆ—åï¼Œè¡¨2.åˆ—å FROM è¡¨1 INNER JOIN è¡¨2 ON è¡¨1.å…³è”åˆ— = è¡¨2.å…³è”åˆ—ï¼› ä¾‹7ï¼šå°† students è¡¨å’Œ classes è¡¨è¿æ¥èµ·æ¥ã€‚ å…³è”æ¡ä»¶æ˜¯ï¼šstudents è¡¨çš„ class_id ç­‰äº classes è¡¨çš„ idã€‚ æˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„ç»“æœæ˜¯ï¼šstudents.name å’Œ classes.teacher SELECT students.name,classes.teacher FROM students INNER JOIN classes ON students.class_id = classes.id; å·¦è¿æ¥ï¼ˆLEFT JOIN) å·¦è¾¹çš„è¡¨ï¼ˆä¸»è¡¨ï¼‰æœ€å¤§ï¼Œä¸ç®¡å³è¾¹æœ‰æ²¡æœ‰å¯¹åº”çš„ï¼Œå·¦è¾¹çš„éƒ½è¦å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ SELECT students.name, classes.teacher FROM students -- ğŸ‘ˆ è¿™æ˜¯å·¦è¡¨ LEFT JOIN classes -- ğŸ‘‰ è¿™æ˜¯å³è¡¨ ON students.class_id = classes.id; ä¾‹8ï¼šè¯·ä½ ç›´æ¥å¤åˆ¶ä¸Šé¢çš„è¯­æ³•æ€è·¯ï¼Œå†™å‡ºè¿™æ¡ LEFT JOIN è¯­å¥ã€‚ æƒ³ä¸€æƒ³ï¼ŒæŸ¥è¯¢ç»“æœé‡Œï¼Œ'å°æ˜' çš„ teacher é‚£ä¸€æ ä¼šæ˜¾ç¤ºä»€ä¹ˆï¼Ÿï¼ˆå¯ä»¥çŒœä¸€ä¸‹ï¼‰ åœ¨æ•°æ®åº“ä¸­ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ•°æ®ï¼Œè¯¥ä½ç½®å°±ä¼šæ˜¾ç¤ºä¸º NULLï¼ˆç©ºå€¼ï¼‰ 1 2 3 4 5 6 7 æ”¹ï¼ˆUpdateï¼‰- UPDATE UPDATE è¡¨å SET è¦ä¿®æ”¹çš„åˆ— = æ–°å€¼ WHERE æ¡ä»¶åˆ— = æŸå€¼; ä¾‹1ï¼šå¸®'å¼ ä¸‰'è¯¥åˆ†æ•°ï¼Œå†™ä¸€æ¡SQLè¯­å¥ï¼Œå°†student_scoresè¡¨ä¸­ï¼Œå‘½ä»¤æ˜¯'å¼ ä¸‰'çš„é‚£ä¸€è¡Œï¼Œscoreä¿®æ”¹ä¸º95 UPDATE student_scores SET score = 95 WHERE name = 'å¼ ä¸‰'ï¼› 1 2 3 4 5 6 7 åˆ (Delete)- DELETE DELETE FROM è¡¨å WHERE æ¡ä»¶åˆ— = æŸå€¼; ä¾‹1ï¼šå†™ä¸€æ¡SQLè¯­å¥ï¼Œå®‰å…¨åœ°å°†'æå››'ä»student_scoresè¡¨ä¸­åˆ é™¤ DELETE FROM student_scores WHERE name = 'æå››'ï¼› 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 å»ºè¡¨ åœ¨ SQL ä¸­ï¼Œåˆ›å»ºæ–°è¡¨ä½¿ç”¨ CREATE TABLE å‘½ä»¤ã€‚è¿™å°±å¥½æ¯”ä½ åœ¨ Excel é‡Œæ–°å»ºä¸€ä¸ª Sheetï¼Œå¹¶ä¸”è§„å®šå¥½æ¯ä¸€åˆ—å«ä»€ä¹ˆåå­—ï¼Œåªèƒ½å¡«ä»€ä¹ˆç±»å‹çš„æ•°æ®ã€‚ ç¬¬ä¸€æ­¥ï¼šè®¤è¯†â€œåŸææ–™â€ (æ•°æ®ç±»å‹) åœ¨é€ è¡¨ä¹‹å‰ï¼Œä½ å¿…é¡»å‘Šè¯‰æ•°æ®åº“ï¼Œæ¯ä¸€åˆ—å°†æ¥è¦å­˜ä»€ä¹ˆæ ·çš„æ•°æ®ã€‚MySQL é‡Œæœ€å¸¸ç”¨çš„ä¸‰ç§ç±»å‹æ˜¯ï¼š INTï¼šæ•´æ•°ã€‚ç”¨æ¥å­˜ IDã€å¹´é¾„ã€æ•°é‡ã€‚ï¼ˆä¾‹å¦‚ï¼š101, 25ï¼‰ VARCHAR(n)ï¼šå¯å˜é•¿åº¦å­—ç¬¦ä¸²ã€‚ç”¨æ¥å­˜åå­—ã€é‚®ç®±ã€åœ°å€ã€‚ n ä»£è¡¨æœ€å¤§é•¿åº¦ã€‚æ¯”å¦‚ VARCHAR(50) æ„æ€æ˜¯æœ€å¤šå­˜ 50 ä¸ªå­—ç¬¦ã€‚ DATEï¼šæ—¥æœŸã€‚ç”¨æ¥å­˜ç”Ÿæ—¥ã€å…¥èŒæ—¶é—´ã€‚ï¼ˆä¾‹å¦‚ï¼š'2023-01-01'ï¼‰ ç¬¬äºŒæ­¥ï¼šç¡®ç«‹â€œèº«ä»½è¯â€ (ä¸»é”® PRIMARY KEY) ğŸ”‘ è¿™æ˜¯å»ºè¡¨æ—¶æœ€é‡è¦çš„æ¦‚å¿µï¼ æ¯ä¸€å¼ è¡¨æœ€å¥½éƒ½æœ‰ä¸€ä¸ªä¸»é”® (Primary Key)ã€‚å®ƒæ˜¯æ¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚ å°±åƒæ¯ä¸ªå…¬æ°‘éƒ½æœ‰å”¯ä¸€çš„èº«ä»½è¯å·ã€‚ è§„åˆ™ï¼šä¸»é”®çš„å€¼ä¸èƒ½é‡å¤ï¼Œä¹Ÿä¸èƒ½ä¸ºç©ºã€‚ é€šå¸¸æˆ‘ä»¬ä¼šæŠŠ id åˆ—è®¾ä¸ºä¸»é”®ã€‚ CREATE TABLE è¡¨å ( åˆ—å1 æ•°æ®ç±»å‹, åˆ—å2 æ•°æ®ç±»å‹, ... PRIMARY KEY (ä¸»é”®åˆ—å) ); ä¾‹1ï¼šè¯·ä½ è®¾è®¡ä¸€å¼ å…¨æ–°çš„ students è¡¨ï¼Œè¦æ±‚åŒ…å«ä»¥ä¸‹ä¸‰åˆ—ï¼š idï¼šç±»å‹æ˜¯ INTï¼ˆè¿™æ˜¯ä¸»é”®ï¼ï¼‰ã€‚ nameï¼šç±»å‹æ˜¯ VARCHAR(50)ï¼ˆåå­—æœ€é•¿ 50 ä¸ªå­—è¶³å¤Ÿäº†ï¼‰ã€‚ ageï¼šç±»å‹æ˜¯ INTã€‚ è¯·å°è¯•å†™å‡ºå®Œæ•´çš„ SQL è¯­å¥ï¼ (æç¤ºï¼šæ³¨æ„æ‹¬å·çš„ä½ç½®ï¼Œæœ€ååˆ«å¿˜äº†åˆ†å·) CREATE TABLE students ( id INT, name VARCHAR(50), age INT, PRIMARY KEY (id) ); ä¾‹2ï¼šè®¾è®¡ teachers è¡¨ ç°åœ¨è¯·ä½ åˆ©ç”¨è¿™ä¸¤ä¸ªæ–°æ­¦å™¨ï¼Œè®¾è®¡ä¸€å¼ æ›´å®Œç¾çš„ teachers (æ•™å¸ˆè¡¨)ã€‚ è¦æ±‚ï¼š idï¼šç±»å‹ INTï¼Œä¸ä»…æ˜¯ ä¸»é”®ï¼Œè¿˜è¦èƒ½ è‡ªåŠ¨å¢é•¿ (AUTO_INCREMENT)ã€‚ nameï¼šç±»å‹ VARCHAR(30)ï¼Œå¹¶ä¸” ä¸å…è®¸ä¸ºç©º (NOT NULL)ã€‚ subject (ç§‘ç›®)ï¼šç±»å‹ VARCHAR(20)ï¼Œè¿™ä¸ªå…è®¸ä¸ºç©ºï¼ˆå¯èƒ½åˆšå…¥èŒè¿˜æ²¡å®šæ•™å•¥ï¼‰ã€‚ åˆ—å æ•°æ®ç±»å‹ NOT NULL AUTO_INCREMENT (æ³¨æ„ï¼šAUTO_INCREMENTé€šå¸¸åªç”¨äºä¸»é”®) CREATE TABLE teachers ( id INT AUTO_INCREMENT, -- 1. id æ˜¯æ•´æ•°ï¼Œä¸”è‡ªåŠ¨å¢é•¿ name VARCHAR(30) NOT NULL, -- 2. name æ˜¯å­—ç¬¦ä¸²ï¼Œä¸”ä¸èƒ½ä¸ºç©º subject VARCHAR(20), -- 3. subject æ˜¯å­—ç¬¦ä¸²ï¼Œå…è®¸ä¸ºç©ºï¼ˆé»˜è®¤ï¼‰ PRIMARY KEY (id) -- 4. æŒ‡å®š id ä¸ºä¸»é”® ); åˆ è¡¨ DROP TABLE è¡¨å; ä¾‹3ï¼šå‡è®¾åˆšæ‰å»ºç«‹çš„ students è¡¨è®¾è®¡å¾—ä¸å¥½ï¼Œæˆ‘ä»¬è¦æŠŠå®ƒåˆ æ‰é‡æ¥ã€‚ è¯·å†™å‡ºåˆ é™¤ students è¡¨çš„è¯­å¥ã€‚ DROP TABLE students; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 åˆ›å»ºç´¢å¼• ç´¢å¼•å°±ç›¸å½“äºå­—æ®µçš„ç›®å½• æ³¨æ„ï¼šç´¢å¼•ä¹Ÿæ˜¯æ•°æ®ï¼Œéœ€è¦å ç”¨ç¡¬ç›˜ç©ºé—´ï¼Œå½“ä½ INSERTã€UPDATEã€DELETEæ•°æ®æ—¶ï¼Œæ•°æ®åº“ä¸ä»…è¦ä¿®æ”¹åŸæ•°æ®ï¼Œè¿˜è¦å»ä¿®æ”¹æ‰€æœ‰çš„ç´¢å¼•ç›®å½•ï¼Œç´¢å¼•è¶Šå¤šï¼Œå†™å…¥é€Ÿåº¦è¶Šæ…¢ã€‚ åªç»™ç»å¸¸å‡ºç°åœ¨WHERE åé¢çš„åˆ—ï¼Œæˆ–è€…ç»å¸¸ç”¨æ¥æ’åºï¼ˆORDER BY)çš„åˆ—åŠ ç´¢å¼•ã€‚ ä¾‹å‡è®¾æˆ‘ä»¬çš„ students è¡¨é‡Œæœ‰ 100 ä¸‡ ä¸ªå­¦ç”Ÿã€‚æ ¡é•¿ç»å¸¸æŸ¥æŸä¸ªåå­—ï¼Œæ¯”å¦‚ï¼š SELECT * FROM students WHERE name = 'å¼ ä¸‰'; å¦‚æœæ²¡æœ‰å¤šå› ï¼Œæ•°æ®åº“ä¼šæŠŠ100ä¸‡è¡Œå…¨éƒ½çœ‹ä¸€é ä¼˜åŒ–æ–¹æ¡ˆï¼šç»™nameåˆ—åŠ ä¸€ä¸ªç´¢å¼• CREATE INDEX ç´¢å¼•å ON è¡¨å (åˆ—å); ï¼ˆæ³¨æ„ï¼šç´¢å¼•åé€šå¸¸ä»¥idx_å¼€å¤´ï¼Œæ–¹ä¾¿è¯†åˆ«ï¼‰ ä¾‹1ï¼šä¸º students è¡¨çš„ name åˆ—åˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼Œç´¢å¼•åå­—å« idx_name CREATE INDEX idx_name ON students (name); åˆ é™¤ç´¢å¼• DROP INDEX ç´¢å¼•å ON è¡¨å; ä¾‹2:åˆ é™¤ students è¡¨ä¸Šçš„ idx_name ç´¢å¼• DROP INDEX idx_name ON students; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 åŠ è£…ï¼ˆADDï¼‰ ALTER TABLE è¡¨å ADD æ–°åˆ—å æ•°æ®ç±»å‹; ä¾‹1ï¼šç»™ students è¡¨æ–°å¢ä¸€åˆ— genderï¼Œæ•°æ®ç±»å‹æ˜¯ VARCHAR(4)ï¼ˆå­˜â€œç”·â€æˆ–â€œå¥³â€è¶³å¤Ÿäº†ï¼‰ ALTER TABLE students ADD gender VARCHAR(4); æ”¹é€ ï¼ˆMODIFYï¼‰ ALTER TABLE è¡¨å MODIFY åˆ—å æ–°çš„æ•°æ®ç±»å‹; ä¾‹2ï¼šå°† students è¡¨çš„ name åˆ—ä¿®æ”¹ä¸º VARCHAR(100)ï¼Œè®©å®ƒèƒ½å®¹çº³æ›´é•¿çš„åå­— ALTER TABLE students MODIFY name VARCHAR(100); æ‹†é™¤ï¼ˆDROPï¼‰ ALTER TABLE è¡¨å DROP COLUMN åˆ—å; ä¾‹3ï¼šè¯·å†™ä¸€æ¡ SQL è¯­å¥ï¼Œä» students è¡¨ä¸­å½»åº•åˆ é™¤ age è¿™ä¸€åˆ— ALTER TABLE students DROP COLUMN age; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 é€»è¾‘æ‰§è¡Œé¡ºåºï¼š å…ˆæ‰§è¡Œæ‹¬å·é‡Œçš„ï¼ˆå†…å±‚æŸ¥è¯¢ï¼‰ï¼Œå†æ‰§è¡Œï¼ˆå¤–é¢æŸ¥è¯¢ï¼‰ æ ‡é‡å­æŸ¥è¯¢ï¼ˆè¿”å›ä¸€ä¸ªå€¼ï¼‰ ä¾‹1ï¼šå‡è®¾æˆ‘ä»¬æœ‰ä¸€å¼  products (å•†å“è¡¨)ï¼Œé‡Œé¢æœ‰ name (å•†å“å) å’Œ price (ä»·æ ¼)ã€‚ ä»»åŠ¡ï¼š è¯·å†™ä¸€æ¡ SQL è¯­å¥ï¼Œæ‰¾å‡ºæ‰€æœ‰ ä»·æ ¼é«˜äºâ€œç”µè§†æœºâ€ çš„å•†å“ã€‚ æç¤ºæ€è·¯ï¼š æˆ‘ä¸çŸ¥é“â€œç”µè§†æœºâ€å¤šå°‘é’±ï¼Œæ‰€ä»¥è¦å…ˆæŸ¥ç”µè§†æœºçš„ä»·æ ¼ï¼š(SELECT price FROM products WHERE name = 'ç”µè§†æœº')ã€‚ æŠŠè¿™ä¸ªæ‹¬å·æ”¾åˆ° WHERE åé¢å»æ¯”è¾ƒã€‚ SELECT * FROM products WHERE price > (SELECT price FROM products WHERE name = 'ç”µè§†æœº'); #2ï¼šåˆ—è¡¨å­æŸ¥è¯¢ (IN) åˆšæ‰é‚£ä¸ªä¾‹å­ï¼Œå†…å±‚æŸ¥è¯¢åªè¿”å›äº†ä¸€ä¸ªæ•°å­—ï¼ˆç”µè§†æœºçš„ä»·æ ¼ï¼‰ã€‚ ä½†å¦‚æœå†…å±‚æŸ¥è¯¢è¿”å›äº†ä¸€å †æ•°æ®ï¼Œæ€ä¹ˆåŠï¼Ÿ æˆ‘ä»¬è¦æ‰¾å‡ºæ‰€æœ‰å±äºâ€œè‰ºæœ¯ç³»â€çš„å­¦ç”Ÿã€‚ æˆ‘ä»¬æœ‰ä¸¤å¼ è¡¨ï¼š 1. studentsï¼š(id, name, class\\_id) 2. classesï¼š(id, department) æ€è·¯ï¼š 1.å†…å±‚ï¼šå…ˆä» classes è¡¨é‡Œï¼Œæ‰¾å‡ºæ‰€æœ‰å±äº 'è‰ºæœ¯ç³»'çš„ç­çº§ IDã€‚ï¼ˆå¯èƒ½æœ‰å¥½å‡ ä¸ªç­ï¼Œæ¯”å¦‚ 101, 102, 105...ï¼‰ 2.å¤–å±‚ï¼šåœ¨ studentsè¡¨é‡Œï¼Œæ‰¾å‡ºclass_idåœ¨è¿™ä¸ªåˆ—è¡¨é‡Œçš„å­¦ç”Ÿã€‚ è¿™æ—¶å€™ï¼Œä¸èƒ½ç”¨ `=`ï¼ˆç­‰äºï¼‰ï¼Œå› ä¸ºç­‰äºå·ä¸€æ¬¡åªèƒ½å¯¹ä¸€ä¸ªæ•°ã€‚ æˆ‘ä»¬è¦ç”¨ INï¼ˆåœ¨...é‡Œé¢ï¼‰ã€‚ è¯­æ³•ç»“æ„ï¼š SELECT ... FROM ... WHERE å…³è”åˆ— IN (SELECT å…³è”åˆ— FROM ... WHERE ...); ä¾‹2ï¼šè¯·å†™å‡ºæŸ¥è¯¢è¯­å¥ï¼Œæ‰¾å‡º `class_id` å±äº (ä» classes è¡¨æŸ¥å‡ºçš„ 'è‰ºæœ¯ç³»' çš„ id) çš„æ‰€æœ‰å­¦ç”Ÿå§“åã€‚ (æç¤ºï¼šå¤–å±‚æŸ¥ studentsï¼Œå†…å±‚æŸ¥ classes) SELECT * FROM students WHERE class_id IN ( SELECT id -- 1. æˆ‘ä»¬è¦æŠŠç­çº§çš„ ID æ‹¿å‡ºæ¥ FROM classes WHERE department = 'è‰ºæœ¯ç³»' -- 2. ç­›é€‰æ¡ä»¶æ˜¯éƒ¨é—¨åç§° ); 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 å®‰å…¨é” (Foreign Keys) åœºæ™¯å±æœºï¼š æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæœ‰ç²—å¿ƒçš„å‘˜å·¥å¾€ studentsè¡¨é‡Œå½•å…¥äº†ä¸€ä¸ªå­¦ç”Ÿï¼Œå¡«å†™çš„ class_idæ˜¯ 999ã€‚ å¯æ˜¯ï¼classesè¡¨é‡Œæ ¹æœ¬å°±æ²¡æœ‰ 999 ç­ï¼ * è¿™å°±å« â€œè„æ•°æ®â€ * å¦‚æœè¿™ç§æ•°æ®å¤šäº†ï¼Œä½ çš„JOINæŸ¥è¯¢å°±ä¼šå¤±æ•ˆï¼ˆå› ä¸ºè¿ä¸ä¸Šï¼‰ï¼ŒæŠ¥è¡¨å°±ä¼šå‡ºé”™ã€‚ è§£å†³æ–¹æ¡ˆï¼šå¤–é”®çº¦æŸ (FOREIGN KEY) å¤–é”®å°±åƒä¸€æ¡æ— å½¢çš„é“¾å­ï¼ŒæŠŠ studentsè¡¨çš„class_idç‰¢ç‰¢åœ°é”åœ¨classesè¡¨çš„idä¸Šã€‚ * è§„åˆ™ï¼šä½ æƒ³åœ¨studentsè¡¨é‡Œå¡« class_idï¼Ÿå¯ä»¥ï¼Œä½†ä½ å¡«çš„è¿™ä¸ªæ•°å­—ï¼Œå¿…é¡»æ˜¯classesè¡¨é‡Œå·²ç»å­˜åœ¨çš„idã€‚å¦åˆ™ï¼Œæ•°æ®åº“ç›´æ¥æŠ¥é”™ï¼Œæ‹’ç»å½•å…¥ï¼ è¯­æ³•ç»“æ„ï¼ˆåœ¨å»ºè¡¨æ—¶ä½¿ç”¨ï¼‰ CREATE TABLE students ( id INT PRIMARY KEY, name VARCHAR(50), class_id INT, -- ä¸‹é¢è¿™å¥æ˜¯é‡ç‚¹ï¼š FOREIGN KEY (class_id) REFERENCES classes(id) ); * FOREIGN KEY (class_id)ï¼šæŒ‡å®šå½“å‰è¡¨å“ªä¸€åˆ—æ˜¯å¤–é”®ã€‚ * REFERENCES classes(id)ï¼šæŒ‡å®šå®ƒâ€œå¼•ç”¨â€æˆ–è€…æ˜¯â€œä¾èµ–â€å“ªå¼ è¡¨çš„å“ªä¸€åˆ—ã€‚ ä¾‹1ï¼šç°åœ¨ï¼Œè¯·ä½ ä½œä¸ºé¦–å¸­æ•°æ®åº“æ¶æ„å¸ˆï¼Œè®¾è®¡ä¸€å¼ orders(è®¢å•è¡¨) è¦æ±‚ï¼š 1. idï¼šæ•´æ•°ï¼Œä¸»é”®ã€‚ 2. user_idï¼šæ•´æ•°ã€‚å…³é”®ç‚¹ï¼šè¿™ä¸€åˆ—å¿…é¡»æ˜¯å¤–é”®ï¼Œå…³è”åˆ° usersè¡¨çš„idåˆ—ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œå¿…é¡»æ˜¯å­˜åœ¨çš„ç”¨æˆ·æ‰èƒ½ä¸‹è®¢å•ï¼‰ è¯·å°è¯•å†™å‡ºè¿™ä¸ªå¸¦æœ‰å¤–é”®çš„ CREATE TABLEè¯­å¥ï¼ (æç¤ºï¼šFOREIGN KEY (æœ¬è¡¨åˆ—å) REFERENCES å¯¹æ–¹è¡¨å(å¯¹æ–¹åˆ—å)) CREATE TABLE orders ( id INT PRIMARY KEY, user_id INT, -- ç¬¬ä¸€æ­¥ï¼šå…ˆåˆ›å»ºè¿™ä¸€åˆ—ï¼ -- name VARCHAR(50), -- (è¿™ä¸€åˆ—å¯è¦å¯ä¸è¦) -- ç¬¬äºŒæ­¥ï¼šå†ç»™è¿™ä¸€åˆ—åŠ é” FOREIGN KEY (user_id) REFERENCES users(id) ); 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 æ€»ç»“ # ğŸ“œ MySQL SQL æé€Ÿé€ŸæŸ¥è¡¨ (Cheat Sheet) ### 1\\. åŸºç¡€å››ä»¶å¥— (CRUD) æœ€å¸¸ç”¨çš„å¢åˆ æ”¹æŸ¥ã€‚ | æ“ä½œ | è¯­æ³•ç¤ºä¾‹ | è¯´æ˜ | | :--- | :--- | :--- | | **å¢ (Create)** | `INSERT INTO students (name, score) VALUES ('å¼ ä¸‰', 90);` | è®°å¾—åˆ—åå’Œå€¼è¦ä¸€ä¸€å¯¹åº”ã€‚ | | **åˆ  (Delete)** | `DELETE FROM students WHERE name = 'æå››';` | **è­¦æŠ¥ï¼š** æ²¡å†™ WHERE ä¼šåˆ å…‰å…¨è¡¨ï¼ | | **æ”¹ (Update)** | `UPDATE students SET score = 100 WHERE name = 'å¼ ä¸‰';` | **è­¦æŠ¥ï¼š** æ²¡å†™ WHERE ä¼šæ”¹å…¨è¡¨ï¼ | | **æŸ¥ (Read)** | `SELECT * FROM students;` | `*` ä»£è¡¨æ‰€æœ‰åˆ—ã€‚ | ### 2\\. ç­›é€‰ä¸æ’åº (Filtering & Sorting) ç²¾å‡†æ‰¾åˆ°ä½ æƒ³è¦çš„æ•°æ®ã€‚ * **ç²¾ç¡®æŸ¥æ‰¾**ï¼š`WHERE score = 100` * **å¤šæ¡ä»¶**ï¼š`WHERE score > 60 AND gender = 'ç”·'` * **èŒƒå›´æŸ¥æ‰¾**ï¼š`WHERE score BETWEEN 80 AND 90` * **åˆ—è¡¨æŸ¥æ‰¾**ï¼š`WHERE name IN ('å¼ ä¸‰', 'æå››')` * **æ¨¡ç³Šæœç´¢**ï¼š`WHERE name LIKE 'å¼ %'` (å§“å¼ çš„ï¼Œåé¢è·Ÿä»»æ„å­—ç¬¦) * **æ’åº**ï¼š`ORDER BY score DESC` (é™åºï¼šå¤§â†’å°) / `ASC` (å‡åºï¼šå°â†’å¤§) * **é™åˆ¶æ•°é‡**ï¼š`LIMIT 3` (åªçœ‹å‰ 3 ä¸ª) ### 3\\. æ•°æ®ç»Ÿè®¡ (Aggregation) åšæŠ¥è¡¨å¿…å¤‡ã€‚ * **è®¡æ•°**ï¼š`COUNT(*)` (æ•°æœ‰å¤šå°‘è¡Œ) * **å¹³å‡å€¼**ï¼š`AVG(score)` * **æœ€å¤§/å°**ï¼š`MAX(score)` / `MIN(score)` * **å»é‡**ï¼š`DISTINCT name` (å»æ‰é‡å¤çš„åå­—) * **åˆ†ç»„ç»Ÿè®¡**ï¼š SELECT class, AVG(score) FROM students GROUP BY class -- æŒ‰ç­çº§åˆ†ç»„ HAVING AVG(score) > 80; -- ç­›é€‰åˆ†ç»„åçš„ç»“æœ (ä¸ç”¨ WHERE!) 4. å¤šè¡¨è¿æ¥ (Joins) æŠŠæ•£è½åœ¨ä¸åŒè¡¨çš„æ•°æ®æ‹¼èµ·æ¥ã€‚\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='http://localhost:1313/'><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"light")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/images/avatar_hu_89ca753ea8ea85c7.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>âœï¸</span></figure><div class=site-meta><h1 class=site-name><a href=/>JustWin</a></h1><h2 class=site-description>åˆ†äº«æŠ€æœ¯ä¸ç”Ÿæ´»</h2></div></header><ol class=menu-social><li><a href=https://github.com/passion-win target=_blank title=GitHub rel=me><svg width="800" height="800" viewBox="0 0 20 20" xmlns:xlink="http://www.w3.org/1999/xlink"><title>github [#142]</title><desc>Created with Sketch.</desc><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)" fill="#000"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M94 7399C99.523 7399 104 7403.59 104 7409.253 104 7413.782 101.138 7417.624 97.167 7418.981 96.66 7419.082 96.48 7418.762 96.48 7418.489 96.48 7418.151 96.492 7417.047 96.492 7415.675 96.492 7414.719 96.172 7414.095 95.813 7413.777 98.04 7413.523 100.38 7412.656 100.38 7408.718 100.38 7407.598 99.992 7406.684 99.35 7405.966 99.454 7405.707 99.797 7404.664 99.252 7403.252 99.252 7403.252 98.414 7402.977 96.505 7404.303 95.706 7404.076 94.85 7403.962 94 7403.958 93.15 7403.962 92.295 7404.076 91.497 7404.303 89.586 7402.977 88.746 7403.252 88.746 7403.252 88.203 7404.664 88.546 7405.707 88.649 7405.966 88.01 7406.684 87.619 7407.598 87.619 7408.718 87.619 7412.646 89.954 7413.526 92.175 7413.785 91.889 7414.041 91.63 7414.493 91.54 7415.156 90.97 7415.418 89.522 7415.871 88.63 7414.304 88.63 7414.304 88.101 7413.319 87.097 7413.247 87.097 7413.247 86.122 7413.234 87.029 7413.87 87.029 7413.87 87.684 7414.185 88.139 7415.37 88.139 7415.37 88.726 7417.2 91.508 7416.58 91.513 7417.437 91.522 7418.245 91.522 7418.489 91.522 7418.76 91.338 7419.077 90.839 7418.982 86.865 7417.627 84 7413.783 84 7409.253 84 7403.59 88.478 7399 94 7399" id="github-[#142]"/></g></g></g></svg></a></li><li><a href=https://t.me/+TFjBeZzowwU1YTY1 target=_blank title=telegram rel=me><svg viewBox="0 0 640 640"><path d="M320 72C183 72 72 183 72 320S183 568 320 568 568 457 568 320 457 72 320 72zM435 240.7C431.3 279.9 415.1 375.1 406.9 419c-3.5 18.6-10.3 24.8-16.9 25.4C375.6 445.7 364.7 434.9 350.7 425.7c-21.8-14.3-34.2-23.2-55.3-37.2C270.9 372.4 286.8 363.5 300.7 349 304.4 345.2 367.8 287.5 369 282.3 369.2 281.6 369.3 279.2 367.8 277.9 366.3 276.6 364.2 277.1 362.7 277.4 360.5 277.9 325.6 300.9 258.1 346.5 248.2 353.3 239.2 356.6 231.2 356.4 222.3 356.2 205.3 351.4 192.6 347.3 177.1 342.3 164.7 339.6 165.8 331 166.4 326.5 172.5 322 184.2 317.3 256.5 285.8 304.7 265 328.8 255c68.9-28.6 83.2-33.6 92.5-33.8C423.4 221.2 427.9 221.7 430.9 224.1 432.9 225.8 434.1 228.2 434.4 230.8 434.9 234 435 237.3 434.8 240.6z"/></svg></a></li><li><a href=https://twitter.com/@win1688888888 target=_blank title=twitter rel=me><svg width="800" height="800" viewBox="0 -2 20 20" xmlns:xlink="http://www.w3.org/1999/xlink"><title>twitter [#154]</title><desc>Created with Sketch.</desc><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-60.000000, -7521.000000)" fill="#000"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M10.29 7377C17.837 7377 21.965 7370.84365 21.965 7365.50546 21.965 7365.33021 21.965 7365.15595 21.953 7364.98267 22.756 7364.41163 23.449 7363.70276 24 7362.8915 23.252 7363.21837 22.457 7363.433 21.644 7363.52751 22.5 7363.02244 23.141 7362.2289 23.448 7361.2926 22.642 7361.76321 21.761 7362.095 20.842 7362.27321 19.288 7360.64674 16.689 7360.56798 15.036 7362.09796 13.971 7363.08447 13.518 7364.55538 13.849 7365.95835 10.55 7365.79492 7.476 7364.261 5.392 7361.73762 4.303 7363.58363 4.86 7365.94457 6.663 7367.12996 6.01 7367.11125 5.371 7366.93797 4.8 7366.62489V7366.67608C4.801 7368.5989 6.178 7370.2549 8.092 7370.63591 7.488 7370.79836 6.854 7370.82199 6.24 7370.70483 6.777 7372.35099 8.318 7373.47829 10.073 7373.51078 8.62 7374.63513 6.825 7375.24554 4.977 7375.24358 4.651 7375.24259 4.325 7375.22388 4 7375.18549 5.877 7376.37088 8.06 7377 10.29 7376.99705" id="twitter-[#154]"/></g></g></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><span>é¦–é¡µ</span></a></li><li><a href=/links/><span>ç½‘ç«™</span></a></li><li><a href=/linux/><span>Linux</span></a></li><li><a href=/docker/><span>docker</span></a></li><li><a href=/k8s/><span>k8s</span></a></li><li><a href=/mysql/><span>mysql</span></a></li><li><a href=/project/><span>é¡¹ç›®</span></a></li><li><a href=/kali/><span>kali</span></a></li><li><a href=/ubuntu/><span>ubuntu</span></a></li><li><a href=/utility/><span>Utility</span></a></li><li><a href=/about/><span>å…³äº</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=http://localhost:1313/ selected>ä¸­æ–‡</option><option value=http://localhost:1313/en/>English</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><ol><li><a href=#4-å¤šè¡¨è¿æ¥-joins>4. å¤šè¡¨è¿æ¥ (Joins)</a></li><li><a href=#5-è¡¨ç»“æ„ç®¡ç†-ddl>5. è¡¨ç»“æ„ç®¡ç† (DDL)</a></li><li><a href=#6-è¿›é˜¶é»‘ç§‘æŠ€-advanced>6. è¿›é˜¶é»‘ç§‘æŠ€ (Advanced)</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category></header><div class=article-title-wrapper><h2 class=article-title><a href=/mysql/mysql-sql%E8%AF%AD%E5%8F%A5/>MySQL SQLè¯­å¥</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2025-12-08</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 11 åˆ†é’Ÿ</time></div></footer></div></header><section class=article-content><p>MySQL SQLè¯­å¥</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ä¸­æ–‡   è‹±æ–‡å¯¹åº”ï¼ˆCRUDï¼‰  SQLå‘½ä»¤       ä½œç”¨
</span></span><span class=line><span class=cl>å¢         create        INSERT       å¾€è¡¨ä¸­æ·»åŠ æ–°çš„æ•°æ®è¡Œ
</span></span><span class=line><span class=cl>åˆ          delete       DELETE       ç§»é™¤è¡¨ä¸­çš„æ•°æ®
</span></span><span class=line><span class=cl>æ”¹         update       UPDATE       ä¿®æ”¹è¡¨ä¸­å·²å­˜åœ¨çš„æ•°æ®
</span></span><span class=line><span class=cl>æŸ¥         <span class=nb>read</span>         SELECT       ä»è¡¨ç§æ£€ç´¢æ•°æ®
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>å¢<span class=o>(</span>Create<span class=o>)</span>- INSERT
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>INSERT INTO è¡¨å ï¼ˆåˆ—1ï¼Œåˆ—2ï¼‰ VALUES ï¼ˆå€¼1ï¼Œå€¼2ï¼‰<span class=p>;</span>
</span></span><span class=line><span class=cl>Â·å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚åå­—ï¼‰ï¼Œéœ€è¦ç”¨å•å¼•å·<span class=s1>&#39;&#39;</span>åŒ…èµ·æ¥
</span></span><span class=line><span class=cl>Â·å¦‚æœæ˜¯æ•°å­—ï¼ˆæ¯”å¦‚åˆ†æ•°ï¼‰ï¼Œç›´æ¥å†™å°±å¥½
</span></span><span class=line><span class=cl>SQLéœ€è¦å…ˆçŸ¥é“ä½ è¦å¾€é‚£äº›â€œåˆ—â€å¡«æ•°æ®ï¼Œç„¶åå†å‘Šè¯‰å®ƒå…·ä½“çš„â€œå€¼â€æ˜¯ä»€ä¹ˆ
</span></span><span class=line><span class=cl>ä¾‹1ï¼šå¦‚æœæƒ³å¾€student_scoresè¡¨é‡Œæ·»åŠ ä¸€ä¸ªåå«<span class=s1>&#39;å¼ ä¸‰&#39;</span>,åˆ†æ•°ä¸º90çš„å­¦ç”Ÿï¼Œæ€ä¹ˆå†™SQLè¯­å¥ï¼Ÿ
</span></span><span class=line><span class=cl>  INSERT INTO student_scores <span class=o>(</span>name,score<span class=o>)</span> VALUES ï¼ˆ<span class=s1>&#39;å¼ ä¸‰&#39;</span>ï¼Œ90ï¼‰ï¼›
</span></span><span class=line><span class=cl>  
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>æŸ¥<span class=o>(</span>Read<span class=o>)</span>-SELECT
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>SELECT ä½ æƒ³è¦çš„åˆ— FROM è¡¨åï¼›
</span></span><span class=line><span class=cl>Â· *:è¿™ä¸ª*å°±æ˜¯ä¸€ä¸ªé€šé…ç¬¦ï¼Œå‘Šè¯‰æ•°æ®åº“ï¼šâ€œæˆ‘ä¸æŒ‘ï¼ŒæŠŠè¿™ä¸ªè¡¨é‡Œçš„åˆ—å…¨ç»™æˆ‘æ‹¿å‡ºæ¥ï¼â€
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>SELECT * FROM è¡¨æ˜ WHERE <span class=nv>åˆ—å</span> <span class=o>=</span> å€¼<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹1ï¼šåˆ©ç”¨WHEREå­å¥ï¼Œå†™ä¸€æ¡SQLè¯­å¥ï¼ŒåªæŠŠ<span class=s1>&#39;å¼ ä¸‰&#39;</span>è¿™ä¸€è¡Œæ•°æ®æŸ¥å‡ºæ¥
</span></span><span class=line><span class=cl>SELECT * FROM student_scores WHERE <span class=nv>name</span> <span class=o>=</span> <span class=s1>&#39;å¼ ä¸‰&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>æ’åº
</span></span><span class=line><span class=cl>SELECT * FROM è¡¨å ORDER BY åˆ—å æ’åºè§„åˆ™ï¼›
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Â· æ’åºè§„åˆ™æœ‰ä¸¤ç§ï¼š
</span></span><span class=line><span class=cl> Â· ASCï¼šå‡åºï¼Œä»å°åˆ°å¤§ï¼ˆé»˜è®¤å°±æ˜¯è¿™ä¸ªï¼Œå¯ä»¥ä¸å†™ä¹Ÿè¡Œï¼‰
</span></span><span class=line><span class=cl> Â· DESCï¼šé™åºï¼Œä»å¤§åˆ°å°
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl> ä¾‹2ï¼šæˆ‘ä»¬è¦æ‰“å°ä¸€ä»½æˆç»©å•æ’åè¡¨ï¼Œè¦æ±‚åˆ†æ•°ä»é«˜åˆ°ä½æ’åˆ—ï¼Œå†™å‡ºè¿™æ¡SQLè¯­å¥
</span></span><span class=line><span class=cl> SELECT * FROM student_scores ORDER BY score DESC<span class=p>;</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>é™åˆ¶æ•°é‡
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl> SELECT * FROM è¡¨å LIMIT æ•°é‡ï¼›
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl> ä¾‹3ï¼šå†™ä¸€æ¡SQLï¼Œåªæ˜¾ç¤ºåˆ†æ•°æœ€é«˜çš„3ä½
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl> SELECT * FORM student_scores ORDER BY score DESC LIMIT 3<span class=p>;</span>
</span></span><span class=line><span class=cl> Â· ORDER BY score DESC:å…ˆæŠŠæ‰€æœ‰åŒå­¦æŒ‰åˆ†æ•°ä»é«˜åˆ°ä½æ’å¥½é˜Ÿ
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>æ¨¡ç³ŠæŸ¥è¯¢ LIKE
</span></span><span class=line><span class=cl>æœ‰æ—¶å€™æˆ‘ä»¬æŸ¥è¯¢æŸä¸€ç±»æ•°æ®ï¼Œè®°ä¸èµ·æ¥å…·ä½“æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨ç®¡<span class=o>=</span>å·ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨LIKEæ“ä½œç¬¦ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é…åˆLIKEä½¿ç”¨çš„ç™¾åˆ†å·%ï¼Œå®ƒ%ä»£è¡¨â€œä»»æ„å¤šä¸ªå­—ç¬¦â€
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹4ï¼šæŸ¥æ‰¾å‡ºæ‰€æœ‰å§“â€œå¼ â€çš„åŒå­¦
</span></span><span class=line><span class=cl>SELECT * FROM student_scores WHERE name LIKE <span class=s1>&#39;å¼ %&#39;</span>ï¼›
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>åˆ†ç»„
</span></span><span class=line><span class=cl>GROUP BYçš„ä½œç”¨å°±æ˜¯æŠŠåŸæœ¬æ•£ä¹±çš„æ¯ä¸€è¡Œæ•°æ®ï¼ŒæŒ‰ç…§ä½ æŒ‡å®šçš„åˆ—ï¼Œâ€œæâ€åœ¨ä¸€èµ·
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>SELECT ç±»åˆ«åˆ—ï¼Œèšåˆå‡½æ•°ï¼ˆç»Ÿè®¡åˆ—ï¼‰
</span></span><span class=line><span class=cl>FROM è¡¨å
</span></span><span class=line><span class=cl>GROUP BY ç±»åˆ«åˆ—ï¼›
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹5ï¼šç®—å‡ºæ¯ä¸ªç­çº§çš„å¹³å‡æ•°
</span></span><span class=line><span class=cl>SELECT class,AVG<span class=o>(</span>score<span class=o>)</span> FROM student_scores GROUP BY class<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>åˆ†ç»„åçš„è¿‡æ»¤ï¼ˆHAVING<span class=o>)</span>
</span></span><span class=line><span class=cl>SELECT ç±»åˆ«åˆ—ï¼Œèšåˆå‡½æ•°ï¼ˆç»Ÿè®¡åˆ—ï¼‰
</span></span><span class=line><span class=cl>FROM è¡¨å
</span></span><span class=line><span class=cl>GROUP BY ç±»åˆ«åˆ—
</span></span><span class=line><span class=cl>HAVING èšåˆå‡½æ•°ï¼ˆç»Ÿè®¡åˆ—ï¼‰&gt; å€¼ï¼›
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>å‡¡æ˜¯è¡¨é‡Œæœ¬æ¥å°±æœ‰åˆ—ï¼Œç”¨WHEREç­›ï¼›å‡¡æ˜¯åæ¥ç®—å‡ºæ¥çš„ç»“æœï¼ˆæ¯”å¦‚å¹³å‡æ•°ã€æ€»æ•°ï¼‰ï¼Œç”¨HAVINGç­›ã€‚
</span></span><span class=line><span class=cl>ä¾‹6ï¼šåªæ˜¾ç¤ºå¹³å‡åˆ†ï¼ˆAVGï¼ˆscore<span class=o>))</span>å¤§äº85çš„ç­çº§
</span></span><span class=line><span class=cl>SELECT classï¼ŒAVGï¼ˆscoreï¼‰FROM student_scores GROUP BY class HAVING AVG<span class=o>(</span>score<span class=o>)</span> &gt; 85<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>å¤šè¡¨æŸ¥è¯¢
</span></span><span class=line><span class=cl>INNER JOIN ï¼ˆå†…è¿æ¥ï¼‰
</span></span><span class=line><span class=cl>INNER JOINå°±åƒæŠŠä¸¤å¼ è¡¨æ‹¿æ¥å¯¹æš—å·ï¼Œåªæœ‰å½“ä¸¤å¼ è¡¨çš„å…³è”å­—æ®µèƒ½å¯¹ä¸Šå·æ—¶ï¼Œå®ƒæ‰ä¼šæŠŠè¿™ä¸€è¡Œæ•°æ®æ‹¼åœ¨ä¸€èµ·ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>SELECT è¡¨1.åˆ—åï¼Œè¡¨2.åˆ—å
</span></span><span class=line><span class=cl>FROM è¡¨1
</span></span><span class=line><span class=cl>INNER JOIN è¡¨2
</span></span><span class=line><span class=cl>ON è¡¨1.å…³è”åˆ— <span class=o>=</span> è¡¨2.å…³è”åˆ—ï¼›
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹7ï¼šå°† students è¡¨å’Œ classes è¡¨è¿æ¥èµ·æ¥ã€‚ å…³è”æ¡ä»¶æ˜¯ï¼šstudents è¡¨çš„ class_id ç­‰äº classes è¡¨çš„ idã€‚ æˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„ç»“æœæ˜¯ï¼šstudents.name å’Œ classes.teacher
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>SELECT students.name,classes.teacher FROM students INNER JOIN classes ON students.class_id <span class=o>=</span> classes.id<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>å·¦è¿æ¥ï¼ˆLEFT JOIN<span class=o>)</span>
</span></span><span class=line><span class=cl>å·¦è¾¹çš„è¡¨ï¼ˆä¸»è¡¨ï¼‰æœ€å¤§ï¼Œä¸ç®¡å³è¾¹æœ‰æ²¡æœ‰å¯¹åº”çš„ï¼Œå·¦è¾¹çš„éƒ½è¦å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>SELECT students.name, classes.teacher
</span></span><span class=line><span class=cl>FROM students  -- ğŸ‘ˆ è¿™æ˜¯å·¦è¡¨
</span></span><span class=line><span class=cl>LEFT JOIN classes -- ğŸ‘‰ è¿™æ˜¯å³è¡¨
</span></span><span class=line><span class=cl>ON students.class_id <span class=o>=</span> classes.id<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹8ï¼šè¯·ä½ ç›´æ¥å¤åˆ¶ä¸Šé¢çš„è¯­æ³•æ€è·¯ï¼Œå†™å‡ºè¿™æ¡ LEFT JOIN è¯­å¥ã€‚ æƒ³ä¸€æƒ³ï¼ŒæŸ¥è¯¢ç»“æœé‡Œï¼Œ<span class=s1>&#39;å°æ˜&#39;</span> çš„ teacher é‚£ä¸€æ ä¼šæ˜¾ç¤ºä»€ä¹ˆï¼Ÿï¼ˆå¯ä»¥çŒœä¸€ä¸‹ï¼‰
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>åœ¨æ•°æ®åº“ä¸­ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ•°æ®ï¼Œè¯¥ä½ç½®å°±ä¼šæ˜¾ç¤ºä¸º NULLï¼ˆç©ºå€¼ï¼‰
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>æ”¹ï¼ˆUpdateï¼‰- UPDATE
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>UPDATE è¡¨å SET <span class=nv>è¦ä¿®æ”¹çš„åˆ—</span> <span class=o>=</span> æ–°å€¼ WHERE <span class=nv>æ¡ä»¶åˆ—</span> <span class=o>=</span> æŸå€¼<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹1ï¼šå¸®<span class=s1>&#39;å¼ ä¸‰&#39;</span>è¯¥åˆ†æ•°ï¼Œå†™ä¸€æ¡SQLè¯­å¥ï¼Œå°†student_scoresè¡¨ä¸­ï¼Œå‘½ä»¤æ˜¯<span class=s1>&#39;å¼ ä¸‰&#39;</span>çš„é‚£ä¸€è¡Œï¼Œscoreä¿®æ”¹ä¸º95
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>UPDATE student_scores SET <span class=nv>score</span> <span class=o>=</span> <span class=m>95</span> WHERE <span class=nv>name</span> <span class=o>=</span> <span class=s1>&#39;å¼ ä¸‰&#39;</span>ï¼›
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>åˆ <span class=o>(</span>Delete<span class=o>)</span>- DELETE
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>DELETE FROM è¡¨å WHERE <span class=nv>æ¡ä»¶åˆ—</span> <span class=o>=</span> æŸå€¼<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹1ï¼šå†™ä¸€æ¡SQLè¯­å¥ï¼Œå®‰å…¨åœ°å°†<span class=s1>&#39;æå››&#39;</span>ä»student_scoresè¡¨ä¸­åˆ é™¤
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>DELETE FROM student_scores WHERE <span class=nv>name</span> <span class=o>=</span> <span class=s1>&#39;æå››&#39;</span>ï¼›
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>
</span></span><span class=line><span class=cl>å»ºè¡¨
</span></span><span class=line><span class=cl>åœ¨ SQL ä¸­ï¼Œåˆ›å»ºæ–°è¡¨ä½¿ç”¨ CREATE TABLE å‘½ä»¤ã€‚è¿™å°±å¥½æ¯”ä½ åœ¨ Excel é‡Œæ–°å»ºä¸€ä¸ª Sheetï¼Œå¹¶ä¸”è§„å®šå¥½æ¯ä¸€åˆ—å«ä»€ä¹ˆåå­—ï¼Œåªèƒ½å¡«ä»€ä¹ˆç±»å‹çš„æ•°æ®ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ç¬¬ä¸€æ­¥ï¼šè®¤è¯†â€œåŸææ–™â€ <span class=o>(</span>æ•°æ®ç±»å‹<span class=o>)</span>
</span></span><span class=line><span class=cl>åœ¨é€ è¡¨ä¹‹å‰ï¼Œä½ å¿…é¡»å‘Šè¯‰æ•°æ®åº“ï¼Œæ¯ä¸€åˆ—å°†æ¥è¦å­˜ä»€ä¹ˆæ ·çš„æ•°æ®ã€‚MySQL é‡Œæœ€å¸¸ç”¨çš„ä¸‰ç§ç±»å‹æ˜¯ï¼š
</span></span><span class=line><span class=cl>INTï¼šæ•´æ•°ã€‚ç”¨æ¥å­˜ IDã€å¹´é¾„ã€æ•°é‡ã€‚ï¼ˆä¾‹å¦‚ï¼š101, 25ï¼‰
</span></span><span class=line><span class=cl>VARCHAR<span class=o>(</span>n<span class=o>)</span>ï¼šå¯å˜é•¿åº¦å­—ç¬¦ä¸²ã€‚ç”¨æ¥å­˜åå­—ã€é‚®ç®±ã€åœ°å€ã€‚
</span></span><span class=line><span class=cl>n ä»£è¡¨æœ€å¤§é•¿åº¦ã€‚æ¯”å¦‚ VARCHAR<span class=o>(</span>50<span class=o>)</span> æ„æ€æ˜¯æœ€å¤šå­˜ <span class=m>50</span> ä¸ªå­—ç¬¦ã€‚
</span></span><span class=line><span class=cl>DATEï¼šæ—¥æœŸã€‚ç”¨æ¥å­˜ç”Ÿæ—¥ã€å…¥èŒæ—¶é—´ã€‚ï¼ˆä¾‹å¦‚ï¼š<span class=s1>&#39;2023-01-01&#39;</span>ï¼‰
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ç¬¬äºŒæ­¥ï¼šç¡®ç«‹â€œèº«ä»½è¯â€ <span class=o>(</span>ä¸»é”® PRIMARY KEY<span class=o>)</span> ğŸ”‘
</span></span><span class=line><span class=cl>è¿™æ˜¯å»ºè¡¨æ—¶æœ€é‡è¦çš„æ¦‚å¿µï¼
</span></span><span class=line><span class=cl>æ¯ä¸€å¼ è¡¨æœ€å¥½éƒ½æœ‰ä¸€ä¸ªä¸»é”® <span class=o>(</span>Primary Key<span class=o>)</span>ã€‚å®ƒæ˜¯æ¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚
</span></span><span class=line><span class=cl>å°±åƒæ¯ä¸ªå…¬æ°‘éƒ½æœ‰å”¯ä¸€çš„èº«ä»½è¯å·ã€‚
</span></span><span class=line><span class=cl>è§„åˆ™ï¼šä¸»é”®çš„å€¼ä¸èƒ½é‡å¤ï¼Œä¹Ÿä¸èƒ½ä¸ºç©ºã€‚
</span></span><span class=line><span class=cl>é€šå¸¸æˆ‘ä»¬ä¼šæŠŠ id åˆ—è®¾ä¸ºä¸»é”®ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CREATE TABLE è¡¨å <span class=o>(</span>
</span></span><span class=line><span class=cl>    åˆ—å1 æ•°æ®ç±»å‹,
</span></span><span class=line><span class=cl>    åˆ—å2 æ•°æ®ç±»å‹,
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl>    PRIMARY KEY <span class=o>(</span>ä¸»é”®åˆ—å<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹1ï¼šè¯·ä½ è®¾è®¡ä¸€å¼ å…¨æ–°çš„ students è¡¨ï¼Œè¦æ±‚åŒ…å«ä»¥ä¸‹ä¸‰åˆ—ï¼š
</span></span><span class=line><span class=cl>idï¼šç±»å‹æ˜¯ INTï¼ˆè¿™æ˜¯ä¸»é”®ï¼ï¼‰ã€‚
</span></span><span class=line><span class=cl>nameï¼šç±»å‹æ˜¯ VARCHAR<span class=o>(</span>50<span class=o>)</span>ï¼ˆåå­—æœ€é•¿ <span class=m>50</span> ä¸ªå­—è¶³å¤Ÿäº†ï¼‰ã€‚
</span></span><span class=line><span class=cl>ageï¼šç±»å‹æ˜¯ INTã€‚
</span></span><span class=line><span class=cl>è¯·å°è¯•å†™å‡ºå®Œæ•´çš„ SQL è¯­å¥ï¼ <span class=o>(</span>æç¤ºï¼šæ³¨æ„æ‹¬å·çš„ä½ç½®ï¼Œæœ€ååˆ«å¿˜äº†åˆ†å·<span class=o>)</span>
</span></span><span class=line><span class=cl>CREATE TABLE students <span class=o>(</span>  id INT, name VARCHAR<span class=o>(</span>50<span class=o>)</span>, age INT, PRIMARY KEY <span class=o>(</span>id<span class=o>)</span> <span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹2ï¼šè®¾è®¡ teachers è¡¨
</span></span><span class=line><span class=cl>ç°åœ¨è¯·ä½ åˆ©ç”¨è¿™ä¸¤ä¸ªæ–°æ­¦å™¨ï¼Œè®¾è®¡ä¸€å¼ æ›´å®Œç¾çš„ teachers <span class=o>(</span>æ•™å¸ˆè¡¨<span class=o>)</span>ã€‚
</span></span><span class=line><span class=cl>è¦æ±‚ï¼š
</span></span><span class=line><span class=cl>idï¼šç±»å‹ INTï¼Œä¸ä»…æ˜¯ ä¸»é”®ï¼Œè¿˜è¦èƒ½ è‡ªåŠ¨å¢é•¿ <span class=o>(</span>AUTO_INCREMENT<span class=o>)</span>ã€‚
</span></span><span class=line><span class=cl>nameï¼šç±»å‹ VARCHAR<span class=o>(</span>30<span class=o>)</span>ï¼Œå¹¶ä¸” ä¸å…è®¸ä¸ºç©º <span class=o>(</span>NOT NULL<span class=o>)</span>ã€‚
</span></span><span class=line><span class=cl>subject <span class=o>(</span>ç§‘ç›®<span class=o>)</span>ï¼šç±»å‹ VARCHAR<span class=o>(</span>20<span class=o>)</span>ï¼Œè¿™ä¸ªå…è®¸ä¸ºç©ºï¼ˆå¯èƒ½åˆšå…¥èŒè¿˜æ²¡å®šæ•™å•¥ï¼‰ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>åˆ—å æ•°æ®ç±»å‹ NOT NULL AUTO_INCREMENT
</span></span><span class=line><span class=cl><span class=o>(</span>æ³¨æ„ï¼šAUTO_INCREMENTé€šå¸¸åªç”¨äºä¸»é”®<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CREATE TABLE teachers <span class=o>(</span>
</span></span><span class=line><span class=cl>    id INT AUTO_INCREMENT,      -- 1. id æ˜¯æ•´æ•°ï¼Œä¸”è‡ªåŠ¨å¢é•¿
</span></span><span class=line><span class=cl>    name VARCHAR<span class=o>(</span>30<span class=o>)</span> NOT NULL,  -- 2. name æ˜¯å­—ç¬¦ä¸²ï¼Œä¸”ä¸èƒ½ä¸ºç©º
</span></span><span class=line><span class=cl>    subject VARCHAR<span class=o>(</span>20<span class=o>)</span>,        -- 3. subject æ˜¯å­—ç¬¦ä¸²ï¼Œå…è®¸ä¸ºç©ºï¼ˆé»˜è®¤ï¼‰
</span></span><span class=line><span class=cl>    PRIMARY KEY <span class=o>(</span>id<span class=o>)</span>            -- 4. æŒ‡å®š id ä¸ºä¸»é”®
</span></span><span class=line><span class=cl><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>åˆ è¡¨
</span></span><span class=line><span class=cl>DROP TABLE è¡¨å<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹3ï¼šå‡è®¾åˆšæ‰å»ºç«‹çš„ students è¡¨è®¾è®¡å¾—ä¸å¥½ï¼Œæˆ‘ä»¬è¦æŠŠå®ƒåˆ æ‰é‡æ¥ã€‚ è¯·å†™å‡ºåˆ é™¤ students è¡¨çš„è¯­å¥ã€‚
</span></span><span class=line><span class=cl>DROP TABLE students<span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>åˆ›å»ºç´¢å¼•
</span></span><span class=line><span class=cl>ç´¢å¼•å°±ç›¸å½“äºå­—æ®µçš„ç›®å½•
</span></span><span class=line><span class=cl>æ³¨æ„ï¼šç´¢å¼•ä¹Ÿæ˜¯æ•°æ®ï¼Œéœ€è¦å ç”¨ç¡¬ç›˜ç©ºé—´ï¼Œå½“ä½ INSERTã€UPDATEã€DELETEæ•°æ®æ—¶ï¼Œæ•°æ®åº“ä¸ä»…è¦ä¿®æ”¹åŸæ•°æ®ï¼Œè¿˜è¦å»ä¿®æ”¹æ‰€æœ‰çš„ç´¢å¼•ç›®å½•ï¼Œç´¢å¼•è¶Šå¤šï¼Œå†™å…¥é€Ÿåº¦è¶Šæ…¢ã€‚
</span></span><span class=line><span class=cl>åªç»™ç»å¸¸å‡ºç°åœ¨WHERE åé¢çš„åˆ—ï¼Œæˆ–è€…ç»å¸¸ç”¨æ¥æ’åºï¼ˆORDER BY<span class=o>)</span>çš„åˆ—åŠ ç´¢å¼•ã€‚
</span></span><span class=line><span class=cl>ä¾‹å‡è®¾æˆ‘ä»¬çš„ students è¡¨é‡Œæœ‰ <span class=m>100</span> ä¸‡ ä¸ªå­¦ç”Ÿã€‚æ ¡é•¿ç»å¸¸æŸ¥æŸä¸ªåå­—ï¼Œæ¯”å¦‚ï¼š
</span></span><span class=line><span class=cl>SELECT * FROM students WHERE <span class=nv>name</span> <span class=o>=</span> <span class=s1>&#39;å¼ ä¸‰&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>å¦‚æœæ²¡æœ‰å¤šå› ï¼Œæ•°æ®åº“ä¼šæŠŠ100ä¸‡è¡Œå…¨éƒ½çœ‹ä¸€é
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¼˜åŒ–æ–¹æ¡ˆï¼šç»™nameåˆ—åŠ ä¸€ä¸ªç´¢å¼•
</span></span><span class=line><span class=cl>CREATE INDEX ç´¢å¼•å ON è¡¨å <span class=o>(</span>åˆ—å<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>ï¼ˆæ³¨æ„ï¼šç´¢å¼•åé€šå¸¸ä»¥idx_å¼€å¤´ï¼Œæ–¹ä¾¿è¯†åˆ«ï¼‰
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹1ï¼šä¸º students è¡¨çš„ name åˆ—åˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼Œç´¢å¼•åå­—å« idx_name
</span></span><span class=line><span class=cl>CREATE INDEX idx_name ON students <span class=o>(</span>name<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>åˆ é™¤ç´¢å¼•
</span></span><span class=line><span class=cl>DROP INDEX ç´¢å¼•å ON è¡¨å<span class=p>;</span>
</span></span><span class=line><span class=cl>ä¾‹2:åˆ é™¤ students è¡¨ä¸Šçš„ idx_name ç´¢å¼•
</span></span><span class=line><span class=cl>DROP INDEX idx_name ON students<span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>åŠ è£…ï¼ˆADDï¼‰
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ALTER TABLE è¡¨å ADD æ–°åˆ—å æ•°æ®ç±»å‹<span class=p>;</span>
</span></span><span class=line><span class=cl>ä¾‹1ï¼šç»™ students è¡¨æ–°å¢ä¸€åˆ— genderï¼Œæ•°æ®ç±»å‹æ˜¯ VARCHAR<span class=o>(</span>4<span class=o>)</span>ï¼ˆå­˜â€œç”·â€æˆ–â€œå¥³â€è¶³å¤Ÿäº†ï¼‰
</span></span><span class=line><span class=cl>ALTER TABLE students ADD gender VARCHAR<span class=o>(</span>4<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>æ”¹é€ ï¼ˆMODIFYï¼‰
</span></span><span class=line><span class=cl>ALTER TABLE è¡¨å MODIFY åˆ—å æ–°çš„æ•°æ®ç±»å‹<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹2ï¼šå°† students è¡¨çš„ name åˆ—ä¿®æ”¹ä¸º VARCHAR<span class=o>(</span>100<span class=o>)</span>ï¼Œè®©å®ƒèƒ½å®¹çº³æ›´é•¿çš„åå­—
</span></span><span class=line><span class=cl>ALTER TABLE students MODIFY name VARCHAR<span class=o>(</span>100<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>æ‹†é™¤ï¼ˆDROPï¼‰
</span></span><span class=line><span class=cl>ALTER TABLE è¡¨å DROP COLUMN åˆ—å<span class=p>;</span>
</span></span><span class=line><span class=cl>ä¾‹3ï¼šè¯·å†™ä¸€æ¡ SQL è¯­å¥ï¼Œä» students è¡¨ä¸­å½»åº•åˆ é™¤ age è¿™ä¸€åˆ—
</span></span><span class=line><span class=cl>ALTER TABLE students DROP COLUMN age<span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>é€»è¾‘æ‰§è¡Œé¡ºåºï¼š
</span></span><span class=line><span class=cl>å…ˆæ‰§è¡Œæ‹¬å·é‡Œçš„ï¼ˆå†…å±‚æŸ¥è¯¢ï¼‰ï¼Œå†æ‰§è¡Œï¼ˆå¤–é¢æŸ¥è¯¢ï¼‰
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>æ ‡é‡å­æŸ¥è¯¢ï¼ˆè¿”å›ä¸€ä¸ªå€¼ï¼‰
</span></span><span class=line><span class=cl>ä¾‹1ï¼šå‡è®¾æˆ‘ä»¬æœ‰ä¸€å¼  products <span class=o>(</span>å•†å“è¡¨<span class=o>)</span>ï¼Œé‡Œé¢æœ‰ name <span class=o>(</span>å•†å“å<span class=o>)</span> å’Œ price <span class=o>(</span>ä»·æ ¼<span class=o>)</span>ã€‚
</span></span><span class=line><span class=cl>ä»»åŠ¡ï¼š è¯·å†™ä¸€æ¡ SQL è¯­å¥ï¼Œæ‰¾å‡ºæ‰€æœ‰ ä»·æ ¼é«˜äºâ€œç”µè§†æœºâ€ çš„å•†å“ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>æç¤ºæ€è·¯ï¼š
</span></span><span class=line><span class=cl>æˆ‘ä¸çŸ¥é“â€œç”µè§†æœºâ€å¤šå°‘é’±ï¼Œæ‰€ä»¥è¦å…ˆæŸ¥ç”µè§†æœºçš„ä»·æ ¼ï¼š<span class=o>(</span>SELECT price FROM products WHERE <span class=nv>name</span> <span class=o>=</span> <span class=s1>&#39;ç”µè§†æœº&#39;</span><span class=o>)</span>ã€‚
</span></span><span class=line><span class=cl>æŠŠè¿™ä¸ªæ‹¬å·æ”¾åˆ° WHERE åé¢å»æ¯”è¾ƒã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>SELECT * FROM products
</span></span><span class=line><span class=cl>WHERE price &gt; <span class=o>(</span>SELECT price FROM products WHERE <span class=nv>name</span> <span class=o>=</span> <span class=s1>&#39;ç”µè§†æœº&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#2ï¼šåˆ—è¡¨å­æŸ¥è¯¢ (IN)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>åˆšæ‰é‚£ä¸ªä¾‹å­ï¼Œå†…å±‚æŸ¥è¯¢åªè¿”å›äº†ä¸€ä¸ªæ•°å­—ï¼ˆç”µè§†æœºçš„ä»·æ ¼ï¼‰ã€‚
</span></span><span class=line><span class=cl>ä½†å¦‚æœå†…å±‚æŸ¥è¯¢è¿”å›äº†ä¸€å †æ•°æ®ï¼Œæ€ä¹ˆåŠï¼Ÿ
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>æˆ‘ä»¬è¦æ‰¾å‡ºæ‰€æœ‰å±äºâ€œè‰ºæœ¯ç³»â€çš„å­¦ç”Ÿã€‚
</span></span><span class=line><span class=cl>æˆ‘ä»¬æœ‰ä¸¤å¼ è¡¨ï¼š
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>1. studentsï¼š<span class=o>(</span>id, name, class<span class=se>\_</span>id<span class=o>)</span>
</span></span><span class=line><span class=cl>2. classesï¼š<span class=o>(</span>id, department<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>æ€è·¯ï¼š
</span></span><span class=line><span class=cl>1.å†…å±‚ï¼šå…ˆä» classes è¡¨é‡Œï¼Œæ‰¾å‡ºæ‰€æœ‰å±äº <span class=s1>&#39;è‰ºæœ¯ç³»&#39;</span>çš„ç­çº§ IDã€‚ï¼ˆå¯èƒ½æœ‰å¥½å‡ ä¸ªç­ï¼Œæ¯”å¦‚ 101, 102, 105...ï¼‰
</span></span><span class=line><span class=cl>2.å¤–å±‚ï¼šåœ¨ studentsè¡¨é‡Œï¼Œæ‰¾å‡ºclass_idåœ¨è¿™ä¸ªåˆ—è¡¨é‡Œçš„å­¦ç”Ÿã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>è¿™æ—¶å€™ï¼Œä¸èƒ½ç”¨ <span class=sb>`</span><span class=o>=</span><span class=sb>`</span>ï¼ˆç­‰äºï¼‰ï¼Œå› ä¸ºç­‰äºå·ä¸€æ¬¡åªèƒ½å¯¹ä¸€ä¸ªæ•°ã€‚
</span></span><span class=line><span class=cl>æˆ‘ä»¬è¦ç”¨ INï¼ˆåœ¨...é‡Œé¢ï¼‰ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>è¯­æ³•ç»“æ„ï¼š
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>SELECT ... FROM ...
</span></span><span class=line><span class=cl>WHERE å…³è”åˆ— IN <span class=o>(</span>SELECT å…³è”åˆ— FROM ... WHERE ...<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹2ï¼šè¯·å†™å‡ºæŸ¥è¯¢è¯­å¥ï¼Œæ‰¾å‡º <span class=sb>`</span>class_id<span class=sb>`</span> å±äº <span class=o>(</span>ä» classes è¡¨æŸ¥å‡ºçš„ <span class=s1>&#39;è‰ºæœ¯ç³»&#39;</span> çš„ id<span class=o>)</span> çš„æ‰€æœ‰å­¦ç”Ÿå§“åã€‚
</span></span><span class=line><span class=cl><span class=o>(</span>æç¤ºï¼šå¤–å±‚æŸ¥ studentsï¼Œå†…å±‚æŸ¥ classes<span class=o>)</span>
</span></span><span class=line><span class=cl>SELECT * FROM students
</span></span><span class=line><span class=cl>WHERE class_id IN <span class=o>(</span>
</span></span><span class=line><span class=cl>    SELECT id             -- 1. æˆ‘ä»¬è¦æŠŠç­çº§çš„ ID æ‹¿å‡ºæ¥
</span></span><span class=line><span class=cl>    FROM classes
</span></span><span class=line><span class=cl>    WHERE <span class=nv>department</span> <span class=o>=</span> <span class=s1>&#39;è‰ºæœ¯ç³»&#39;</span> -- 2. ç­›é€‰æ¡ä»¶æ˜¯éƒ¨é—¨åç§°
</span></span><span class=line><span class=cl><span class=o>)</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>å®‰å…¨é” (Foreign Keys) 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>åœºæ™¯å±æœºï¼š
</span></span><span class=line><span class=cl>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæœ‰ç²—å¿ƒçš„å‘˜å·¥å¾€ studentsè¡¨é‡Œå½•å…¥äº†ä¸€ä¸ªå­¦ç”Ÿï¼Œå¡«å†™çš„ class_idæ˜¯ 999ã€‚
</span></span><span class=line><span class=cl>å¯æ˜¯ï¼classesè¡¨é‡Œæ ¹æœ¬å°±æ²¡æœ‰ 999 ç­ï¼
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  * è¿™å°±å« â€œè„æ•°æ®â€
</span></span><span class=line><span class=cl>  * å¦‚æœè¿™ç§æ•°æ®å¤šäº†ï¼Œä½ çš„JOINæŸ¥è¯¢å°±ä¼šå¤±æ•ˆï¼ˆå› ä¸ºè¿ä¸ä¸Šï¼‰ï¼ŒæŠ¥è¡¨å°±ä¼šå‡ºé”™ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>è§£å†³æ–¹æ¡ˆï¼šå¤–é”®çº¦æŸ (FOREIGN KEY)
</span></span><span class=line><span class=cl>å¤–é”®å°±åƒä¸€æ¡æ— å½¢çš„é“¾å­ï¼ŒæŠŠ studentsè¡¨çš„class_idç‰¢ç‰¢åœ°é”åœ¨classesè¡¨çš„idä¸Šã€‚
</span></span><span class=line><span class=cl>  * è§„åˆ™ï¼šä½ æƒ³åœ¨studentsè¡¨é‡Œå¡« class_idï¼Ÿå¯ä»¥ï¼Œä½†ä½ å¡«çš„è¿™ä¸ªæ•°å­—ï¼Œå¿…é¡»æ˜¯classesè¡¨é‡Œå·²ç»å­˜åœ¨çš„idã€‚å¦åˆ™ï¼Œæ•°æ®åº“ç›´æ¥æŠ¥é”™ï¼Œæ‹’ç»å½•å…¥ï¼
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>è¯­æ³•ç»“æ„ï¼ˆåœ¨å»ºè¡¨æ—¶ä½¿ç”¨ï¼‰
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CREATE TABLE students (
</span></span><span class=line><span class=cl>    id INT PRIMARY KEY,
</span></span><span class=line><span class=cl>    name VARCHAR(50),
</span></span><span class=line><span class=cl>    class_id INT,
</span></span><span class=line><span class=cl>    -- ä¸‹é¢è¿™å¥æ˜¯é‡ç‚¹ï¼š
</span></span><span class=line><span class=cl>    FOREIGN KEY (class_id) REFERENCES classes(id)
</span></span><span class=line><span class=cl>);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  * FOREIGN KEY (class_id)ï¼šæŒ‡å®šå½“å‰è¡¨å“ªä¸€åˆ—æ˜¯å¤–é”®ã€‚
</span></span><span class=line><span class=cl>  * REFERENCES classes(id)ï¼šæŒ‡å®šå®ƒâ€œå¼•ç”¨â€æˆ–è€…æ˜¯â€œä¾èµ–â€å“ªå¼ è¡¨çš„å“ªä¸€åˆ—ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä¾‹1ï¼šç°åœ¨ï¼Œè¯·ä½ ä½œä¸ºé¦–å¸­æ•°æ®åº“æ¶æ„å¸ˆï¼Œè®¾è®¡ä¸€å¼ orders(è®¢å•è¡¨)
</span></span><span class=line><span class=cl>è¦æ±‚ï¼š
</span></span><span class=line><span class=cl>1.  idï¼šæ•´æ•°ï¼Œä¸»é”®ã€‚
</span></span><span class=line><span class=cl>2.  user_idï¼šæ•´æ•°ã€‚å…³é”®ç‚¹ï¼šè¿™ä¸€åˆ—å¿…é¡»æ˜¯å¤–é”®ï¼Œå…³è”åˆ° usersè¡¨çš„idåˆ—ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œå¿…é¡»æ˜¯å­˜åœ¨çš„ç”¨æˆ·æ‰èƒ½ä¸‹è®¢å•ï¼‰
</span></span><span class=line><span class=cl>è¯·å°è¯•å†™å‡ºè¿™ä¸ªå¸¦æœ‰å¤–é”®çš„ CREATE TABLEè¯­å¥ï¼
</span></span><span class=line><span class=cl>(æç¤ºï¼šFOREIGN KEY (æœ¬è¡¨åˆ—å) REFERENCES å¯¹æ–¹è¡¨å(å¯¹æ–¹åˆ—å))
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CREATE TABLE orders (
</span></span><span class=line><span class=cl>    id INT PRIMARY KEY,
</span></span><span class=line><span class=cl>    user_id INT,       -- ç¬¬ä¸€æ­¥ï¼šå…ˆåˆ›å»ºè¿™ä¸€åˆ—ï¼
</span></span><span class=line><span class=cl>    -- name VARCHAR(50), -- (è¿™ä¸€åˆ—å¯è¦å¯ä¸è¦)
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    -- ç¬¬äºŒæ­¥ï¼šå†ç»™è¿™ä¸€åˆ—åŠ é”
</span></span><span class=line><span class=cl>    FOREIGN KEY (user_id) REFERENCES users(id)
</span></span><span class=line><span class=cl>);
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>æ€»ç»“
</span></span><span class=line><span class=cl><span class=c1># ğŸ“œ MySQL SQL æé€Ÿé€ŸæŸ¥è¡¨ (Cheat Sheet)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>### 1\. åŸºç¡€å››ä»¶å¥— (CRUD)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>æœ€å¸¸ç”¨çš„å¢åˆ æ”¹æŸ¥ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>|</span> æ“ä½œ <span class=p>|</span> è¯­æ³•ç¤ºä¾‹ <span class=p>|</span> è¯´æ˜ <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> :--- <span class=p>|</span> :--- <span class=p>|</span> :--- <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> **å¢ <span class=o>(</span>Create<span class=o>)</span>** <span class=p>|</span> <span class=sb>`</span>INSERT INTO students <span class=o>(</span>name, score<span class=o>)</span> VALUES <span class=o>(</span><span class=s1>&#39;å¼ ä¸‰&#39;</span>, 90<span class=o>)</span><span class=p>;</span><span class=sb>`</span> <span class=p>|</span> è®°å¾—åˆ—åå’Œå€¼è¦ä¸€ä¸€å¯¹åº”ã€‚ <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> **åˆ  <span class=o>(</span>Delete<span class=o>)</span>** <span class=p>|</span> <span class=sb>`</span>DELETE FROM students WHERE <span class=nv>name</span> <span class=o>=</span> <span class=s1>&#39;æå››&#39;</span><span class=p>;</span><span class=sb>`</span> <span class=p>|</span> **è­¦æŠ¥ï¼š** æ²¡å†™ WHERE ä¼šåˆ å…‰å…¨è¡¨ï¼ <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> **æ”¹ <span class=o>(</span>Update<span class=o>)</span>** <span class=p>|</span> <span class=sb>`</span>UPDATE students SET <span class=nv>score</span> <span class=o>=</span> <span class=m>100</span> WHERE <span class=nv>name</span> <span class=o>=</span> <span class=s1>&#39;å¼ ä¸‰&#39;</span><span class=p>;</span><span class=sb>`</span> <span class=p>|</span> **è­¦æŠ¥ï¼š** æ²¡å†™ WHERE ä¼šæ”¹å…¨è¡¨ï¼ <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> **æŸ¥ <span class=o>(</span>Read<span class=o>)</span>** <span class=p>|</span> <span class=sb>`</span>SELECT * FROM students<span class=p>;</span><span class=sb>`</span> <span class=p>|</span> <span class=sb>`</span>*<span class=sb>`</span> ä»£è¡¨æ‰€æœ‰åˆ—ã€‚ <span class=p>|</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>### 2\. ç­›é€‰ä¸æ’åº (Filtering &amp; Sorting)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ç²¾å‡†æ‰¾åˆ°ä½ æƒ³è¦çš„æ•°æ®ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  * **ç²¾ç¡®æŸ¥æ‰¾**ï¼š<span class=sb>`</span>WHERE <span class=nv>score</span> <span class=o>=</span> 100<span class=sb>`</span>
</span></span><span class=line><span class=cl>  * **å¤šæ¡ä»¶**ï¼š<span class=sb>`</span>WHERE score &gt; <span class=m>60</span> AND <span class=nv>gender</span> <span class=o>=</span> <span class=s1>&#39;ç”·&#39;</span><span class=sb>`</span>
</span></span><span class=line><span class=cl>  * **èŒƒå›´æŸ¥æ‰¾**ï¼š<span class=sb>`</span>WHERE score BETWEEN <span class=m>80</span> AND 90<span class=sb>`</span>
</span></span><span class=line><span class=cl>  * **åˆ—è¡¨æŸ¥æ‰¾**ï¼š<span class=sb>`</span>WHERE name IN <span class=o>(</span><span class=s1>&#39;å¼ ä¸‰&#39;</span>, <span class=s1>&#39;æå››&#39;</span><span class=o>)</span><span class=sb>`</span>
</span></span><span class=line><span class=cl>  * **æ¨¡ç³Šæœç´¢**ï¼š<span class=sb>`</span>WHERE name LIKE <span class=s1>&#39;å¼ %&#39;</span><span class=sb>`</span> <span class=o>(</span>å§“å¼ çš„ï¼Œåé¢è·Ÿä»»æ„å­—ç¬¦<span class=o>)</span>
</span></span><span class=line><span class=cl>  * **æ’åº**ï¼š<span class=sb>`</span>ORDER BY score DESC<span class=sb>`</span> <span class=o>(</span>é™åºï¼šå¤§â†’å°<span class=o>)</span> / <span class=sb>`</span>ASC<span class=sb>`</span> <span class=o>(</span>å‡åºï¼šå°â†’å¤§<span class=o>)</span>
</span></span><span class=line><span class=cl>  * **é™åˆ¶æ•°é‡**ï¼š<span class=sb>`</span>LIMIT 3<span class=sb>`</span> <span class=o>(</span>åªçœ‹å‰ <span class=m>3</span> ä¸ª<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>### 3\. æ•°æ®ç»Ÿè®¡ (Aggregation)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>åšæŠ¥è¡¨å¿…å¤‡ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  * **è®¡æ•°**ï¼š<span class=sb>`</span>COUNT<span class=o>(</span>*<span class=o>)</span><span class=sb>`</span> <span class=o>(</span>æ•°æœ‰å¤šå°‘è¡Œ<span class=o>)</span>
</span></span><span class=line><span class=cl>  * **å¹³å‡å€¼**ï¼š<span class=sb>`</span>AVG<span class=o>(</span>score<span class=o>)</span><span class=sb>`</span>
</span></span><span class=line><span class=cl>  * **æœ€å¤§/å°**ï¼š<span class=sb>`</span>MAX<span class=o>(</span>score<span class=o>)</span><span class=sb>`</span> / <span class=sb>`</span>MIN<span class=o>(</span>score<span class=o>)</span><span class=sb>`</span>
</span></span><span class=line><span class=cl>  * **å»é‡**ï¼š<span class=sb>`</span>DISTINCT name<span class=sb>`</span> <span class=o>(</span>å»æ‰é‡å¤çš„åå­—<span class=o>)</span>
</span></span><span class=line><span class=cl>  * **åˆ†ç»„ç»Ÿè®¡**ï¼š
</span></span><span class=line><span class=cl>   
</span></span><span class=line><span class=cl>    SELECT class, AVG<span class=o>(</span>score<span class=o>)</span> FROM students
</span></span><span class=line><span class=cl>    GROUP BY class           -- æŒ‰ç­çº§åˆ†ç»„
</span></span><span class=line><span class=cl>    HAVING AVG<span class=o>(</span>score<span class=o>)</span> &gt; 80<span class=p>;</span>  -- ç­›é€‰åˆ†ç»„åçš„ç»“æœ <span class=o>(</span>ä¸ç”¨ WHERE!<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=4-å¤šè¡¨è¿æ¥-joins>4. å¤šè¡¨è¿æ¥ (Joins)</h3><p>æŠŠæ•£è½åœ¨ä¸åŒè¡¨çš„æ•°æ®æ‹¼èµ·æ¥ã€‚</p><ul><li><strong>å†…è¿æ¥ (INNER JOIN)</strong>ï¼š<strong>â€œäº¤é›†â€</strong>ã€‚ä¸¤è¾¹éƒ½æœ‰æ‰æ˜¾ç¤ºã€‚<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>teacher</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>students</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INNER</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>classes</span><span class=w> </span><span class=k>c</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>class_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>id</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><strong>å·¦è¿æ¥ (LEFT JOIN)</strong>ï¼š<strong>â€œå·¦è¾¹ä¸ºä¸»â€</strong>ã€‚ä¸ç®¡å³è¾¹æœ‰æ²¡æœ‰ï¼Œå·¦è¾¹å…¨ä¿ç•™ï¼ˆå³è¾¹æ‰¾ä¸åˆ°å¡« NULLï¼‰ã€‚<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>teacher</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>students</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>classes</span><span class=w> </span><span class=k>c</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>class_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>id</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=5-è¡¨ç»“æ„ç®¡ç†-ddl>5. è¡¨ç»“æ„ç®¡ç† (DDL)</h3><p>æ¶æ„å¸ˆæŠ€èƒ½åŒ…ã€‚</p><ul><li><strong>å»ºè¡¨ (Create)</strong>ï¼š<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>users</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=p>,</span><span class=w> </span><span class=c1>-- ä¸»é”®ï¼Œè‡ªåŠ¨å¢é•¿
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>         </span><span class=c1>-- å¿…å¡«
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>class_id</span><span class=w> </span><span class=nb>INT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><strong>ä¿®æ”¹è¡¨ (Alter)</strong>ï¼š<ul><li><strong>åŠ åˆ—</strong>ï¼š<code>ALTER TABLE users ADD age INT;</code></li><li><strong>æ”¹åˆ—</strong>ï¼š<code>ALTER TABLE users MODIFY name VARCHAR(100);</code></li><li><strong>åˆ åˆ—</strong>ï¼š<code>ALTER TABLE users DROP COLUMN age;</code></li></ul></li><li><strong>åˆ è¡¨ (Drop)</strong>ï¼š<code>DROP TABLE users;</code> (æ…ç”¨ï¼æ•°æ®å…¨æ²¡)</li></ul><h3 id=6-è¿›é˜¶é»‘ç§‘æŠ€-advanced>6. è¿›é˜¶é»‘ç§‘æŠ€ (Advanced)</h3><p>æå‡æ€§èƒ½ä¸é€»è¾‘ã€‚</p><ul><li><strong>åˆ›å»ºç´¢å¼• (æé€Ÿ)</strong>ï¼š
<code>CREATE INDEX idx_name ON users (name);</code></li><li><strong>å­æŸ¥è¯¢ (å¥—å¨ƒ)</strong>ï¼š<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- æ‰¾å‡ºæ¯”å¹³å‡åˆ†é«˜çš„äºº
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>students</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=k>AVG</span><span class=p>(</span><span class=n>score</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>students</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><strong>å¤–é”® (å®‰å…¨é”)</strong>ï¼š
åœ¨ <code>CREATE TABLE</code> æ—¶ä½¿ç”¨ï¼š
<code>FOREIGN KEY (class_id) REFERENCES classes(id)</code></li></ul></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>æœ¬æ–‡é‡‡ç”¨ CC BY-NC-SA 4.0 è®¸å¯åè®®</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article><a href=/utility/ansible/><div class=article-details><h2 class=article-title>Ansible</h2></div></a></article><article><a href=/utility/jenkins/><div class=article-details><h2 class=article-title>Jenkins</h2></div></a></article><article><a href=/utility/nfs/><div class=article-details><h2 class=article-title>NFS</h2></div></a></article><article><a href=/utility/prometheus-/><div class=article-details><h2 class=article-title>Prometheus</h2></div></a></article><article><a href=/utility/tomcat/><div class=article-details><h2 class=article-title>Tomcat</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo data-repo-id data-category data-category-id data-mapping=title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2025 Â© 2025 win. ä¿ç•™æ‰€æœ‰æƒåˆ©.</section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.31.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>